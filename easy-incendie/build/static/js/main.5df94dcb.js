/*! For license information please see main.5df94dcb.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},150:(e,t,n)=>{n.d(t,{MF:()=>de,j6:()=>ae,xZ:()=>oe,om:()=>se,Sx:()=>fe,Wp:()=>he,KO:()=>pe});var r=n(812),i=n(443),s=n(700),a=n(555);let o,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),v(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(y(this),t,...r);return d.set(s,t.sort?t.sort():[t]),v(s)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});u.set(e,t)}(e),t=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,p):e);var t}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(v(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),f.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),f.set(t,e)),t}const y=e=>f.get(e);const b=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],w=new Map;function _(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=x.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return w.set(t,s),s}p=(e=>(0,a.A)((0,a.A)({},e),{},{get:(t,n,r)=>_(t,n)||e.get(t,n,r),has:(t,n)=>!!_(t,n)||e.has(t,n)}))(p);class k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const N="@firebase/app",E="0.10.13",S=new i.Vy("@firebase/app"),C="@firebase/app-compat",T="@firebase/analytics-compat",j="@firebase/analytics",I="@firebase/app-check-compat",A="@firebase/app-check",R="@firebase/auth",P="@firebase/auth-compat",O="@firebase/database",D="@firebase/data-connect",L="@firebase/database-compat",M="@firebase/functions",F="@firebase/functions-compat",V="@firebase/installations",U="@firebase/installations-compat",z="@firebase/messaging",B="@firebase/messaging-compat",q="@firebase/performance",H="@firebase/performance-compat",W="@firebase/remote-config",K="@firebase/remote-config-compat",G="@firebase/storage",Q="@firebase/storage-compat",X="@firebase/firestore",Y="@firebase/vertexai-preview",$="@firebase/firestore-compat",J="firebase",Z="[DEFAULT]",ee={[N]:"fire-core",[C]:"fire-core-compat",[j]:"fire-analytics",[T]:"fire-analytics-compat",[A]:"fire-app-check",[I]:"fire-app-check-compat",[R]:"fire-auth",[P]:"fire-auth-compat",[O]:"fire-rtdb",[D]:"fire-data-connect",[L]:"fire-rtdb-compat",[M]:"fire-fn",[F]:"fire-fn-compat",[V]:"fire-iid",[U]:"fire-iid-compat",[z]:"fire-fcm",[B]:"fire-fcm-compat",[q]:"fire-perf",[H]:"fire-perf-compat",[W]:"fire-rc",[K]:"fire-rc-compat",[G]:"fire-gcs",[Q]:"fire-gcs-compat",[X]:"fire-fst",[$]:"fire-fst-compat",[Y]:"fire-vertex","fire-js":"fire-js",[J]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(up){S.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),up)}}function se(e){const t=e.name;if(re.has(t))return S.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oe(e){return void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new s.FA("app","Firebase",le);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const de="10.14.1";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:Z,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ce.create("bad-app-name",{appName:String(a)});if(n||(n=(0,s.T9)()),!n)throw ce.create("no-options");const o=te.get(a);if(o){if((0,s.bD)(n,o.options)&&(0,s.bD)(i,o.config))return o;throw ce.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of re.values())l.addComponent(r);const c=new ue(n,i,l);return te.set(a,c),c}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const t=te.get(e);if(!t&&e===Z&&(0,s.T9)())return he();if(!t)throw ce.create("no-app",{appName:e});return t}function pe(e,t,n){var i;let s=null!==(i=ee[e])&&void 0!==i?i:e;n&&(s+="-".concat(n));const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void S.warn(e.join(" "))}se(new r.uA("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const me="firebase-heartbeat-store";let ge=null;function ve(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=v(a);return r&&a.addEventListener("upgradeneeded",e=>{r(v(a.result),e.oldVersion,e.newVersion,v(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(me)}catch(up){console.warn(up)}}}).catch(e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})})),ge}async function ye(e,t){try{const n=(await ve()).transaction(me,"readwrite"),r=n.objectStore(me);await r.put(t,be(e)),await n.done}catch(up){if(up instanceof s.g)S.warn(up.message);else{const t=ce.create("idb-set",{originalErrorMessage:null===up||void 0===up?void 0:up.message});S.warn(t.message)}}}function be(e){return"".concat(e.name,"!").concat(e.options.appId)}class xe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _e(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=we();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(up){S.warn(up)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=we(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ke(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ke(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(up){return S.warn(up),""}}}function we(){return(new Date).toISOString().substring(0,10)}class _e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ve()).transaction(me),n=await t.objectStore(me).get(be(e));return await t.done,n}catch(up){if(up instanceof s.g)S.warn(up.message);else{const t=ce.create("idb-get",{originalErrorMessage:null===up||void 0===up?void 0:up.message});S.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ke(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Ne;Ne="",se(new r.uA("platform-logger",e=>new k(e),"PRIVATE")),se(new r.uA("heartbeat",e=>new xe(e),"PRIVATE")),pe(N,E,Ne),pe(N,E,"esm2017"),pe("fire-js","")},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!N.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),j(a,t,i,"",function(e){return e})):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=j(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=j(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!N.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,P(_);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,E=null,S=-1,C=5,T=-1;function j(){return!(t.unstable_now()-T<C)}function I(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?k():(N=!1,E=null)}}else N=!1}if("function"===typeof b)k=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=I,k=function(){R.postMessage(null)}}else k=function(){v(I,0)};function P(e){E=e,N||(N=!0,k())}function O(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,O(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(_))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},443:(e,t,n)=>{n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},555:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},579:(e,t,n)=>{e.exports=n(153)},700:(e,t,n)=>{n.d(t,{Am:()=>A,FA:()=>S,Fy:()=>m,I9:()=>R,Im:()=>T,Ku:()=>M,T9:()=>h,Tj:()=>u,Uj:()=>a,XA:()=>f,ZQ:()=>g,bD:()=>j,c1:()=>y,cY:()=>p,eX:()=>N,g:()=>E,hp:()=>P,jZ:()=>v,lT:()=>w,lV:()=>x,nr:()=>_,sr:()=>b,tD:()=>O,u:()=>o,yU:()=>d,zW:()=>k});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==l)throw new s;const c=t<<2|a>>4;if(r.push(c),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(up){console.error("base64Decode failed: ",up)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyA3WWtYaS40SIrSqfvjMy7VfJHCxAufovY",REACT_APP_FIREBASE_APP_ID:"1:700072825516:web:916ff03677514d569e0509",REACT_APP_FIREBASE_AUTH_DOMAIN:"easylog-pro.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"700072825516",REACT_APP_FIREBASE_PROJECT_ID:"easylog-pro",REACT_APP_FIREBASE_STORAGE_BUCKET:"easylog-pro.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(up){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(up){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(up))}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function x(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(up){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){try{return"object"===typeof indexedDB}catch(up){return!1}}function N(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(C,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new E(n,s,t)}}const C=/\{\$([^}]+)}/g;function T(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function j(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(I(n)&&I(s)){if(!j(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I(e){return null!==e&&"object"===typeof e}function A(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function R(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function P(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function O(e,t){const n=new D(e,t);return n.subscribe.bind(n)}class D{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(up){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(up){"undefined"!==typeof console&&console.error&&console.error(up)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L(){}function M(e){return e&&e._delegate?e._delegate:e}},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(gp){var t=gp.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(hp){var r=hp}Reflect.construct(e,[],t)}else{try{t.call()}catch(hp){r=hp}e.call(t.prototype)}else{try{throw Error()}catch(hp){r=hp}e()}}catch(hp){if(hp&&r&&"string"===typeof hp.stack){for(var i=hp.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case E:return"Profiler";case N:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(gp){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(ut){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,_e=null,ke=null;function Ne(e){if(e=bi(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),we(e.stateNode,e.type,t))}}function Ee(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Se(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ce(e,t){return e(t)}function Te(){}var je=!1;function Ie(e,t,n){if(je)return e(t,n);je=!0;try{return Ce(e,t,n)}finally{je=!1,(null!==_e||null!==ke)&&(Te(),Se())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(fp){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Me=!1,Fe=null,Ve={onError:function(e){De=!0,Le=e}};function Ue(e,t,n,r,i,s,a,o,l){De=!1,Le=null,Oe.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,Ze=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ot|0)|0},at=Math.log,ot=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,kt,Nt,Et,St=!1,Ct=[],Tt=null,jt=null,It=null,At=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Et(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){St=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==jt&&Ft(jt)&&(jt=null),null!==It&&Ft(It)&&(It=null),At.forEach(Vt),Rt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==jt&&zt(jt,e),null!==It&&zt(It,e),At.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=x.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return jt=Lt(jt,e,t,n,r,i),!0;case"mouseover":return It=Lt(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Xt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=yi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),xn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Nn}var Sn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Sn),Tn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(An),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Mn=u&&(!On||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Xn(e){if(G(xi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Wn(t,Gn,e,xe(e)),Ie(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function sr(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(xp){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Nr={};function Er(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return kr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Er("animationend"),Cr=Er("animationiteration"),Tr=Er("animationstart"),jr=Er("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ir.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Or=Ar[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Le;De=!1,Le=null,Me||(Me=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ie(function(){var r=s,i=xe(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Sr:case Cr:case Tr:l=vn;break;case jr:l=In;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:xi(l),f=null==c?o:xi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Hn(o))if($n)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Ae(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ae(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Ae(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var _i=[],ki=-1;function Ni(e){return{current:e}}function Ei(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Si(e,t){ki++,_i[ki]=e.current,e.current=t}var Ci={},Ti=Ni(Ci),ji=Ni(!1),Ii=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(ji),Ei(Ti)}function Oi(e,t,n){if(Ti.current!==Ci)throw Error(s(168));Si(Ti,t),Si(ji,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ii=Ti.current,Si(Ti,e),Si(ji,ji.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ei(ji),Ei(Ti),Si(Ti,e)):Ei(ji),Si(ji,n)}var Fi=null,Vi=!1,Ui=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(up){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Je,Bi),up}finally{bt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Xi=null,Yi=1,$i="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=$i,Gi[Qi++]=Xi,Xi=e;var r=Yi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var s=32-st(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-st(t)+i|n<<i|r,$i=s+e}else Yi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Xi;)Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&Ji(i,m),c}function g(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((s=Dc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case R:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(D(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var xs=bs(!0),ws=bs(!1),_s=Ni(null),ks=null,Ns=null,Es=null;function Ss(){Es=Ns=ks=null}function Cs(e){var t=_s.current;Ei(_s),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){ks=e,Es=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===ks)throw Error(s(308));Ns=e,ks.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var As=null;function Rs(e){null===As?As=[e]:As.push(e)}function Ps(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Ws=Ni(Hs),Ks=Ni(Hs),Gs=Ni(Hs);function Qs(e){if(e===Hs)throw Error(s(174));return e}function Xs(e,t){switch(Si(Gs,t),Si(Ks,e),Si(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ws),Si(Ws,t)}function Ys(){Ei(Ws),Ei(Ks),Ei(Gs)}function $s(e){Qs(Gs.current);var t=Qs(Ws.current),n=le(t,e.type);t!==n&&(Si(Ks,e),Si(Ws,n))}function Js(e){Ks.current===e&&(Ei(Ws),Ei(Ks))}var Zs=Ni(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=$a,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function ka(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Da(Sa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ia(9,Ea.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(s(349));0!==(30&sa)||Na(n,t,i)}return i}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ta(e)}function Sa(e,t,n){return n(function(){Ca(t)&&Ta(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(xp){return!0}}function Ta(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function ja(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return ya().memoizedState}function Ra(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Ia(t,n,s,r))}aa.flags|=e,i.memoizedState=Ia(1|t,n,s,r)}function Oa(e,t){return Ra(8390656,8,e,t)}function Da(e,t){return Pa(2048,8,e,t)}function La(e,t){return Pa(4,2,e,t)}function Ma(e,t){return Pa(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Fa.bind(null,t,e),n)}function Ua(){}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Wa(){return ya().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Xa(t,n);else if(null!==(n=Ps(e,t,n,r))){nc(n,e,r,ec()),Ya(n,t,r)}}function Ga(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Xa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(hp){}null!==(n=Ps(e,t,i,r))&&(nc(n,e,r,i=ec()),Ya(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Xa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var $a={readContext:Is,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ja={readContext:Is,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:ja,useDebugValue:Ua,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===jl)throw Error(s(349));0!==(30&sa)||Na(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Oa(Sa.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=jl.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Is,useCallback:za,useContext:Is,useEffect:Da,useImperativeHandle:Va,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:xa,useRef:Aa,useState:function(){return xa(ba)},useDebugValue:Ua,useDeferredValue:function(e){return qa(ya(),oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:ka,useId:Wa,unstable_isNewReconciler:!1},eo={readContext:Is,useCallback:za,useContext:Is,useEffect:Da,useImperativeHandle:Va,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:wa,useRef:Aa,useState:function(){return wa(ba)},useDebugValue:Ua,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:qa(t,oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:ka,useId:Wa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(i=Ri(t)?Ii:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Is(s):(s=Ri(t)?Ii:Ti.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(wp){i="\nError generating stack: "+wp.message+"\n"+wp.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(gp){setTimeout(function(){throw gp})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?ws(t,null,n,r):xs(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return js(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function _o(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return So(e,t,n,r,i)}function No(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Pl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Pl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Pl,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Pl,Rl),Rl|=r;return xo(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,i){var s=Ri(n)?Ii:Ti.current;return s=Ai(t,s),js(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Co(e,t,n,r,i){if(Ri(n)){var s=!0;Li(t)}else s=!1;if(js(t,i),null===t.stateNode)qo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Is(c):c=Ai(t,c=Ri(n)?Ii:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Ds=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||ji.current||Ds?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ds||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Is(l):l=Ai(t,l=Ri(n)?Ii:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Ds=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||ji.current||Ds?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ds||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,i)}function To(e,t,n,r,i,s){Eo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Ho(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,o,s)):xo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function jo(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Xs(e,t.containerInfo)}function Io(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xo(e,t,n,r),t.child}var Ao,Ro,Po,Oo,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Dc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Do,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=jl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Os(e,i),nc(r,e,i,-1))}return mc(),Vo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=$i,Gi[Qi++]=Xi,Yi=e.id,$i=e.overflow,Xi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Pc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Pc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ps(r),xs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Ko(t),null;case 3:return r=t.stateNode,Ys(),Ei(ji),Ei(Ti),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ro(e,t),Ko(t),null;case 5:Js(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=Qs(Ws.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Gs.current),Qs(Ws.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ko(t),null;case 13:if(Ei(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Ys(),Ro(e,t),null===e&&Br(t.stateNode.containerInfo),Ko(t),null;case 10:return Cs(t.type._context),Ko(t),null;case 19:if(Ei(Zs),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Wo(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Wo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Bl&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ko(t),null}else 2*Ye()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Si(Zs,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Ei(ji),Ei(Ti),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ei(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Zs),null;case 4:return Ys(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Po=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ws.current);var s,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,Yo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(xp){Nc(e,t,xp)}else n.current=null}function el(e,t,n){try{n()}catch(xp){Nc(e,t,xp)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(kp){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(kp){Nc(n,t,kp)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,hl(e,t,n),Yo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(hp){Nc(i,t,hp)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(dp){Nc(e,e.return,dp)}try{nl(5,e,e.return)}catch(dp){Nc(e,e.return,dp)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(dp){Nc(e,e.return,dp)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),ye(l,o);var u=ye(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(dp){Nc(e,e.return,dp)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(dp){Nc(e,e.return,dp)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(dp){Nc(e,e.return,dp)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||d,ml(t,e),Yo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(dp){Nc(r,n,dp)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Jo=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(dp){Nc(e,e.return,dp)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(dp){Nc(e,e.return,dp)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Xo;var c=Yo;if(Xo=a,(Yo=l)&&!c)for(Jo=i;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Jo=l):_l(i);for(;null!==s;)Jo=s,bl(s,t,n),s=s.sibling;Jo=i,Xo=o,Yo=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):xl(e)}}function xl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&il(t)}catch(f){Nc(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function wl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function _l(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Nc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Nc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Nc(t,a,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var kl,Nl=Math.ceil,El=x.ReactCurrentDispatcher,Sl=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,Tl=0,jl=null,Il=null,Al=0,Rl=0,Pl=Ni(0),Ol=0,Dl=null,Ll=0,Ml=0,Fl=0,Vl=null,Ul=null,zl=0,Bl=1/0,ql=null,Hl=!1,Wl=null,Kl=null,Gl=!1,Ql=null,Xl=0,Yl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Ye():-1!==Jl?Jl:Jl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Al?Al&-Al:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&Tl)&&e===jl||(e===jl&&(0===(2&Tl)&&(Ml|=n),4===Ol&&oc(e,Al)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=Ye()+500,Vi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-st(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===jl?Al:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai(function(){0===(6&Tl)&&Bi()}),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=jc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var a=pc();for(jl===e&&Al===t||(ql=null,Bl=Ye()+500,hc(e,t));;)try{yc();break}catch(kp){fc(e,kp)}Ss(),El.current=a,Tl=i,null!==Il?t=0:(jl=null,Al=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Dl,hc(e,0),oc(e,r),rc(e,Ye()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Dl,hc(e,0),oc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ul,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Ul,ql),t);break}wc(e,Ul,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Ul,ql),r);break}wc(e,Ul,ql);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(s(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Dl,hc(e,0),oc(e,t),rc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,ql),rc(e,Ye()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=Ye()+500,Vi&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&_c();var t=Tl;Tl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Tl=t))&&Bi()}}function dc(){Rl=Pl.current,Ei(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Ys(),Ei(ji),Ei(Ti),na();break;case 5:Js(r);break;case 4:Ys();break;case 13:case 19:Ei(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Il=e=Pc(e.current,null),Al=Rl=t,Ol=0,Dl=null,Fl=Ml=Ll=0,Ul=Vl=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}As=null}return e}function fc(e,t){for(;;){var n=Il;try{if(Ss(),ra.current=$a,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,Sl.current=null,null===n||null===n.return){Ol=1,Dl=t,Il=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Ol&&(Ol=2),null===Vl?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=$a,null===e?$a:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===jl||0===(268435455&Ll)&&0===(268435455&Ml)||oc(jl,Al)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(jl===e&&Al===t||(ql=null,hc(e,t));;)try{vc();break}catch(up){fc(e,up)}if(Ss(),Tl=n,El.current=r,null!==Il)throw Error(s(261));return jl=null,Al=0,Ol}function vc(){for(;null!==Il;)bc(Il)}function yc(){for(;null!==Il&&!Qe();)bc(Il)}function bc(e){var t=kl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?xc(e):Il=t,Sl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Rl)))return void(Il=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Ol=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Ql);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===jl&&(Il=jl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,jc(et,function(){return _c(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=Tl;Tl|=4,Sl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Tl=l,bt=o,Cl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Xl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function _c(){if(null!==Ql){var e=xt(Xl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Xl=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var f=(d=Jo).sibling,p=d.return;if(sl(d),d===u){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Jo=y;break e}Jo=a.return}}var b=e.current;for(Jo=b;null!==Jo;){var x=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Jo=x;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Nc(l,l.return,_)}if(l===o){Jo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Jo=w;break e}Jo=l.return}}if(Tl=i,Bi(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(_){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function kc(e,t,n){e=Vs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Vs(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Al&n)===n&&(4===Ol||3===Ol&&(130023424&Al)===Al&&500>Ye()-zl?hc(e,0):Fl|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=ec();null!==(e=Os(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function jc(e,t){return Ke(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Ic(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Dc(n.children,i,a,t);case N:o=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=a,e;case j:return(e=Ac(13,n,t,i)).elementType=j,e.lanes=a,e;case I:return(e=Ac(19,n,t,i)).elementType=I,e.lanes=a,e;case P:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case T:o=11;break e;case A:o=14;break e;case R:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,a,o,l){return e=new Vc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,a))&&(nc(e,i,a,s),Us(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:jo(t),fs();break;case 5:$s(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Si(Zs,1&Zs.current),null!==(e=Ho(e,t,n))?e.sibling:null);Si(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Ai(t,Ti.current);js(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),i){case 0:t=So(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(jo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Io(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Io(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ho(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Eo(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Si(_s,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!ji.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,js(t,n),r=r(i=Is(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),qo(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,js(t,n),so(t,r,i),oo(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return No(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(a)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Tl)&&(Bl=Ye()+500,Bi()))}break;case 13:uc(function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Nt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ee,Se,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(nu),it=ru}catch(fp){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},786:(e,t,n)=>{n.d(t,{getAuth:()=>Nn,hg:()=>at,sendPasswordResetEmail:()=>it,signInWithEmailAndPassword:()=>st,signOut:()=>ot});var r=n(150),i=n(700),s=n(443);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=n(812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new s.Vy("@firebase/auth");function h(e){if(d.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw v(e,...n)}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v(e,...n)}function m(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return u.create(e,...n)}function y(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw v(t,...r)}}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function x(e,t){e||b(t)}function w(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class N{constructor(e,t){this.shortDelay=e,this.longDelay=t,x(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function E(e,t){x(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class S{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},T=new N(3e4,6e4);function j(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function I(e,t,n,r){return A(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},a={};r&&("GET"===t?a=r:s={body:JSON.stringify(r)});const o=(0,i.Am)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},s);return(0,i.c1)()||(c.referrerPolicy="no-referrer"),S.fetch()(P(e,e.config.apiHost,n,o),c)})}async function A(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},C),t);try{const t=new D(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw L(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw L(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw L(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw L(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw m(e,o,a);f(e,o)}}catch(up){if(up instanceof i.g)throw up;f(e,"network-request-failed",{message:String(up)})}}async function R(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await I(e,t,n,r,i);return"mfaPendingCredential"in s&&f(e,"multi-factor-auth-required",{_serverResponse:s}),s}function P(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?E(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function O(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),T.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function L(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(e,t,r);return i.customData._tokenResponse=n,i}function M(e){return void 0!==e&&void 0!==e.enterprise}class F{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function V(e,t){return I(e,"GET","/v2/recaptchaConfig",j(e,t))}async function U(e,t){return I(e,"POST","/v1/accounts:lookup",t)}function z(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(up){}}function B(e){return 1e3*Number(e)}function q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(up){return h("Caught error parsing JWT payload as JSON",null===up||void 0===up?void 0:up.toString()),null}}function H(e){const t=q(e);return y(t,"internal-error"),y("undefined"!==typeof t.exp,"internal-error"),y("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function W(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(up){throw up instanceof i.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(up)&&e.auth.currentUser===e&&await e.auth.signOut(),up}}class K{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(up){return void((null===up||void 0===up?void 0:up.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class G{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=z(this.lastLoginAt),this.creationTime=z(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Q(e){var t;const n=e.auth,r=await e.getIdToken(),i=await W(e,U(n,{idToken:r}));y(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?X(s.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new G(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function X(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y("undefined"!==typeof e.idToken,"internal-error"),y("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):H(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");const t=H(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await A(e,{},async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=P(e,r,"/v1/token","key=".concat(s)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",S.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Y;return n&&(y("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(y("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(y("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return b("not implemented")}}function $(e,t){y("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class J{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new G(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await W(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),s=q(r);y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a="object"===typeof s.firebase?s.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:z(B(s.auth_time)),issuedAtTime:z(B(s.iat)),expirationTime:z(B(s.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await Q(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new J(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Q(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await W(this,async function(e,t){return I(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:x,isAnonymous:w,providerData:_,stsTokenManager:k}=t;y(b&&k,e,"internal-error");const N=Y.fromJSON(this.name,k);y("string"===typeof b,e,"internal-error"),$(u,e.name),$(d,e.name),y("boolean"===typeof x,e,"internal-error"),y("boolean"===typeof w,e,"internal-error"),$(h,e.name),$(f,e.name),$(p,e.name),$(m,e.name),$(g,e.name),$(v,e.name);const E=new J({uid:b,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:N,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Y;r.updateFromServerResponse(t);const i=new J({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Q(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];y(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?X(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Y;a.updateFromIdToken(n);const o=new J({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new G(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Z=new Map;function ee(e){x(e instanceof Function,"Expected a class definition");let t=Z.get(e);return t?(x(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Z.set(e,t),t)}class te{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}te.type="NONE";const ne=te;function re(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ie{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=re(this.userKey,r.apiKey,i),this.fullPersistenceKey=re("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?J._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ie(ee(ne),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ee(ne);const s=re(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=J._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new ie(i,e,n)):new ie(i,e,n)}}function se(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ce(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(de(t))return"Blackberry";if(he(t))return"Webos";if(oe(t))return"Safari";if((t.includes("chrome/")||le(t))&&!t.includes("edge/"))return"Chrome";if(ue(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function oe(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return fe(e)||ue(e)||he(e)||de(e)||/windows phone/i.test(e)||ce(e)}function me(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=se((0,i.ZQ)());break;case"Worker":t="".concat(se((0,i.ZQ)()),"-").concat(e);break;default:t=e}const s=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(s)}class ge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(up){r(up)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(up){t.reverse();for(const n of t)try{n()}catch(Yp){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===up||void 0===up?void 0:up.message})}}}class ve{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ye{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xe(this),this.idTokenSubscription=new xe(this),this.beforeStateQueue=new ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ee(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(up){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await U(this,{idToken:e}),n=await J._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==r||!(null===a||void 0===a?void 0:a.user)||(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(up){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(up))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(up){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Q(e)}catch(up){if((null===up||void 0===up?void 0:up.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,i.Ku)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ee(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return I(e,"GET","/v2/passwordPolicy",j(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ve(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return I(e,"POST","/v2/accounts:revokeToken",j(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ee(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[ee(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(d.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function be(e){return(0,i.Ku)(e)}class xe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let we={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _e(e){return we.loadJS(e)}function ke(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ne{constructor(e){this.type="recaptcha-enterprise",this.auth=be(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;M(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{V(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new F(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&M(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=we.recaptchaEnterpriseScript;0!==t.length&&(t+=i),_e(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ee(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ne(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Se(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ee(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ee(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function Ce(e,t,n){const r=be(e);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Te(t),{host:a,port:o}=function(e){const t=Te(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:je(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:je(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Te(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function je(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ie{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function Ae(e,t){return I(e,"POST","/v1/accounts:signUp",t)}async function Re(e,t){return R(e,"POST","/v1/accounts:signInWithPassword",j(e,t))}async function Pe(e,t){return I(e,"POST","/v1/accounts:sendOobCode",j(e,t))}async function Oe(e,t){return Pe(e,t)}class De extends Ie{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new De(e,t,"password")}static _fromEmailAndCode(e,t){return new De(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Se(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Re);case"emailLink":return async function(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Se(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ae);case"emailLink":return async function(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Le(e,t){return R(e,"POST","/v1/accounts:signInWithIdp",j(e,t))}class Me extends Ie{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Me(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Me(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Le(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Le(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Le(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}const Fe={USER_NOT_FOUND:"user-not-found"};class Ve extends Ie{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ve({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ve({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return R(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await R(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t));if(n.temporaryProof)throw L(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return R(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Fe)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ve({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ue{constructor(e){var t,n,r,s,a,o;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);y(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=l.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ue(t)}catch(n){return null}}}class ze{constructor(){this.providerId=ze.PROVIDER_ID}static credential(e,t){return De._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ue.parseLink(t);return y(n,"argument-error"),De._fromEmailAndCode(e,n.code,n.tenantId)}}ze.PROVIDER_ID="password",ze.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ze.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Be{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qe extends Be{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class He extends qe{constructor(){super("facebook.com")}static credential(e){return Me._fromParams({providerId:He.PROVIDER_ID,signInMethod:He.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return He.credentialFromTaggedObject(e)}static credentialFromError(e){return He.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return He.credential(t.oauthAccessToken)}catch(n){return null}}}He.FACEBOOK_SIGN_IN_METHOD="facebook.com",He.PROVIDER_ID="facebook.com";class We extends qe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Me._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return We.credential(n,r)}catch(i){return null}}}We.GOOGLE_SIGN_IN_METHOD="google.com",We.PROVIDER_ID="google.com";class Ke extends qe{constructor(){super("github.com")}static credential(e){return Me._fromParams({providerId:Ke.PROVIDER_ID,signInMethod:Ke.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ke.credentialFromTaggedObject(e)}static credentialFromError(e){return Ke.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ke.credential(t.oauthAccessToken)}catch(n){return null}}}Ke.GITHUB_SIGN_IN_METHOD="github.com",Ke.PROVIDER_ID="github.com";class Ge extends qe{constructor(){super("twitter.com")}static credential(e,t){return Me._fromParams({providerId:Ge.PROVIDER_ID,signInMethod:Ge.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ge.credentialFromTaggedObject(e)}static credentialFromError(e){return Ge.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ge.credential(n,r)}catch(i){return null}}}Ge.TWITTER_SIGN_IN_METHOD="twitter.com",Ge.PROVIDER_ID="twitter.com";class Qe{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await J._fromIdTokenResponse(e,n,r),s=Xe(n);return new Qe({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Xe(n);return new Qe({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Xe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ye extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ye.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ye(e,t,n,r)}}function $e(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ye._fromErrorAndOperation(e,n,t,r);throw n})}async function Je(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await W(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qe._forOperation(e,"link",r)}async function Ze(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(g(i));const s="reauthenticate";try{const r=await W(e,$e(i,s,t,e),n);y(r.idToken,i,"internal-error");const a=q(r.idToken);y(a,i,"internal-error");const{sub:o}=a;return y(e.uid===o,i,"user-mismatch"),Qe._forOperation(e,s,r)}catch(up){throw(null===up||void 0===up?void 0:up.code)==="auth/".concat("user-not-found")&&f(i,"user-mismatch"),up}}async function et(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i="signIn",s=await $e(e,i,t),a=await Qe._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}async function tt(e,t){return et(be(e),t)}function nt(e,t,n){var r;y((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),y("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function rt(e){const t=be(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function it(e,t,n){const r=be(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&nt(r,i,n),await Se(r,i,"getOobCode",Oe)}function st(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(g(e)):tt((0,i.Ku)(e),ze.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&rt(e),t})}function at(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function ot(e){return(0,i.Ku)(e).signOut()}new WeakMap;const lt="__sak";class ct{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lt,"1"),this.storage.removeItem(lt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ut extends ct{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ut.type="LOCAL";const dt=ut;class ht extends ct{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ht.type="SESSION";const ft=ht;class pt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new pt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pt.receivers=[];class gt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=mt("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function vt(){return window}function yt(){return"undefined"!==typeof vt().WorkerGlobalScope&&"function"===typeof vt().importScripts}const bt="firebaseLocalStorageDb",xt="firebaseLocalStorage",wt="fbase_key";class _t{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kt(e,t){return e.transaction([xt],t?"readwrite":"readonly").objectStore(xt)}function Nt(){const e=indexedDB.open(bt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(xt,{keyPath:wt})}catch(up){n(up)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(xt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(bt);return new _t(e).toPromise()}(),t(await Nt()))})})}async function Et(e,t,n){const r=kt(e,!0).put({[wt]:t,value:n});return new _t(r).toPromise()}function St(e,t){const n=kt(e,!0).delete(t);return new _t(n).toPromise()}class Ct{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Nt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(up){if(t++>3)throw up;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pt._getInstance(yt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new gt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nt();return await Et(e,lt,"1"),await St(e,lt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Et(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=kt(e,!1).get(t),r=await new _t(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>St(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=kt(e,!1).getAll();return new _t(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ct.type="LOCAL";const Tt=Ct;ke("rcb"),new N(3e4,6e4);const jt="recaptcha";async function It(e,t,n){var r;const i=await n.verify();try{let s;if(y("string"===typeof i,e,"argument-error"),y(n.type===jt,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){y("enroll"===t.type,e,"internal-error");const n=await function(e,t){return I(e,"POST","/v2/accounts/mfaEnrollment:start",j(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;y(n,e,"missing-multi-factor-info");const a=await function(e,t){return I(e,"POST","/v2/accounts/mfaSignIn:start",j(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return I(e,"POST","/v1/accounts:sendVerificationCode",j(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class At{constructor(e){this.providerId=At.PROVIDER_ID,this.auth=be(e)}verifyPhoneNumber(e,t){return It(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Ve._fromVerification(e,t)}static credentialFromResult(e){const t=e;return At.credentialFromTaggedObject(t)}static credentialFromError(e){return At.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ve._fromTokenResponse(n,r):null}}function Rt(e,t){return t?ee(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}At.PROVIDER_ID="phone",At.PHONE_SIGN_IN_METHOD="phone";class Pt extends Ie{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Le(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Le(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Le(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ot(e){return et(e.auth,new Pt(e),e.bypassAuthState)}function Dt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),Ze(n,new Pt(e),e.bypassAuthState)}async function Lt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),Je(n,new Pt(e),e.bypassAuthState)}class Mt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(up){this.reject(up)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(up){this.reject(up)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ot;case"linkViaPopup":case"linkViaRedirect":return Lt;case"reauthViaPopup":case"reauthViaRedirect":return Dt;default:f(this.auth,"internal-error")}}resolve(e){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ft=new N(2e3,1e4);class Vt extends Mt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Vt.currentPopupAction&&Vt.currentPopupAction.cancel(),Vt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){x(1===this.filter.length,"Popup operations only handle one event");const e=mt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ft.get())};e()}}Vt.currentPopupAction=null;const Ut=new Map;class zt extends Mt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ut.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ht(t),r=qt(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(up){e=()=>Promise.reject(up)}Ut.set(this.auth._key(),e)}return this.bypassAuthState||Ut.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Bt(e,t){Ut.set(e._key(),t)}function qt(e){return ee(e._redirectPersistence)}function Ht(e){return re("pendingRedirect",e.config.apiKey,e.name)}async function Wt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=be(e),s=Rt(i,t),a=new zt(i,s,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class Kt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qt(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Qt(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gt(e))}saveEventToCache(e){this.cachedEventUids.add(Gt(e)),this.lastProcessedEventTime=Date.now()}}function Gt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Qt(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Xt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yt=/^https?/;async function $t(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return I(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Jt(r))return}catch(n){}f(e,"unauthorized-domain")}function Jt(e){const t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Yt.test(n))return!1;if(Xt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Zt=new N(3e4,6e4);function en(){const e=vt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function tn(e){return new Promise((t,n)=>{var r,i,s;function a(){en(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{en(),n(p(e,"network-request-failed"))},timeout:Zt.get()})}if(null===(i=null===(r=vt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=vt().gapi)||void 0===s?void 0:s.load)){const t=ke("iframefcb");return vt()[t]=()=>{gapi.load?a():n(p(e,"network-request-failed"))},_e("".concat(we.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw nn=null,e})}let nn=null;const rn=new N(5e3,15e3),sn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},an=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function on(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?E(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),s={apiKey:t.apiKey,appName:e.name,v:r.MF},a=an.get(e.config.apiHost);a&&(s.eid=a);const o=e._getFrameworks();return o.length&&(s.fw=o.join(",")),"".concat(n,"?").concat((0,i.Am)(s).slice(1))}async function ln(e){const t=await function(e){return nn=nn||tn(e),nn}(e),n=vt().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:on(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=p(e,"network-request-failed"),s=vt().setTimeout(()=>{r(i)},rn.get());function a(){vt().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const cn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class un{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(up){}}}function dn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},cn),{width:r.toString(),height:s.toString(),top:a,left:o}),u=(0,i.ZQ)().toLowerCase();n&&(l=le(u)?"_blank":n),ae(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new un(null);const h=window.open(t||"",l,d);y(h,e,"popup-blocked");try{h.focus()}catch(up){}return new un(h)}const hn="__/auth/handler",fn="emulator/auth/handler",pn=encodeURIComponent("fac");async function mn(e,t,n,s,a,o){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:r.MF,eventId:a};if(t instanceof Be){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof qe){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const u=await e._getAppCheckToken(),d=u?"#".concat(pn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(hn);return E(t,fn)}(e),"?").concat((0,i.Am)(c).slice(1)).concat(d)}const gn="webStorageSupport";const vn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ft,this._completeRedirectFn=Wt,this._overrideRedirectResult=Bt}async _openPopup(e,t,n,r){var i;x(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return dn(e,await mn(e,t,n,w(),r),mt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vt().location.href=e}(await mn(e,t,n,w(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(x(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ln(e),n=new Kt(e);return t.register("authEvent",t=>{y(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gn,{type:gn},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[gn];void 0!==i&&t(!!i),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$t(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pe()||oe()||fe()}};var yn="@firebase/auth",bn="1.7.9";class xn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wn=(0,i.XA)("authIdTokenMaxAge")||300;let _n=null;const kn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wn)return;const i=null===n||void 0===n?void 0:n.token;_n!==i&&(_n=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function Nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;f(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:vn,persistence:[Tt,dt,ft]}),s=(0,i.XA)("authTokenSyncURL");if(s&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=kn(e.toString());!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,i.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const a=(0,i.Tj)("auth");return a&&Ce(n,"http://".concat(a)),n}var En;!function(e){we=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),En="Browser",(0,r.om)(new o.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;y(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:En,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(En)},c=new ye(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ee);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new o.uA("auth-internal",e=>(e=>new xn(e))(be(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(yn,bn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(En)),(0,r.KO)(yn,bn,"esm2017")},812:(e,t,n)=>{n.d(t,{h1:()=>o,uA:()=>i});var r=n(700);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(up){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(up){if(r)return null;throw up}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(up){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(up){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(up){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),s=n.t(i,2),a=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(up){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,p=r.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=r.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:x.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let x={get action(){return p},get location(){return e(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(x.location,e,t);n&&n(i,e),g=v()+1;let o=d(i,g),l=x.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&m&&m({action:p,location:x.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(x.location,e,t);n&&n(i,e),g=v();let s=d(i,g),o=x.createHref(i);u.replaceState(s,"",o),a&&m&&m({action:p,location:x.location,delta:0})},go:e=>u.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=R(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=A(i);a=j(s[o],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)}),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=x(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,_=3,k=2,N=1,E=10,S=-2,C=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=S),t&&(r+=k),n.filter(e=>!C(e)).reduce((e,t)=>e+(w.test(t)?_:""===t?N:E),r)}function j(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:U([s,u.pathname]),pathnameBase:z(U([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=U([s,u.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const P=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function O(e,t){void 0===t&&(t="/");let n,{pathname:r,search:i="",hash:s=""}="string"===typeof e?p(e):e;if(r)if(a=r,P.test(a))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),u(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?D(r.substring(1),"/"):D(r,t)}else n=t;var a;return{pathname:n,search:B(i),hash:q(s)}}function D(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function V(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=O(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const U=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],K=(new Set(W),["get",...W]);new Set(K),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const Q=i.createContext(null);const X=i.createContext(null);const Y=i.createContext(null);const $=i.createContext(null);const J=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=i.createContext(null);function ee(){return null!=i.useContext($)}function te(){return ee()||c(!1),i.useContext($).location}function ne(e){i.useContext(Y).static||i.useLayoutEffect(e)}function re(){let{isDataRoute:e}=i.useContext(J);return e?function(){let{router:e}=pe(he.UseNavigateStable),t=ge(fe.UseNavigateStable),n=i.useRef(!1);return ne(()=>{n.current=!0}),i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))},[e,t])}():function(){ee()||c(!1);let e=i.useContext(Q),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:s}=i.useContext(J),{pathname:a}=te(),o=JSON.stringify(F(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return ne(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=V(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:U([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e])}()}const ie=i.createContext(null);function se(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:s}=i.useContext(J),{pathname:a}=te(),o=JSON.stringify(F(s,r.v7_relativeSplatPath));return i.useMemo(()=>V(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function ae(e,t,n,s){ee()||c(!1);let{navigator:a}=i.useContext(Y),{matches:o}=i.useContext(J),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=te();if(t){var m;let e="string"===typeof t?p(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:y});let x=de(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:U([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:U([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&x?i.createElement($.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},x):x}function oe(){let e=function(){var e;let t=i.useContext(Z),n=me(fe.UseRouteError),r=ge(fe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const le=i.createElement(oe,null);class ce extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(J.Provider,{value:this.props.routeContext},i.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(Q);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(J.Provider,{value:t},r)}function de(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let a,c=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||le,u&&(d<0&&0===s?(p="route-fallback",!1||ve[p]||(ve[p]=!0),c=!0,f=null):d===s&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ue,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ce,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),fe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fe||{});function pe(e){let t=i.useContext(Q);return t||c(!1),t}function me(e){let t=i.useContext(X);return t||c(!1),t}function ge(e){let t=function(){let e=i.useContext(J);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const ve={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function be(e){let{to:t,replace:n,state:r,relative:s}=e;ee()||c(!1);let{future:a,static:o}=i.useContext(Y),{matches:l}=i.useContext(J),{pathname:u}=te(),d=re(),h=V(t,F(l,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(h);return i.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function xe(e){return function(e){let t=i.useContext(J).outlet;return t?i.createElement(ie.Provider,{value:e},t):t}(e.context)}function we(e){c(!1)}function _e(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:u}=e;ee()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:d,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,b=i.useMemo(()=>{let e=R(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:a}},[d,f,m,g,v,y,a]);return null==b?null:i.createElement(Y.Provider,{value:h},i.createElement($.Provider,{children:n,value:b}))}function ke(e){let{children:t,location:n}=e;return ae(Ne(t),n)}new Promise(()=>{});i.Component;function Ne(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ne(e.props.children,s));e.type!==we&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ne(e.props.children,s)),n.push(a)}),n}var Ee=n(950),Se=n.t(Ee,2);function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ie=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(up){}const Ae=i.createContext({isTransitioning:!1});new Map;const Re=s.startTransition;Se.flushSync,s.useId;function Pe(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=i.useCallback(e=>{d&&Re?Re(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(p),[l,p]),i.useEffect(()=>ye(r),[r]),i.createElement(_e,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,De=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=Te(e,je),{basename:g}=i.useContext(Y),v=!1;if("string"===typeof d&&De.test(d)&&(n=d,Oe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=R(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(up){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||c(!1);let{basename:r,navigator:s}=i.useContext(Y),{hash:a,pathname:o,search:l}=se(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:U([r,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=re(),u=te(),d=se(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:p});return i.createElement("a",Ce({},m,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))});const Me=i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=e,h=Te(e,Ie),f=se(l,{relative:h.relative}),p=te(),m=i.useContext(X),{navigator:g,basename:v}=i.useContext(Y),y=null!=m&&function(e,t){void 0===t&&(t={});let n=i.useContext(Ae);null==n&&c(!1);let{basename:r}=Ue(Fe.useViewTransitionState),s=se(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=R(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=R(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=I(s.pathname,o)||null!=I(s.pathname,a)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&v&&(w=R(w,v)||w);const _="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,N=x===b||!a&&x.startsWith(b)&&"/"===x.charAt(_),E=null!=w&&(w===b||!a&&w.startsWith(b)&&"/"===w.charAt(b.length)),S={isActive:N,isPending:E,isTransitioning:y},C=N?n:void 0;k="function"===typeof s?s(S):[s,N?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof o?o(S):o;return i.createElement(Le,Ce({},h,{"aria-current":C,className:k,ref:t,style:T,to:l,viewTransition:u}),"function"===typeof d?d(S):d)});var Fe,Ve;function Ue(e){let t=i.useContext(Q);return t||c(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fe||(Fe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ve||(Ve={}));var ze,Be,qe=n(555),He=n(786),We=n(150),Ke=n(812),Ge=n(443),Qe=n(700),Xe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ye={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Be=Ye.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},ze=Ye.Integer=r}).apply("undefined"!==typeof Xe?Xe:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var $e,Je,Ze,et,tt,nt,rt,it,st="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},at={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof st&&st];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout(()=>{throw e},0)}function N(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new S,e=>e.reset());class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(gp){k(gp)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function R(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(gp){}return e}();function D(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(wp){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,P);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new V(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function X(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)X(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;w(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){X(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){P.call(this,"d")}function be(){P.call(this,"c")}d(ye,P),d(be,P);var xe={},we=null;function _e(){return we=we||new ne}function ke(e){P.call(this,xe.La,e)}function Ne(e){const t=_e();re(t,new ke(t))}function Ee(e,t){P.call(this,xe.STAT_EVENT,e),this.stat=t}function Se(e){const t=_e();re(t,new Ee(t,e))}function Ce(e,t){P.call(this,xe.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function je(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(ke,P),xe.STAT_EVENT="statevent",d(Ee,P),xe.Ma="timingevent",d(Ce,P),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Ae,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ae=new Oe;var Me={},Fe={};function Ve(e,t,n){e.L=1,e.v=kt(yt(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),qe(e),e.A=yt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Lt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=Nn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||bn(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||dt(n.h,e)))if(!e.K&&dt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(hp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),ln(n)}mn(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=ct(n.h)&&n.ca){try{n.ca()}catch(hp){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&yn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ht(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,_t(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=kn(r,r.J?r.ia:null,r.W),a.K){ft(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),qe(o)),r.g=a}else pn(r);0<n.i.length&&un(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):on(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(hp){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==nn(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=nn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||rn(this.g)))){this.J||4!=h||7==t||Ne(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=rn(this.g);e="";var s=r.length,a=4==nn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ge(this),Ke(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Se(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),gn(d),d.M=!0,Se(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ie(this.i,this.l,o,null),Qe(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?bn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=nn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ge(this),Ke(this)}}}catch(ot){}},De.prototype.cancel=function(){this.J=!0,Ge(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ne(),Se(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ct(e){return e.h?1:e.g?e.g.size:0}function dt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ht(e,t){e.g?e.g.add(t):e.h=t}function ft(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function mt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=pt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var gt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof vt){this.h=e.h,bt(this,e.j),this.o=e.o,this.g=e.g,xt(this,e.s),this.l=e.l;var t=e.i,n=new Rt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),wt(this,n),this.m=e.m}else e&&(t=String(e).match(gt))?(this.h=!1,bt(this,t[1]||"",!0),this.o=Nt(t[2]||""),this.g=Nt(t[3]||"",!0),xt(this,t[4]),this.l=Nt(t[5]||"",!0),wt(this,t[6]||"",!0),this.m=Nt(t[7]||"")):(this.h=!1,this.i=new Rt(null,this.h))}function yt(e){return new vt(e)}function bt(e,t,n){e.j=n?Nt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function wt(e,t,n){t instanceof Rt?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ot(this,t),Lt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Et(t,It)),e.i=new Rt(t,e.h))}function _t(e,t,n){e.i.set(t,n)}function kt(e){return _t(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Et(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,St),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function St(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Et(t,Ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Et(t,Ct,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Et(n,"/"==n.charAt(0)?jt:Tt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Et(n,At)),e.join("")};var Ct=/[#\/\?@]/g,Tt=/[#\?:]/g,jt=/[#\?]/g,It=/[#\?@]/g,At=/#/g;function Rt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ot(e,t){Pt(e),t=Mt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Dt(e,t){return Pt(e),t=Mt(e,t),e.g.has(t)}function Lt(e,t,n){Ot(e,t),0<n.length&&(e.i=null,e.g.set(Mt(e,t),h(n)),e.h+=n.length)}function Mt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ft(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(wp){}}function Vt(){this.g=new fe}function Ut(e,t,n){const r=n||"";try{mt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(up){throw t.push(r+"type="+encodeURIComponent("_badmap")),up}}function zt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Bt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function qt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ht(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Wt(e)}function Wt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Kt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Gt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_t(e,t,n))}function Qt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Rt.prototype).add=function(e,t){Pt(this),this.i=null,e=Mt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Pt(this);let t=[];if("string"===typeof e)Dt(this,e)&&(t=t.concat(this.g.get(Mt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Pt(this),this.i=null,Dt(this,e=Mt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(zt,pe),zt.prototype.g=function(){return new Bt(this.l,this.j)},zt.prototype.i=function(e){return function(){return e}}({}),d(Bt,ne),(e=Bt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Wt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ht(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wt(this)),this.g&&(this.readyState=3,Wt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ht(this):Wt(this),3==this.readyState&&qt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ht(this))},e.Qa=function(e){this.g&&(this.response=e,Ht(this))},e.ga=function(){this.g&&Ht(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Qt,ne);var Xt=/^https?$/i,Yt=["POST","PUT"];function $t(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Jt(e),en(e)}function Jt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=nn(e)||2!=e.Z()))if(e.u&&4==nn(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==nn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(gt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Xt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<nn(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Jt(e)}}finally{en(e)}}}function en(e,t){if(e.g){tn(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(up){}}}function tn(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function nn(e){return e.g?e.g.readyState:0}function rn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ut){return null}}function sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sn("baseRetryDelayMs",5e3,e),this.cb=sn("retryDelaySeedMs",1e4,e),this.Wa=sn("forwardChannelMaxRetries",2,e),this.wa=sn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Vt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function on(e){if(cn(e),3==e.G){var t=e.U++,n=yt(e.I);if(_t(n,"SID",e.K),_t(n,"RID",t),_t(n,"TYPE","terminate"),hn(e,n),(t=new De(e,e.j,t)).L=2,t.v=kt(yt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(xp){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=Nn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}_n(e)}function ln(e){e.g&&(gn(e),e.g.cancel(),e.g=null)}function cn(e){ln(e),e.u&&(i.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function un(e){if(!lt(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||I(),T||(C(),T=!0),j.add(t,e),e.B=0}}function dn(e,t){var n;n=t?t.l:e.U++;const r=yt(e.I);_t(r,"SID",e.K),_t(r,"RID",n),_t(r,"AID",e.T),hn(e,r),e.m&&e.o&&Gt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=fn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ht(e.h,n),Ve(n,r,t)}function hn(e,t){e.H&&y(e.H,function(e,n){_t(t,n,e)}),e.l&&mt({},function(e,n){_t(t,n,e)})}function fn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ut(o,e,"req"+n+"_")}catch(ot){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function pn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||I(),T||(C(),T=!0),j.add(t,e),e.v=0}}function mn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),xn(e,e.v)),e.v++,!0)}function gn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function vn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=yt(e.qa);_t(t,"RID","rpc"),_t(t,"SID",e.K),_t(t,"AID",e.T),_t(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&_t(t,"TO",e.ja),_t(t,"TYPE","xmlhttp"),hn(e,t),e.m&&e.o&&Gt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=kt(yt(t)),n.m=null,n.P=!0,Ue(n,e)}function yn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function bn(e,t){var n=null;if(e.g==t){yn(e),gn(e),e.g=null;var r=2}else{if(!dt(e.h,t))return;n=t.D,ft(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Ce(r,n)),un(e)}else pn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(ct(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),xn(e,e.B)),e.B++,!0))}(e,t)||2==r&&mn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function xn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new vt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||bt(r,"https"),kt(r),t?function(e,t){const n=new je;if(i.Image){const r=new Image;r.onload=u(Ft,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ft,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ft,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ft,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ft(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ft(0,0,!0,t):Ft(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ft(0,0,!1,t)})}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),_n(e),cn(e)}function _n(e){if(e.G=0,e.ka=[],e.l){const t=pt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function kn(e,t,n){var r=n instanceof vt?yt(n):new vt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),xt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new vt(null);r&&bt(a,r),t&&(a.g=t),s&&xt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&_t(r,n,t),_t(r,"VER",e.la),hn(e,r),r}function Nn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Qt(new zt({eb:n})):new Qt(e.pa)).Ha(e.J),t}function En(){}function Sn(){}function Cn(e,t){ne.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new In(this)}function Tn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function jn(){be.call(this),this.status=1}function In(e){this.g=e}(e=Qt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(wp){return void $t(this,wp)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Yt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tn(this),this.u=!0,this.g.send(e),this.u=!1}catch(wp){$t(this,wp)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),en(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),en(this,!0)),Qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Zt(this):this.bb())},e.bb=function(){Zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch(fp){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(fp){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=kn(this,null,this.W),un(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=fn(this,i,t),_t(n=yt(this.I),"RID",e),_t(n,"CVER",22),this.D&&_t(n,"X-HTTP-Session-Id",this.D),hn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Kt(s)))+"&"+t:this.m&&Gt(n,this.m,s)),ht(this.h,i),this.Ua&&_t(n,"TYPE","init"),this.P?(_t(n,"$req",t),_t(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?dn(this,e):0==this.i.length||lt(this.h)||dn(this))},e.Fa=function(){if(this.u=null,vn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),ln(this),vn(this))},e.Za=function(){null!=this.C&&(this.C=null,ln(this),mn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=En.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Sn.prototype.g=function(e,t){return new Cn(e,t)},d(Cn,ne),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){on(this.g)},Cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&un(t)},Cn.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,Cn.aa.N.call(this)},d(Tn,ye),d(jn,be),d(In,En),In.prototype.ua=function(){re(this.g,"a")},In.prototype.ta=function(e){re(this.g,new Tn(e))},In.prototype.sa=function(e){re(this.g,new jn)},In.prototype.ra=function(){re(this.g,"b")},Sn.prototype.createWebChannel=Sn.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,it=at.createWebChannelTransport=function(){return new Sn},rt=at.getStatEventTarget=function(){return _e()},nt=at.Event=xe,tt=at.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,et=at.ErrorCode=Re,Pe.COMPLETE="complete",Ze=at.EventType=Pe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Je=at.WebChannel=ge,at.FetchXmlHttpFactory=zt,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,$e=at.XhrIo=Qt}).apply("undefined"!==typeof st?st:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ot="@firebase/firestore";class lt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");let ct="10.14.0";const ut=new Ge.Vy("@firebase/firestore");function dt(){return ut.logLevel}function ht(e){if(ut.logLevel<=Ge.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mt);ut.debug("Firestore (".concat(ct,"): ").concat(e),...i)}}function ft(e){if(ut.logLevel<=Ge.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mt);ut.error("Firestore (".concat(ct,"): ").concat(e),...i)}}function pt(e){if(ut.logLevel<=Ge.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mt);ut.warn("Firestore (".concat(ct,"): ").concat(e),...i)}}function mt(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(dp){return e}}function gt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ct,") INTERNAL ASSERTION FAILED: ")+e;throw ft(t),new Error(t)}function vt(e,t){e||gt()}function yt(e,t){return e}const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Qe.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class wt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _t{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class kt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lt.UNAUTHENTICATED))}shutdown(){}}class Nt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Et{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vt(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wt,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wt)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(vt("string"==typeof t.accessToken),new _t(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(null===e||"string"==typeof e),new lt(e)}}class St{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ct{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new St(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){vt(void 0===this.o);const n=e=>{null!=e.error&&ht("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ht("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(vt("string"==typeof e.token),this.R=e.token,new Tt(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function It(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class At{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=It(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Rt(e,t){return e<t?-1:e>t?1:0}function Pt(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Ot{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ot(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Ot(0,0))}static max(){return new Dt(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lt{constructor(e,t,n){void 0===t?t=0:t>e.length&&gt(),void 0===n?n=e.length-t:n>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Lt.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lt?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mt extends Lt{construct(e,t,n){return new Mt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new xt(bt.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Mt(e)}static emptyPath(){return new Mt([])}}const Ft=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Lt{construct(e,t,n){return new Vt(e,t,n)}static isValidIdentifier(e){return Ft.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new xt(bt.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new xt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new xt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new xt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(Mt.fromString(e))}static fromName(e){return new Ut(Mt.fromString(e).popFirst(5))}static empty(){return new Ut(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new Mt(e.slice()))}}class zt{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}zt.UNKNOWN_ID=-1;function Bt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new Ot(n+1,0):new Ot(n,r));return new Ht(i,Ut.empty(),t)}function qt(e){return new Ht(e.readTime,e.key,-1)}class Ht{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ht(Dt.min(),Ut.empty(),-1)}static max(){return new Ht(Dt.max(),Ut.empty(),-1)}}function Wt(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ut.comparator(e.documentKey,t.documentKey),0!==n?n:Rt(e.largestBatchId,t.largestBatchId))}const Kt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Qt(e){if(e.code!==bt.FAILED_PRECONDITION||e.message!==Kt)throw e;ht("LocalStore","Unexpectedly lost primary lease")}class Xt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xt((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Xt?t:Xt.resolve(t)}catch(e){return Xt.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Xt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Xt.reject(t)}static resolve(e){return new Xt((t,n)=>{t(e)})}static reject(e){return new Xt((t,n)=>{n(e)})}static waitFor(e){return new Xt((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Xt.resolve(!1);for(const n of e)t=t.next(e=>e?Xt.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Xt((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Xt((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Yt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $t(e){return"IndexedDbTransactionError"===e.name}class Jt{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Zt(e){return null==e}function en(e){return 0===e&&1/e==-1/0}function tn(e){return"number"==typeof e&&Number.isInteger(e)&&!en(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Jt.oe=-1;const nn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sn=rn,an=[...sn,"indexConfiguration","indexState","indexEntries"];function on(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ln(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class un{constructor(e,t){this.comparator=e,this.root=t||hn.EMPTY}insert(e,t){return new un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dn(this.root,e,this.comparator,!1)}getReverseIterator(){return new dn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dn(this.root,e,this.comparator,!0)}}class dn{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:hn.RED,this.left=null!=r?r:hn.EMPTY,this.right=null!=i?i:hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new hn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return hn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt();if(this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1,hn.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,t,n,r,i){return this}insert(e,t,n){return new hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pn(this.data.getIterator())}getIteratorFrom(e){return new pn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof fn))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class pn{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new mn([])}unionWith(e){let t=new fn(Vt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pt(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class gn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new gn("Invalid base64 string: "+e):e}}(e);return new vn(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const yn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bn(e){if(vt(!!e),"string"==typeof e){let t=0;const n=yn.exec(e);if(vt(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:xn(e.seconds),nanos:xn(e.nanos)}}function xn(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wn(e){return"string"==typeof e?vn.fromBase64String(e):vn.fromUint8Array(e)}function _n(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kn(e){const t=e.mapValue.fields.__previous_value__;return _n(t)?kn(t):t}function Nn(e){const t=bn(e.mapValue.fields.__local_write_time__.timestampValue);return new Ot(t.seconds,t.nanos)}class En{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Sn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sn&&e.projectId===this.projectId&&e.database===this.database}}const Cn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Tn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_n(e)?4:qn(e)?9007199254740991:zn(e)?10:11:gt()}function jn(e,t){if(e===t)return!0;const n=Tn(e);if(n!==Tn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Nn(e).isEqual(Nn(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=bn(e.timestampValue),r=bn(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wn(e.bytesValue).isEqual(wn(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xn(e.geoPointValue.latitude)===xn(t.geoPointValue.latitude)&&xn(e.geoPointValue.longitude)===xn(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xn(e.integerValue)===xn(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=xn(e.doubleValue),r=xn(t.doubleValue);return n===r?en(n)===en(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pt(e.arrayValue.values||[],t.arrayValue.values||[],jn);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(on(n)!==on(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jn(n[i],r[i])))return!1;return!0}(e,t);default:return gt()}}function In(e,t){return void 0!==(e.values||[]).find(e=>jn(e,t))}function An(e,t){if(e===t)return 0;const n=Tn(e),r=Tn(t);if(n!==r)return Rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=xn(e.integerValue||e.doubleValue),r=xn(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Rn(e.timestampValue,t.timestampValue);case 4:return Rn(Nn(e),Nn(t));case 5:return Rt(e.stringValue,t.stringValue);case 6:return function(e,t){const n=wn(e),r=wn(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Rt(n[i],r[i]);if(0!==e)return e}return Rt(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Rt(xn(e.latitude),xn(t.latitude));return 0!==n?n:Rt(xn(e.longitude),xn(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Pn(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=Rt((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Pn(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Cn.mapValue&&t===Cn.mapValue)return 0;if(e===Cn.mapValue)return 1;if(t===Cn.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Rt(r[a],s[a]);if(0!==e)return e;const t=An(n[r[a]],i[s[a]]);if(0!==t)return t}return Rt(r.length,s.length)}(e.mapValue,t.mapValue);default:throw gt()}}function Rn(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Rt(e,t);const n=bn(e),r=bn(t),i=Rt(n.seconds,r.seconds);return 0!==i?i:Rt(n.nanos,r.nanos)}function Pn(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=An(n[i],r[i]);if(e)return e}return Rt(n.length,r.length)}function On(e){return Dn(e)}function Dn(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=bn(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return wn(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ut.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Dn(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Dn(e.fields[i]));return n+"}"}(e.mapValue):gt()}function Ln(e){return!!e&&"integerValue"in e}function Mn(e){return!!e&&"arrayValue"in e}function Fn(e){return!!e&&"nullValue"in e}function Vn(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Un(e){return!!e&&"mapValue"in e}function zn(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bn(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ln(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Bn(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bn(e.arrayValue.values[n]);return t}return Object.assign({},e)}function qn(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Un(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bn(t)}setAll(e){let t=Vt.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Bn(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Un(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Un(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ln(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Hn(Bn(this.value))}}function Wn(e){const t=[];return ln(e.fields,(e,n)=>{const r=new Vt([e]);if(Un(n)){const e=Wn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new mn(t)}class Kn{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Kn(e,0,Dt.min(),Dt.min(),Dt.min(),Hn.empty(),0)}static newFoundDocument(e,t,n,r){return new Kn(e,1,t,Dt.min(),n,r,0)}static newNoDocument(e,t){return new Kn(e,2,t,Dt.min(),Dt.min(),Hn.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,Dt.min(),Dt.min(),Hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Gn{constructor(e,t){this.position=e,this.inclusive=t}}function Qn(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Ut.comparator(Ut.fromName(a.referenceValue),n.key):An(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Xn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jn(e.position[n],t.position[n]))return!1;return!0}class Yn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function $n(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Jn{}class Zn extends Jn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new or(e,t,n):"array-contains"===t?new dr(e,n):"in"===t?new hr(e,n):"not-in"===t?new fr(e,n):"array-contains-any"===t?new pr(e,n):new Zn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new lr(e,n):new cr(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(An(t,this.value)):null!==t&&Tn(this.value)===Tn(t)&&this.matchesComparison(An(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends Jn{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new er(e,t)}matches(e){return tr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tr(e){return"and"===e.op}function nr(e){return rr(e)&&tr(e)}function rr(e){for(const t of e.filters)if(t instanceof er)return!1;return!0}function ir(e){if(e instanceof Zn)return e.field.canonicalString()+e.op.toString()+On(e.value);if(nr(e))return e.filters.map(e=>ir(e)).join(",");{const t=e.filters.map(e=>ir(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function sr(e,t){return e instanceof Zn?function(e,t){return t instanceof Zn&&e.op===t.op&&e.field.isEqual(t.field)&&jn(e.value,t.value)}(e,t):e instanceof er?function(e,t){return t instanceof er&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&sr(n,t.filters[r]),!0)}(e,t):void gt()}function ar(e){return e instanceof Zn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(On(e.value))}(e):e instanceof er?function(e){return e.op.toString()+" {"+e.getFilters().map(ar).join(" ,")+"}"}(e):"Filter"}class or extends Zn{constructor(e,t,n){super(e,t,n),this.key=Ut.fromName(n.referenceValue)}matches(e){const t=Ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class lr extends Zn{constructor(e,t){super(e,"in",t),this.keys=ur("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cr extends Zn{constructor(e,t){super(e,"not-in",t),this.keys=ur("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ur(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ut.fromName(e.referenceValue))}class dr extends Zn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mn(t)&&In(t.arrayValue,this.value)}}class hr extends Zn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&In(this.value.arrayValue,t)}}class fr extends Zn{constructor(e,t){super(e,"not-in",t)}matches(e){if(In(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!In(this.value.arrayValue,t)}}class pr extends Zn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mn(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>In(this.value.arrayValue,e))}}class mr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function gr(e){return new mr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function vr(e){const t=yt(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ir(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Zt(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>On(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>On(e)).join(",")),t.ue=e}return t.ue}function yr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$n(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sr(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xn(e.startAt,t.startAt)&&Xn(e.endAt,t.endAt)}function br(e){return Ut.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class xr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wr(e,t,n,r,i,s,a,o){return new xr(e,t,n,r,i,s,a,o)}function _r(e){return new xr(e)}function kr(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Nr(e){return null!==e.collectionGroup}function Er(e){const t=yt(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new fn(Vt.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Yn(r,n))}),e.has(Vt.keyField().canonicalString())||t.ce.push(new Yn(Vt.keyField(),n))}return t.ce}function Sr(e){const t=yt(e);return t.le||(t.le=Cr(t,Er(e))),t.le}function Cr(e,t){if("F"===e.limitType)return gr(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Yn(e.field,t)});const n=e.endAt?new Gn(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Gn(e.startAt.position,e.startAt.inclusive):null;return gr(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Tr(e,t,n){return new xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jr(e,t){return yr(Sr(e),Sr(t))&&e.limitType===t.limitType}function Ir(e){return"".concat(vr(Sr(e)),"|lt:").concat(e.limitType)}function Ar(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>ar(e)).join(", "),"]")),Zt(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>On(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>On(e)).join(",")),"Target(".concat(t,")")}(Sr(e)),"; limitType=").concat(e.limitType,")")}function Rr(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ut.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Er(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Qn(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Er(e),t))&&!(e.endAt&&!function(e,t,n){const r=Qn(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Er(e),t))}(e,t)}function Pr(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Or(e){return(t,n)=>{let r=!1;for(const i of Er(e)){const e=Dr(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Dr(e,t,n){const r=e.field.isKeyField()?Ut.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?An(r,i):gt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}class Lr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ln(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return cn(this.inner)}size(){return this.innerSize}}const Mr=new un(Ut.comparator);function Fr(){return Mr}const Vr=new un(Ut.comparator);function Ur(){let e=Vr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function zr(e){let t=Vr;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Br(){return Hr()}function qr(){return Hr()}function Hr(){return new Lr(e=>e.toString(),(e,t)=>e.isEqual(t))}const Wr=new un(Ut.comparator),Kr=new fn(Ut.comparator);function Gr(){let e=Kr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Qr=new fn(Rt);function Xr(){return Qr}function Yr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:en(t)?"-0":t}}function $r(e){return{integerValue:""+e}}function Jr(e,t){return tn(t)?$r(t):Yr(e,t)}class Zr{constructor(){this._=void 0}}function ei(e,t,n){return e instanceof ri?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_n(t)&&(t=kn(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ii?si(e,t):e instanceof ai?oi(e,t):function(e,t){const n=ni(e,t),r=ci(n)+ci(e.Pe);return Ln(n)&&Ln(e.Pe)?$r(r):Yr(e.serializer,r)}(e,t)}function ti(e,t,n){return e instanceof ii?si(e,t):e instanceof ai?oi(e,t):n}function ni(e,t){return e instanceof li?function(e){return Ln(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ri extends Zr{}class ii extends Zr{constructor(e){super(),this.elements=e}}function si(e,t){const n=ui(t);for(const r of e.elements)n.some(e=>jn(e,r))||n.push(r);return{arrayValue:{values:n}}}class ai extends Zr{constructor(e){super(),this.elements=e}}function oi(e,t){let n=ui(t);for(const r of e.elements)n=n.filter(e=>!jn(e,r));return{arrayValue:{values:n}}}class li extends Zr{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ci(e){return xn(e.integerValue||e.doubleValue)}function ui(e){return Mn(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class di{constructor(e,t){this.field=e,this.transform=t}}class hi{constructor(e,t){this.version=e,this.transformResults=t}}class fi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pi(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class mi{}function gi(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Si(e.key,fi.none()):new wi(e.key,e.data,fi.none());{const n=e.data,r=Hn.empty();let i=new fn(Vt.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new _i(e.key,r,new mn(i.toArray()),fi.none())}}function vi(e,t,n){e instanceof wi?function(e,t,n){const r=e.value.clone(),i=Ni(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _i?function(e,t,n){if(!pi(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ni(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ki(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yi(e,t,n,r){return e instanceof wi?function(e,t,n,r){if(!pi(e.precondition,t))return n;const i=e.value.clone(),s=Ei(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _i?function(e,t,n,r){if(!pi(e.precondition,t))return n;const i=Ei(e.fieldTransforms,r,t),s=t.data;return s.setAll(ki(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return pi(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bi(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ni(r.transform,e||null);null!=i&&(null===n&&(n=Hn.empty()),n.set(r.field,i))}return n||null}function xi(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pt(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ii&&t instanceof ii||e instanceof ai&&t instanceof ai?Pt(e.elements,t.elements,jn):e instanceof li&&t instanceof li?jn(e.Pe,t.Pe):e instanceof ri&&t instanceof ri}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wi extends mi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _i extends mi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ki(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ni(e,t,n){const r=new Map;vt(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,ti(a,o,n[i]))}return r}function Ei(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ei(e,s,t))}return r}class Si extends mi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ci extends mi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ti{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&vi(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yi(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yi(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qr();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=gi(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Dt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gr())}isEqual(e){return this.batchId===e.batchId&&Pt(this.mutations,e.mutations,(e,t)=>xi(e,t))&&Pt(this.baseMutations,e.baseMutations,(e,t)=>xi(e,t))}}class ji{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){vt(e.mutations.length===n.length);let r=Wr;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ji(e,t,n,r)}}class Ii{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ai{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ri,Pi;function Oi(e){switch(e){default:return gt();case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0}}function Di(e){if(void 0===e)return ft("GRPC error has no .code"),bt.UNKNOWN;switch(e){case Ri.OK:return bt.OK;case Ri.CANCELLED:return bt.CANCELLED;case Ri.UNKNOWN:return bt.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return bt.INTERNAL;case Ri.UNAVAILABLE:return bt.UNAVAILABLE;case Ri.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case Ri.NOT_FOUND:return bt.NOT_FOUND;case Ri.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case Ri.ABORTED:return bt.ABORTED;case Ri.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case Ri.DATA_LOSS:return bt.DATA_LOSS;default:return gt()}}(Pi=Ri||(Ri={}))[Pi.OK=0]="OK",Pi[Pi.CANCELLED=1]="CANCELLED",Pi[Pi.UNKNOWN=2]="UNKNOWN",Pi[Pi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pi[Pi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pi[Pi.NOT_FOUND=5]="NOT_FOUND",Pi[Pi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pi[Pi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pi[Pi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pi[Pi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pi[Pi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pi[Pi.ABORTED=10]="ABORTED",Pi[Pi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pi[Pi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pi[Pi.INTERNAL=13]="INTERNAL",Pi[Pi.UNAVAILABLE=14]="UNAVAILABLE",Pi[Pi.DATA_LOSS=15]="DATA_LOSS";let Li=null;function Mi(){return new TextEncoder}const Fi=new ze([4294967295,4294967295],0);function Vi(e){const t=Mi().encode(e),n=new Be;return n.update(t),new Uint8Array(n.digest())}function Ui(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ze([n,r],0),new ze([i,s],0)]}class zi{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Bi("Invalid padding: ".concat(t));if(n<0)throw new Bi("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Bi("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Bi("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=ze.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(ze.fromNumber(n)));return 1===r.compare(Fi)&&(r=new ze([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Vi(e),[n,r]=Ui(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new zi(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=Vi(e),[n,r]=Ui(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Bi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qi{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Hi.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new qi(Dt.min(),r,new un(Rt),Fr(),Gr())}}class Hi{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Hi(n,t,Gr(),Gr(),Gr())}}class Wi{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Ki{constructor(e,t){this.targetId=e,this.me=t}}class Gi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vn.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Qi{constructor(){this.fe=0,this.ge=$i(),this.pe=vn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Gr(),t=Gr(),n=Gr();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gt()}}),new Hi(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=$i()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Xi{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fr(),this.qe=Yi(),this.Qe=new un(Rt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(br(i))if(0===n){const e=new Ut(i.path);this.Ue(t,e,Kn.newNoDocument(e,Dt.min()))}else vt(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Li||Li.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=wn(n).toUint8Array()}catch(e){if(e instanceof gn)return pt("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new zi(s,r,i)}catch(e){return pt(e instanceof Bi?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&br(i.target)){const t=new Ut(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Kn.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=Gr();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new qi(e,t,this.Qe,this.ke,n);return this.ke=Fr(),this.qe=Yi(),this.Qe=new un(Rt),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Qi,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new fn(Rt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ht("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qi),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Yi(){return new un(Ut.comparator)}function $i(){return new un(Ut.comparator)}const Ji={asc:"ASCENDING",desc:"DESCENDING"},Zi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},es={and:"AND",or:"OR"};class ts{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ns(e,t){return e.useProto3Json||Zt(t)?t:{value:t}}function rs(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function is(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ss(e,t){return rs(e,t.toTimestamp())}function as(e){return vt(!!e),Dt.fromTimestamp(function(e){const t=bn(e);return new Ot(t.seconds,t.nanos)}(e))}function os(e,t){return ls(e,t).canonicalString()}function ls(e,t){const n=function(e){return new Mt(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function cs(e){const t=Mt.fromString(e);return vt(js(t)),t}function us(e,t){return os(e.databaseId,t.path)}function ds(e,t){const n=cs(t);if(n.get(1)!==e.databaseId.projectId)throw new xt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ut(ms(n))}function hs(e,t){return os(e.databaseId,t)}function fs(e){const t=cs(e);return 4===t.length?Mt.emptyPath():ms(t)}function ps(e){return new Mt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ms(e){return vt(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gs(e,t,n){return{name:us(e,t),fields:n.value.mapValue.fields}}function vs(e,t){let n;if(t instanceof wi)n={update:gs(e,t.key,t.value)};else if(t instanceof Si)n={delete:us(e,t.key)};else if(t instanceof _i)n={update:gs(e,t.key,t.data),updateMask:Ts(t.fieldMask)};else{if(!(t instanceof Ci))return gt();n={verify:us(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ri)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ii)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ai)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof li)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw gt()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ss(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gt()}(e,t.precondition)),n}function ys(e,t){return{documents:[hs(e,t.path)]}}function bs(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hs(e,i);const s=function(e){if(0!==e.length)return Cs(er.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Es(e.field),direction:_s(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ns(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function xs(e){let t=fs(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vt(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ws(e);return t instanceof er&&nr(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Yn(Ss(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Zt(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Gn(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Gn(n,t)}(n.endAt)),wr(t,i,a,s,o,"F",l,c)}function ws(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ss(e.unaryFilter.field);return Zn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ss(e.unaryFilter.field);return Zn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ss(e.unaryFilter.field);return Zn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ss(e.unaryFilter.field);return Zn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(e):void 0!==e.fieldFilter?function(e){return Zn.create(Ss(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return er.create(e.compositeFilter.filters.map(e=>ws(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return gt()}}(e.compositeFilter.op))}(e):gt()}function _s(e){return Ji[e]}function ks(e){return Zi[e]}function Ns(e){return es[e]}function Es(e){return{fieldPath:e.canonicalString()}}function Ss(e){return Vt.fromServerFormat(e.fieldPath)}function Cs(e){return e instanceof Zn?function(e){if("=="===e.op){if(Vn(e.value))return{unaryFilter:{field:Es(e.field),op:"IS_NAN"}};if(Fn(e.value))return{unaryFilter:{field:Es(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vn(e.value))return{unaryFilter:{field:Es(e.field),op:"IS_NOT_NAN"}};if(Fn(e.value))return{unaryFilter:{field:Es(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(e.field),op:ks(e.op),value:e.value}}}(e):e instanceof er?function(e){const t=e.getFilters().map(e=>Cs(e));return 1===t.length?t[0]:{compositeFilter:{op:Ns(e.op),filters:t}}}(e):gt()}function Ts(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function js(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Is{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Dt.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Dt.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vn.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class As{constructor(e){this.ct=e}}function Rs(e){const t=xs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Tr(t,t.limit,"L"):t}class Ps{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(xn(e.integerValue));else if("doubleValue"in e){const n=xn(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),en(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=bn(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(wn(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?qn(e)?this.dt(t,Number.MAX_SAFE_INTEGER):zn(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):gt()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(xn(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Ut.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Ps.vt=new Ps;class Os{constructor(){this.un=new Ds}addToCollectionParentIndex(e,t){return this.un.add(t),Xt.resolve()}getCollectionParents(e,t){return Xt.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Xt.resolve()}deleteFieldIndex(e,t){return Xt.resolve()}deleteAllFieldIndexes(e){return Xt.resolve()}createTargetIndexes(e,t){return Xt.resolve()}getDocumentsMatchingTarget(e,t){return Xt.resolve(null)}getIndexType(e,t){return Xt.resolve(0)}getFieldIndexes(e,t){return Xt.resolve([])}getNextCollectionGroupToUpdate(e){return Xt.resolve(null)}getMinOffset(e,t){return Xt.resolve(Ht.min())}getMinOffsetFromCollectionGroup(e,t){return Xt.resolve(Ht.min())}updateCollectionGroup(e,t,n){return Xt.resolve()}updateIndexEntries(e,t){return Xt.resolve()}}class Ds{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fn(Mt.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new fn(Mt.comparator)).toArray()}}new Uint8Array(0);class Ls{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class Ms{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ms(0)}static kn(){return new Ms(-1)}}class Fs{constructor(){this.changes=new Lr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Xt.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vs{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Us{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&yi(n.mutation,e,mn.empty(),Ot.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Gr()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gr();const r=Br();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ur();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Br();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Gr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Fr();const s=Hr(),a=Hr();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof _i)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),yi(a.mutation,t,a.mutation.getFieldMask(),Ot.now())):s.set(t.key,mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Vs(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Hr();let r=new un((e,t)=>e-t),i=Gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||mn.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Gr()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=qr();l.forEach(e=>{if(!i.has(e)){const r=gi(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Xt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ut.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nr(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Xt.resolve(Br());let a=-1,o=i;return s.next(t=>Xt.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Xt.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Gr())).next(e=>({batchId:a,changes:zr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ut(t)).next(e=>{let t=Ur();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Ur();return this.indexManager.getCollectionParents(e,i).next(a=>Xt.forEach(a,a=>{const o=function(e,t){return new xr(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Kn.newInvalidDocument(r)))});let n=Ur();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&yi(s.mutation,r,mn.empty(),Ot.now()),Rr(t,r)&&(n=n.insert(e,r))}),n})}}class zs{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Xt.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:as(e.createTime)}}(t)),Xt.resolve()}getNamedQuery(e,t){return Xt.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Rs(e.bundledQuery),readTime:as(e.readTime)}}(t)),Xt.resolve()}}class Bs{constructor(){this.overlays=new un(Ut.comparator),this.Ir=new Map}getOverlay(e,t){return Xt.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Br();return Xt.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),Xt.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),Xt.resolve()}getOverlaysForCollection(e,t,n){const r=Br(),i=t.length+1,s=new Ut(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Xt.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new un((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Br(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Br(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Xt.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ii(t,n));let i=this.Ir.get(t);void 0===i&&(i=Gr(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class qs{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return Xt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Xt.resolve()}}class Hs{constructor(){this.Tr=new fn(Ws.Er),this.dr=new fn(Ws.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Ws(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new Ws(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new Ut(new Mt([])),n=new Ws(t,e),r=new Ws(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ut(new Mt([])),n=new Ws(t,e),r=new Ws(t,e+1);let i=Gr();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ws(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ws{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ut.comparator(e.key,t.key)||Rt(e.wr,t.wr)}static Ar(e,t){return Rt(e.wr,t.wr)||Ut.comparator(e.key,t.key)}}class Ks{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new fn(Ws.Er)}checkEmpty(e){return Xt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ti(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Ws(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Xt.resolve(s)}lookupMutationBatch(e,t){return Xt.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Xt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Xt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Xt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ws(t,0),r=new Ws(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),Xt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new fn(Rt);return t.forEach(e=>{const t=new Ws(e,0),r=new Ws(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),Xt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ut.isDocumentKey(i)||(i=i.child(""));const s=new Ws(new Ut(i),0);let a=new fn(Rt);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},s),Xt.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){vt(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Xt.forEach(t.mutations,r=>{const i=new Ws(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Ws(t,0),r=this.br.firstAfterOrEqual(n);return Xt.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xt.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gs{constructor(e){this.Mr=e,this.docs=new un(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Xt.resolve(n?n.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let n=Fr();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Kn.newInvalidDocument(e))}),Xt.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Fr();const s=t.path,a=new Ut(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Wt(qt(a),n)<=0||(r.has(a.key)||Rr(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Xt.resolve(i)}getAllFromCollectionGroup(e,t,n,r){gt()}Or(e,t){return Xt.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Qs(this)}getSize(e){return Xt.resolve(this.size)}}class Qs extends Fs{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),Xt.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Xs{constructor(e){this.persistence=e,this.Nr=new Lr(e=>vr(e),yr),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hs,this.targetCount=0,this.kr=Ms.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),Xt.resolve()}getLastRemoteSnapshotVersion(e){return Xt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Xt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Xt.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Ms(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Xt.resolve()}updateTargetData(e,t){return this.Kn(t),Xt.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Xt.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Xt.waitFor(i).next(()=>r)}getTargetCount(e){return Xt.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Xt.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Xt.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Xt.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Xt.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Xt.resolve(n)}containsKey(e,t){return Xt.resolve(this.Br.containsKey(t))}}class Ys{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Jt(0),this.Kr=!1,this.Kr=!0,this.$r=new qs,this.referenceDelegate=e(this),this.Ur=new Xs(this),this.indexManager=new Os,this.remoteDocumentCache=function(e){return new Gs(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new As(t),this.Gr=new zs(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bs,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Ks(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){ht("MemoryPersistence","Starting transaction:",e);const r=new $s(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return Xt.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class $s extends Gt{constructor(e){super(),this.currentSequenceNumber=e}}class Js{constructor(e){this.persistence=e,this.Jr=new Hs,this.Yr=null}static Zr(e){return new Js(e)}get Xr(){if(this.Yr)return this.Yr;throw gt()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Xt.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Xt.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Xt.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xt.forEach(this.Xr,n=>{const r=Ut.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,Dt.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Xt.or([()=>Xt.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Zs{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Gr(),r=Gr();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zs(e,t.fromCache,n,r)}}class ea{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ta{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Qe.nr)()?8:Yt((0,Qe.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ea;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(dt()<=Ge.$b.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Ar(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Xt.resolve()):(dt()<=Ge.$b.DEBUG&&ht("QueryEngine","Query:",Ar(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(dt()<=Ge.$b.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Ar(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):Xt.resolve())}Yi(e,t){if(kr(t))return Xt.resolve(null);let n=Sr(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Tr(t,null,"F"),n=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Gr(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,Tr(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return kr(t)||r.isEqual(Dt.min())?Xt.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?Xt.resolve(null):(dt()<=Ge.$b.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ar(t)),this.rs(e,s,t,Bt(r,-1)).next(e=>e))})}ts(e,t){let n=new fn(Or(e));return t.forEach((t,r)=>{Rr(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return dt()<=Ge.$b.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Ar(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ht.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class na{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new un(Rt),this._s=new Lr(e=>vr(e),yr),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Us(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function ra(e,t,n,r){return new na(e,t,n,r)}async function ia(e,t){const n=yt(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Gr();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}function sa(e){const t=yt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function aa(e,t,n){let r=Gr(),i=Gr();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Fr();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Dt.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ht("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ps:r,Is:i}})}function oa(e,t){const n=yt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function la(e,t){const n=yt(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,Xt.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new Is(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function ca(e,t,n){const r=yt(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!$t(e))throw e;ht("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function ua(e,t,n){const r=yt(e);let i=Dt.min(),s=Gr();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=yt(e),i=r._s.get(n);return void 0!==i?Xt.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Sr(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Dt.min(),n?s:Gr())).next(e=>(da(r,Pr(t),e),{documents:e,Ts:s})))}function da(e,t,n){let r=e.us.get(t)||Dt.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class ha{constructor(){this.activeTargetIds=Xr()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fa{constructor(){this.so=new ha,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ha,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pa{_o(e){}shutdown(){}}class ma{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ga=null;function va(){return null===ga?ga=268435456+Math.round(2147483648*Math.random()):ga++,"0x"+ga.toString(16)}const ya={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ba{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const xa="WebChannelConnection";class wa extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const s=va(),a=this.xo(e,t.toUriEncodedString());ht("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then(t=>(ht("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw pt("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ct,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=ya[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=va();return new Promise((s,a)=>{const o=new $e;o.setWithCredentials(!0),o.listenOnce(Ze.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case et.NO_ERROR:const t=o.getResponseJson();ht(xa,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case et.TIMEOUT:ht(xa,"RPC '".concat(e,"' ").concat(i," timed out")),a(new xt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case et.HTTP_ERROR:const n=o.getStatus();if(ht(xa,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(t)>=0?t:bt.UNKNOWN}(t.status);a(new xt(e,t.message))}else a(new xt(bt.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new xt(bt.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{ht(xa,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);ht(xa,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=va(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=it(),a=rt(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");ht(xa,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new ba({Io:t=>{h?ht(xa,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ht(xa,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),ht(xa,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Je.EventType.OPEN,()=>{h||(ht(xa,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,Je.EventType.CLOSE,()=>{h||(h=!0,ht(xa,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,Je.EventType.ERROR,t=>{h||(h=!0,pt(xa,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new xt(bt.UNAVAILABLE,"The operation could not be completed")))}),p(u,Je.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];vt(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ht(xa,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Ri[e];if(void 0!==t)return Di(t)}(t),i=a.message;void 0===n&&(n=bt.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new xt(n,i)),u.close()}else ht(xa,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}}),p(a,nt.STAT_EVENT,t=>{t.stat===tt.PROXY?ht(xa,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===tt.NOPROXY&&ht(xa,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function _a(){return"undefined"!=typeof document?document:null}function ka(e){return new ts(e,!0)}class Na{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&ht("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Ea{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Na(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===bt.RESOURCE_EXHAUSTED?(ft(t.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===bt.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new xt(bt.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ht("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sa extends Ea{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(vt(void 0===t||"string"==typeof t),vn.fromBase64String(t||"")):(vt(void 0===t||t instanceof Buffer||t instanceof Uint8Array),vn.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?bt.UNKNOWN:Di(e.code);return new xt(t,e.message||"")}(a);n=new Gi(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ds(e,r.document.name),s=as(r.document.updateTime),a=r.document.createTime?as(r.document.createTime):Dt.min(),o=new Hn({mapValue:{fields:r.document.fields}}),l=Kn.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Wi(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ds(e,r.document),s=r.readTime?as(r.readTime):Dt.min(),a=Kn.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Wi([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ds(e,r.document),s=r.removedTargetIds||[];n=new Wi([],s,i,null)}else{if(!("filter"in t))return gt();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ai(r,i),a=e.targetId;n=new Ki(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Dt.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Dt.min():t.readTime?as(t.readTime):Dt.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=ps(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=br(r)?{documents:ys(e,r)}:{query:bs(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=is(e,t.resumeToken);const r=ns(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Dt.min())>0){n.readTime=rs(e,t.snapshotVersion.toTimestamp());const r=ns(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=ps(this.serializer),t.removeTarget=e,this.a_(t)}}class Ca extends Ea{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return vt(!!e.streamToken),this.lastStreamToken=e.streamToken,vt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(vt(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?as(e.updateTime):as(t);return n.isEqual(Dt.min())&&(n=as(t)),new hi(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=as(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=ps(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>vs(this.serializer,e))};this.a_(t)}}class Ta extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new xt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Mo(e,ls(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new xt(bt.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Lo(e,ls(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new xt(bt.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ja{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(ft(t),this.D_=!1):ht("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Ia{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{Va(this)&&(ht("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=yt(e);t.L_.add(4),await Ra(t),t.q_.set("Unknown"),t.L_.delete(4),await Aa(t)}(this))})}),this.q_=new ja(n,r)}}async function Aa(e){if(Va(e))for(const t of e.B_)await t(!0)}async function Ra(e){for(const t of e.B_)await t(!1)}function Pa(e,t){const n=yt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Fa(n)?Ma(n):io(n).r_()&&Da(n,t))}function Oa(e,t){const n=yt(e),r=io(n);n.N_.delete(t),r.r_()&&La(n,t),0===n.N_.size&&(r.r_()?r.o_():Va(n)&&n.q_.set("Unknown"))}function Da(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}io(e).A_(t)}function La(e,t){e.Q_.xe(t),io(e).R_(t)}function Ma(e){e.Q_=new Xi({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),io(e).start(),e.q_.v_()}function Fa(e){return Va(e)&&!io(e).n_()&&e.N_.size>0}function Va(e){return 0===yt(e).L_.size}function Ua(e){e.Q_=void 0}async function za(e){e.q_.set("Online")}async function Ba(e){e.N_.forEach((t,n)=>{Da(e,t)})}async function qa(e,t){Ua(e),Fa(e)?(e.q_.M_(t),Ma(e)):e.q_.set("Unknown")}async function Ha(e,t,n){if(e.q_.set("Online"),t instanceof Gi&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){ht("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Wa(e,n)}else if(t instanceof Wi?e.Q_.Ke(t):t instanceof Ki?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Dt.min()))try{const t=await sa(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(vn.EMPTY_BYTE_STRING,r.snapshotVersion)),La(e,t);const i=new Is(r.target,t,n,r.sequenceNumber);Da(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ht("RemoteStore","Failed to raise snapshot:",t),await Wa(e,t)}}async function Wa(e,t,n){if(!$t(t))throw t;e.L_.add(1),await Ra(e),e.q_.set("Offline"),n||(n=()=>sa(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ht("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Aa(e)})}function Ka(e,t){return t().catch(n=>Wa(e,n,t))}async function Ga(e){const t=yt(e),n=so(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Qa(t);)try{const e=await oa(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Xa(t,e)}catch(e){await Wa(t,e)}Ya(t)&&$a(t)}function Qa(e){return Va(e)&&e.O_.length<10}function Xa(e,t){e.O_.push(t);const n=so(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Ya(e){return Va(e)&&!so(e).n_()&&e.O_.length>0}function $a(e){so(e).start()}async function Ja(e){so(e).p_()}async function Za(e){const t=so(e);for(const n of e.O_)t.m_(n.mutations)}async function eo(e,t,n){const r=e.O_.shift(),i=ji.from(r,t,n);await Ka(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ga(e)}async function to(e,t){t&&so(e).V_&&await async function(e,t){if(function(e){return Oi(e)&&e!==bt.ABORTED}(t.code)){const n=e.O_.shift();so(e).s_(),await Ka(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Ga(e)}}(e,t),Ya(e)&&$a(e)}async function no(e,t){const n=yt(e);n.asyncQueue.verifyOperationInProgress(),ht("RemoteStore","RemoteStore received new credentials");const r=Va(n);n.L_.add(3),await Ra(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Aa(n)}async function ro(e,t){const n=yt(e);t?(n.L_.delete(2),await Aa(n)):t||(n.L_.add(2),await Ra(n),n.q_.set("Unknown"))}function io(e){return e.K_||(e.K_=function(e,t,n){const r=yt(e);return r.w_(),new Sa(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:za.bind(null,e),Ro:Ba.bind(null,e),mo:qa.bind(null,e),d_:Ha.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Fa(e)?Ma(e):e.q_.set("Unknown")):(await e.K_.stop(),Ua(e))})),e.K_}function so(e){return e.U_||(e.U_=function(e,t,n){const r=yt(e);return r.w_(),new Ca(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ja.bind(null,e),mo:to.bind(null,e),f_:Za.bind(null,e),g_:eo.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Ga(e)):(await e.U_.stop(),e.O_.length>0&&(ht("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class ao{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new ao(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xt(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oo(e,t){if(ft("AsyncQueue","".concat(t,": ").concat(e)),$t(e))return new xt(bt.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class lo{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ut.comparator(t.key,n.key):(e,t)=>Ut.comparator(e.key,t.key),this.keyedMap=Ur(),this.sortedSet=new un(this.comparator)}static emptySet(e){return new lo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lo))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new lo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class co{constructor(){this.W_=new un(Ut.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):gt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class uo{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new uo(e,t,lo.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ho{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class fo{constructor(){this.queries=po(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=yt(e),r=n.queries;n.queries=po(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new xt(bt.ABORTED,"Firestore shutting down"))}}function po(){return new Lr(e=>Ir(e),jr)}async function mo(e,t){const n=yt(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new ho,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=oo(e,"Initialization of query '".concat(Ar(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&bo(n)}async function go(e,t){const n=yt(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vo(e,t){const n=yt(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&bo(n)}function yo(e,t,n){const r=yt(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function bo(e){e.Y_.forEach(e=>{e.next()})}var xo,wo;(wo=xo||(xo={})).ea="default",wo.Cache="cache";class _o{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new uo(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==xo.Cache}}class ko{constructor(e){this.key=e}}class No{constructor(e){this.key=e}}class Eo{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Gr(),this.mutatedKeys=Gr(),this.Aa=Or(e),this.Ra=new lo(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new co,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Rr(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new uo(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new co,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Gr(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new No(e))}),this.da.forEach(n=>{e.has(n)||t.push(new ko(n))}),t}ba(e){this.Ta=e.Ts,this.da=Gr();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return uo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class So{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Co{constructor(e){this.key=e,this.va=!1}}class To{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Lr(e=>Ir(e),jr),this.Ma=new Map,this.xa=new Set,this.Oa=new un(Ut.comparator),this.Na=new Map,this.La=new Hs,this.Ba={},this.ka=new Map,this.qa=Ms.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function jo(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Yo(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Ao(r,t,n,!0),i}async function Io(e,t){const n=Yo(e);await Ao(n,t,!0,!1)}async function Ao(e,t,n,r){const i=await la(e.localStore,Sr(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Ro(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Pa(e.remoteStore,i),o}async function Ro(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await ua(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Ho(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await ua(e.localStore,t,!0),a=new Eo(t,s.Ts),o=a.ma(s.documents),l=Hi.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Ho(e,n,c.wa);const u=new So(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Po(e,t,n){const r=yt(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(e=>!jr(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ca(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Oa(r.remoteStore,i.targetId),Bo(r,i.targetId)}).catch(Qt)):(Bo(r,i.targetId),await ca(r.localStore,i.targetId,!0))}async function Oo(e,t){const n=yt(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Oa(n.remoteStore,r.targetId))}async function Do(e,t){const n=yt(e);try{const e=await function(e,t){const n=yt(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(vn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))});let o=Fr(),l=Gr();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(aa(e,s,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(Dt.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Xt.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(vt(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?vt(r.va):e.removedDocuments.size>0&&(vt(r.va),r.va=!1))}),await Go(n,e,t)}catch(e){await Qt(e)}}function Lo(e,t,n){const r=yt(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=yt(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&bo(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Mo(e,t,n){const r=yt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new un(Ut.comparator);e=e.insert(s,Kn.newNoDocument(s,Dt.min()));const n=Gr().add(s),i=new qi(Dt.min(),new Map,new un(Rt),e,n);await Do(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Ko(r)}else await ca(r.localStore,t,!1).then(()=>Bo(r,t,n)).catch(Qt)}async function Fo(e,t){const n=yt(e),r=t.batch.batchId;try{const e=await function(e,t){const n=yt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Xt.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);vt(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Gr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);zo(n,r,null),Uo(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Go(n,e)}catch(e){await Qt(e)}}async function Vo(e,t,n){const r=yt(e);try{const e=await function(e,t){const n=yt(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(vt(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);zo(r,t,n),Uo(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Go(r,e)}catch(n){await Qt(n)}}function Uo(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function zo(e,t,n){const r=yt(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Bo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||qo(e,t)})}function qo(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Oa(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Ko(e))}function Ho(e,t,n){for(const r of n)r instanceof ko?(e.La.addReference(r.key,t),Wo(e,r)):r instanceof No?(ht("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||qo(e,r.key)):gt()}function Wo(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(ht("SyncEngine","New document in limbo: "+n),e.xa.add(r),Ko(e))}function Ko(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Ut(Mt.fromString(t)),r=e.qa.next();e.Na.set(r,new Co(n)),e.Oa=e.Oa.insert(n,r),Pa(e.remoteStore,new Is(Sr(_r(n.path)),r,"TargetPurposeLimboResolution",Jt.oe))}}async function Go(e,t,n){const r=yt(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Zs.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=yt(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Xt.forEach(t,t=>Xt.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Xt.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!$t(e))throw e;ht("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function Qo(e,t){const n=yt(e);if(!n.currentUser.isEqual(t)){ht("SyncEngine","User change. New user:",t.toKey());const e=await ia(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new xt(bt.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Go(n,e.hs)}}function Xo(e,t){const n=yt(e),r=n.Na.get(t);if(r&&r.va)return Gr().add(r.key);{let e=Gr();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Yo(e){const t=yt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Do.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xo.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mo.bind(null,t),t.Ca.d_=vo.bind(null,t.eventManager),t.Ca.$a=yo.bind(null,t.eventManager),t}function $o(e){const t=yt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Fo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vo.bind(null,t),t}class Jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ka(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return ra(this.persistence,new ta,e.initialUser,this.serializer)}Ga(e){return new Ys(Js.Zr,this.serializer)}Wa(e){return new fa}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jo.provider={build:()=>new Jo};class Zo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Lo(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qo.bind(null,this.syncEngine),await ro(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fo}createDatastore(e){const t=ka(e.databaseInfo.databaseId),n=function(e){return new wa(e)}(e.databaseInfo);return function(e,t,n,r){return new Ta(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ia(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Lo(this.syncEngine,e,0),ma.D()?new ma:new pa)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new To(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=yt(e);ht("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Ra(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Zo.provider={build:()=>new Zo};class el{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ft("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class tl{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=lt.UNAUTHENTICATED,this.clientId=At.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{ht("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ht("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(dp){const n=oo(dp,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function nl(e,t){e.asyncQueue.verifyOperationInProgress(),ht("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ia(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function rl(e,t){e.asyncQueue.verifyOperationInProgress();const n=await il(e);ht("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>no(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>no(t.remoteStore,n)),e._onlineComponents=t}async function il(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht("FirestoreClient","Using user provided OfflineComponentProvider");try{await nl(e,e._uninitializedComponentsProvider._offline)}catch(dp){const n=dp;if(!function(e){return"FirebaseError"===e.name?e.code===bt.FAILED_PRECONDITION||e.code===bt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;pt("Error using user provided cache. Falling back to memory cache: "+n),await nl(e,new Jo)}}else ht("FirestoreClient","Using default OfflineComponentProvider"),await nl(e,new Jo);return e._offlineComponents}async function sl(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht("FirestoreClient","Using user provided OnlineComponentProvider"),await rl(e,e._uninitializedComponentsProvider._online)):(ht("FirestoreClient","Using default OnlineComponentProvider"),await rl(e,new Zo))),e._onlineComponents}function al(e){return il(e).then(e=>e.persistence)}function ol(e){return sl(e).then(e=>e.remoteStore)}function ll(e){return sl(e).then(e=>e.syncEngine)}async function cl(e){const t=await sl(e),n=t.eventManager;return n.onListen=jo.bind(null,t.syncEngine),n.onUnlisten=Po.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Io.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Oo.bind(null,t.syncEngine),n}function ul(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new wt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new el({next:o=>{s.Za(),t.enqueueAndForget(()=>go(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new xt(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new xt(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new _o(_r(n.path),s,{includeMetadataChanges:!0,_a:!0});return mo(e,a)}(await cl(e),e.asyncQueue,t,n,r)),r.promise}function dl(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const hl=new Map;function fl(e,t,n){if(!n)throw new xt(bt.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function pl(e){if(!Ut.isDocumentKey(e))throw new xt(bt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ml(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":gt()}function gl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ml(e);throw new xt(bt.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class vl{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new xt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new xt(bt.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dl(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new xt(bt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new xt(bt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new xt(bt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yl{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vl(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new kt;switch(e.type){case"firstParty":return new Ct(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new xt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hl.get(e);t&&(ht("ComponentProvider","Removing Datastore"),hl.delete(e),t.terminate())}(this),Promise.resolve()}}class bl{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class xl{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xl(this.firestore,e,this._key)}}class wl extends bl{constructor(e,t,n){super(e,t,_r(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xl(this.firestore,null,new Ut(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function _l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,Qe.Ku)(e),1===arguments.length&&(t=At.newId()),fl("doc","path",t),e instanceof yl){const n=Mt.fromString(t,...r);return pl(n),new xl(e,null,new Ut(n))}{if(!(e instanceof xl||e instanceof wl))throw new xt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mt.fromString(t,...r));return pl(n),new xl(e.firestore,e instanceof wl?e.converter:null,new Ut(n))}}class kl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Na(this,"async_queue_retry"),this.Vu=()=>{const e=_a();e&&ht("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=_a();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=_a();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new wt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(up){if(!$t(up))throw up;ht("AsyncQueue","Operation failed with retryable error: "+up)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ft("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=ao.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&gt()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Nl(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class El extends yl{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new kl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kl(e),this._firestoreClient=void 0,await e}}}function Sl(e){if(e._terminated)throw new xt(bt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Cl(e),e._firestoreClient}function Cl(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new En(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,dl(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new tl(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tl(vn.fromBase64String(e))}catch(e){throw new xt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Tl(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new xt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Il{constructor(e){this._methodName=e}}class Al{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}class Rl{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Pl=/^__.*__$/;class Ol{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new _i(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Dl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Ll{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ll(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Yl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Dl(this.Cu)&&Pl.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ml{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ka(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ll({Cu:e,methodName:t,qu:n,path:Vt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fl(e){const t=e._freezeSettings(),n=ka(e._databaseId);return new Ml(e._databaseId,!!t.ignoreUndefinedProperties,n)}class Vl extends Il{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vl}}class Ul extends Il{_toFieldTransform(e){return new di(e.path,new ri)}isEqual(e){return e instanceof Ul}}function zl(e,t,n,r){const i=e.Qu(1,t,n);Kl("Data must be an object, but it was:",i,r);const s=[],a=Hn.empty();ln(r,(e,r)=>{const o=Xl(t,e,n);r=(0,Qe.Ku)(r);const l=i.Nu(o);if(r instanceof Vl)s.push(o);else{const e=ql(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new mn(s);return new Ol(a,o,i.fieldTransforms)}function Bl(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[Gl(t,r,n)],l=[i];if(s.length%2!=0)throw new xt(bt.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Gl(t,s[h])),l.push(s[h+1]);const c=[],u=Hn.empty();for(let h=o.length-1;h>=0;--h)if(!$l(c,o[h])){const e=o[h];let t=l[h];t=(0,Qe.Ku)(t);const n=a.Nu(e);if(t instanceof Vl)c.push(e);else{const r=ql(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new mn(c);return new Ol(u,d,a.fieldTransforms)}function ql(e,t){if(Wl(e=(0,Qe.Ku)(e)))return Kl("Unsupported field value:",t,e),Hl(e,t);if(e instanceof Il)return function(e,t){if(!Dl(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ql(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Qe.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ot.fromDate(e);return{timestampValue:rs(t.serializer,n)}}if(e instanceof Ot){const n=new Ot(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rs(t.serializer,n)}}if(e instanceof Al)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Tl)return{bytesValue:is(t.serializer,e._byteString)};if(e instanceof xl){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:os(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Rl)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Yr(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(ml(e)))}(e,t)}function Hl(e,t){const n={};return cn(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ln(e,(e,r)=>{const i=ql(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Wl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ot||e instanceof Al||e instanceof Tl||e instanceof xl||e instanceof Il||e instanceof Rl)}function Kl(e,t,n){if(!Wl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ml(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Gl(e,t,n){if((t=(0,Qe.Ku)(t))instanceof jl)return t._internalPath;if("string"==typeof t)return Xl(e,t);throw Yl("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ql=new RegExp("[~\\*/\\[\\]]");function Xl(e,t,n){if(t.search(Ql)>=0)throw Yl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new jl(...t.split("."))._internalPath}catch(r){throw Yl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Yl(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new xt(bt.INVALID_ARGUMENT,o+e+l)}function $l(e,t){return e.some(e=>e.isEqual(t))}class Jl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ec("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zl extends Jl{data(){return super.data()}}function ec(e,t){return"string"==typeof t?Xl(e,t):t instanceof jl?t._internalPath:t._delegate._internalPath}function tc(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new xt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nc{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Tn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ln(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>xn(e.doubleValue));return new Rl(i)}convertGeoPoint(e){return new Al(xn(e.latitude),xn(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=kn(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Nn(e));default:return null}}convertTimestamp(e){const t=bn(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mt.fromString(e);vt(js(n));const r=new Sn(n.get(1),n.get(3)),i=new Ut(n.popFirst(5));return r.isEqual(t)||ft("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends Jl{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ec("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class sc extends ic{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ac{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new rc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new sc(this._firestore,this._userDataWriter,n.key,n,new rc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new sc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new rc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new sc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:oc(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function oc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function lc(e){e=gl(e,xl);const t=gl(e.firestore,El);return ul(Sl(t),e._key).then(n=>dc(t,e,n))}class cc extends nc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xl(this.firestore,null,t)}}function uc(e,t){return function(e,t){const n=new wt;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=$o(e);try{const e=await function(e,t){const n=yt(e),r=Ot.now(),i=t.reduce((e,t)=>e.add(t.key),Gr());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Fr(),l=Gr();return n.cs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=bi(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new _i(e.key,t,Wn(t.value.mapValue),fi.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:zr(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new un(Rt)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Go(r,e.changes),await Ga(r.remoteStore)}catch(e){const t=oo(e,"Failed to persist write");n.reject(t)}}(await ll(e),t,n)),n.promise}(Sl(e),t)}function dc(e,t,n){const r=n.docs.get(t._key),i=new cc(e);return new ic(e,i,t._key,r,new rc(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ct=e}(We.MF),(0,We.om)(new Ke.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new El(new Et(e.getProvider("auth-internal")),new jt(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sn(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,We.KO)(ot,"4.7.3",e),(0,We.KO)(ot,"4.7.3","esm2017")}();(0,We.KO)("firebase","10.14.1","app");const hc="firebasestorage.googleapis.com",fc="storageBucket";class pc extends Qe.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(vc(e),"Firebase Storage: ".concat(t," (").concat(vc(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pc.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var mc,gc;function vc(e){return"storage/"+e}function yc(){return new pc(mc.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function bc(){return new pc(mc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xc(){return new pc(mc.CANCELED,"User canceled the upload/download.")}function wc(){return new pc(mc.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _c(e){return new pc(mc.INVALID_ARGUMENT,e)}function kc(){return new pc(mc.APP_DELETED,"The Firebase app was deleted.")}function Nc(e,t){return new pc(mc.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ec(e){throw new pc(mc.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(mc||(mc={}));class Sc{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Sc.makeFromUrl(e,t)}catch(up){return new Sc(e,"")}if(""===n.path)return n;throw r=e,new pc(mc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===hc?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Sc(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new pc(mc.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Cc{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Tc(e){return"string"===typeof e||e instanceof String}function jc(e){return Ic()&&e instanceof Blob}function Ic(){return"undefined"!==typeof Blob}function Ac(e,t,n,r){if(r<t)throw _c("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw _c("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Rc(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Pc(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Oc(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(gc||(gc={}));class Dc{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Lc(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===gc.NO_ERROR,i=n.getStatus();if(!t||Oc(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===gc.ABORT;return void e(!1,new Lc(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Lc(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(up){r(up)}else if(null!==i){const e=yc();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?kc():xc())}else{r(bc())}};this.canceled_?t(0,new Lc(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Lc{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Mc(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Fc(){const e=Mc();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Ic())return new Blob(n);throw new pc(mc.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Vc(e){if("undefined"===typeof atob)throw t="base-64",new pc(mc.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Uc="raw",zc="base64",Bc="base64url",qc="data_url";class Hc{constructor(e,t){this.data=e,this.contentType=t||null}}function Wc(e,t){switch(e){case Uc:return new Hc(Kc(t));case zc:case Bc:return new Hc(Gc(e,t));case qc:return new Hc(function(e){const t=new Qc(e);return t.base64?Gc(zc,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(up){throw Nc(qc,"Malformed data URL.")}return Kc(t)}(t.rest)}(t),new Qc(t).contentType)}throw yc()}function Kc(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Gc(e,t){switch(e){case zc:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Nc(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Bc:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Nc(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vc(t)}catch(up){if(up.message.includes("polyfill"))throw up;throw Nc(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Qc{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Nc(qc,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Xc{constructor(e,t){let n=0,r="";jc(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(jc(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Xc(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Xc(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Ic()){const e=t.map(e=>e instanceof Xc?e.data_:e);return new Xc(Fc.apply(null,e))}{const e=t.map(e=>Tc(e)?Wc(Uc,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new Xc(r,!0)}}uploadData(){return this.data_}}function Yc(e){let t;try{t=JSON.parse(e)}catch(up){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function $c(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Jc(e,t){return t}class Zc{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Jc}}let eu=null;function tu(){if(eu)return eu;const e=[];e.push(new Zc("bucket")),e.push(new Zc("generation")),e.push(new Zc("metageneration")),e.push(new Zc("name","fullPath",!0));const t=new Zc("name");t.xform=function(e,t){return function(e){return!Tc(e)||e.length<2?e:$c(e)}(t)},e.push(t);const n=new Zc("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Zc("timeCreated")),e.push(new Zc("updated")),e.push(new Zc("md5Hash",null,!0)),e.push(new Zc("cacheControl",null,!0)),e.push(new Zc("contentDisposition",null,!0)),e.push(new Zc("contentEncoding",null,!0)),e.push(new Zc("contentLanguage",null,!0)),e.push(new Zc("contentType",null,!0)),e.push(new Zc("metadata","customMetadata",!0)),eu=e,eu}function nu(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Sc(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ru(e,t,n){const r=Yc(t);if(null===r)return null;return nu(e,r,n)}function iu(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class su{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function au(e){if(!e)throw yc()}function ou(e,t){return function(n,r){const i=ru(e,r,t);return au(null!==i),i}}function lu(e,t){return function(n,r){const i=ru(e,r,t);return au(null!==i),function(e,t,n,r){const i=Yc(t);if(null===i)return null;if(!Tc(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(t=>{const i=e.bucket,s=e.fullPath;return Rc("/b/"+a(i)+"/o/"+a(s),n,r)+Pc({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function cu(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new pc(mc.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new pc(mc.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new pc(mc.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new pc(mc.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function uu(e){const t=cu(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new pc(mc.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function du(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function hu(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=du(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+iu(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=Xc.getBlob(c,r,u);if(null===d)throw wc();const h={name:l.fullPath},f=Rc(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new su(f,"POST",ou(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=cu(t),m}class fu{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw Ec("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ec("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ec("cannot .getStatus() before sending");try{return this.xhr_.status}catch(up){return-1}}getResponse(){if(!this.sent_)throw Ec("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ec("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class pu extends fu{initXhr(){this.xhr_.responseType="text"}}function mu(){return new pu}class gu{constructor(e,t){this._service=e,this._location=t instanceof Sc?t:Sc.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new gu(e,t)}get root(){const e=new Sc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $c(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Sc(this._location.bucket,e);return new gu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new pc(mc.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function vu(e,t,n){e._throwIfRoot("uploadBytes");const r=hu(e.storage,e._location,tu(),new Xc(t,!0),n);return e.storage.makeRequestWithTokens(r,mu).then(t=>({metadata:t,ref:e}))}function yu(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Rc(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new su(r,"GET",lu(e,n),i);return s.errorHandler=uu(t),s}(e.storage,e._location,tu());return e.storage.makeRequestWithTokens(t,mu).then(e=>{if(null===e)throw new pc(mc.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function bu(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Sc(e._location.bucket,n);return new gu(e.storage,r)}function xu(e,t){if(e instanceof ku){const n=e;if(null==n._bucket)throw new pc(mc.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fc+"' property when initializing the app?");const r=new gu(n,n._bucket);return null!=t?xu(r,t):r}return void 0!==t?bu(e,t):e}function wu(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ku)return new gu(e,t);throw _c("To use ref(service, url), the first argument must be a Storage instance.")}return xu(e,t)}function _u(e,t){const n=null===t||void 0===t?void 0:t[fc];return null==n?null:Sc.makeFromBucketSpec(n,e)}class ku{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=hc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Sc.makeFromBucketSpec(r,this._host):_u(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Sc.makeFromBucketSpec(this._url,e):this._bucket=_u(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ac("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ac("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gu(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Cc(kc());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Pc(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Dc(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Nu="@firebase/storage",Eu="0.13.2",Su="storage";function Cu(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new ku(r,i,s,n,We.MF)}(0,We.om)(new Ke.uA(Su,Cu,"PUBLIC").setMultipleInstances(!0)),(0,We.KO)(Nu,Eu,""),(0,We.KO)(Nu,Eu,"esm2017");const Tu={apiKey:"AIzaSyA3WWtYaS40SIrSqfvjMy7VfJHCxAufovY",authDomain:"easylog-pro.firebaseapp.com",projectId:"easylog-pro",storageBucket:"easylog-pro.firebasestorage.app",messagingSenderId:"700072825516",appId:"1:700072825516:web:916ff03677514d569e0509"};console.log("\ud83d\udd25 Firebase Config:",{projectId:Tu.projectId,authDomain:Tu.authDomain,hasApiKey:!!Tu.apiKey});const ju=(0,We.Wp)(Tu),Iu=(0,He.getAuth)(ju);let Au;try{Au=function(e,t,n){n||(n="(default)");const r=(0,We.j6)(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n}),i=r.getOptions(n);if((0,Qe.bD)(i,t))return e;throw new xt(bt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new xt(bt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}(ju,{experimentalForceLongPolling:!0}),console.log("\u2705 Firestore initialis\xe9 avec long polling")}catch(up){Au=function(e,t){const n="object"==typeof e?e:(0,We.Sx)(),r="string"==typeof e?e:t||"(default)",i=(0,We.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,Qe.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=gl(e,yl))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&pt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=lt.MOCK_USER;else{t=(0,Qe.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new xt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new lt(s)}e._authCredentials=new Nt(new _t(t,n))}}(i,...e)}return i}(ju),console.log("\u2705 Firestore r\xe9cup\xe9r\xe9 (d\xe9j\xe0 initialis\xe9)")}(function(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await al(e),n=await ol(e);return t.setNetworkEnabled(!0),function(e){const t=yt(e);return t.L_.delete(0),Aa(t)}(n)})}(Sl(e=gl(e,El)))})(Au).then(()=>console.log("\u2705 Firestore: connexion r\xe9seau activ\xe9e")).catch(e=>console.warn("\u26a0\ufe0f Firestore enableNetwork:",e.message));const Ru=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,We.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,Qe.Ku)(e);const n=(0,We.j6)(e,Su).getImmediate({identifier:t}),r=(0,Qe.yU)("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:(0,Qe.Fy)(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(ju);var Pu=n(579);const Ou=(0,i.createContext)(null),Du=()=>{const e=(0,i.useContext)(Ou);if(!e)throw new Error("useAuth doit \xeatre utilis\xe9 dans un AuthProvider");return e},Lu={orgId:"easylog_pro",role:"admin",nom:"Admin",prenom:"User",actif:!0},Mu={nom:"EasyLog Pro",licence:{statut:"actif",plan:"pro",modules_actifs:["energie","incendie"]}},Fu=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const n=new Promise((e,n)=>setTimeout(()=>n(new Error("Timeout")),t));return Promise.race([e,n])},Vu=e=>{var t;let{children:r}=e;const[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)({valid:!0}),[f,p]=(0,i.useState)(!0);(0,i.useEffect)(()=>{console.log("\ud83d\udd10 AuthProvider: Initialisation...");const e=(0,He.hg)(Iu,async e=>{if(console.log("\ud83d\udd10 Auth state changed:",e?"connect\xe9":"d\xe9connect\xe9"),e){a(e);const n=localStorage.getItem("currentOrgId")||"easylog_pro";localStorage.setItem("currentOrgId",n);try{const[t,r]=await Promise.allSettled([Fu(lc(_l(Au,"organizations/".concat(n,"/users"),e.uid))),Fu(lc(_l(Au,"organizations/".concat(n,"/settings"),"main")))]);if("fulfilled"===t.status&&t.value.exists()?(console.log("\u2705 UserData charg\xe9 depuis Firestore"),l((0,qe.A)({orgId:n},t.value.data()))):(console.log("\u26a0\ufe0f UserData: utilisation des valeurs par d\xe9faut"),l(Lu)),"fulfilled"===r.status&&r.value.exists()){console.log("\u2705 OrgSettings charg\xe9 depuis Firestore");const e=r.value.data();u(e),h(m(e))}else console.log("\u26a0\ufe0f OrgSettings: utilisation des valeurs par d\xe9faut"),u(Mu),h({valid:!0,licence:Mu.licence})}catch(t){console.error("\u274c Erreur chargement donn\xe9es:",t),l(Lu),u(Mu),h({valid:!0})}}else a(null),l(null),u(null),h({valid:!0});p(!1),console.log("\ud83d\udd10 AuthProvider: Chargement termin\xe9")});return()=>e()},[]);const m=e=>{if(null===e||void 0===e||!e.licence)return{valid:!0,licence:Mu.licence};const t=e.licence;if("suspendu"===t.statut)return{valid:!1,reason:"Licence suspendue"};if(!t.date_expiration)return{valid:!0,licence:t};try{var n,r;const e=new Date;let i;if(i=null!==(n=t.date_expiration)&&void 0!==n&&n.toDate?t.date_expiration.toDate():null!==(r=t.date_expiration)&&void 0!==r&&r.seconds?new Date(1e3*t.date_expiration.seconds):new Date(t.date_expiration),isNaN(i.getTime()))return{valid:!0,licence:t};if(e>i)return{valid:!1,reason:"Licence expir\xe9e",expired:!0};const s=Math.ceil((i-e)/864e5);return{valid:!0,licence:(0,qe.A)((0,qe.A)({},t),{},{jours_restants:s,expire_bientot:s<=30})}}catch(up){return{valid:!0,licence:t}}},g=e=>!!o&&("string"===typeof e&&(e=[e]),e.includes(o.role)),v={user:s,userData:o,orgSettings:c,orgId:(null===o||void 0===o?void 0:o.orgId)||"easylog_pro",licence:d,loading:f,error:null,login:async(e,t)=>{const{signInWithEmailAndPassword:r}=await Promise.resolve().then(n.bind(n,786)),i=await r(Iu,e,t);return localStorage.setItem("currentOrgId","easylog_pro"),i},logout:async()=>{p(!0);try{const{signOut:e}=await Promise.resolve().then(n.bind(n,786));await e(Iu),localStorage.removeItem("currentOrgId"),a(null),l(null),u(null),h({valid:!0})}catch(e){console.error("Erreur d\xe9connexion:",e)}finally{p(!1)}},resetPassword:async e=>{const{sendPasswordResetEmail:t}=await Promise.resolve().then(n.bind(n,786));return t(Iu,e)},refreshSettings:async()=>{if(null!==o&&void 0!==o&&o.orgId)try{const e=await lc(_l(Au,"organizations/".concat(o.orgId,"/settings"),"main"));e.exists()&&u(e.data())}catch(e){console.error("Erreur refresh settings:",e)}},hasRole:g,isAdmin:()=>g(["admin"]),canManage:()=>g(["admin","gestionnaire"]),isTechnicien:()=>g(["admin","gestionnaire","technicien"]),isSTT:()=>g(["stt"]),isClient:()=>g(["client_payeur","client_final"]),isModuleActive:e=>{var t,n;return(null===c||void 0===c||null===(t=c.licence)||void 0===t||null===(n=t.modules_actifs)||void 0===n?void 0:n.includes(e))||!1},isAuthenticated:!!s,isLicenceValid:!1!==(null===d||void 0===d?void 0:d.valid),licenceExpireBientot:(null===d||void 0===d||null===(t=d.licence)||void 0===t?void 0:t.expire_bientot)||!1};return(0,Pu.jsx)(Ou.Provider,{value:v,children:r})};function Uu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var zu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Bu=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],qu=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u}=n,d=Uu(n,Bu);return(0,i.createElement)("svg",(0,qe.A)((0,qe.A)({ref:r},zu),{},{width:a,height:a,stroke:s,strokeWidth:l?24*Number(o)/Number(a):o,className:["lucide","lucide-".concat((h=e,h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},d),[...t.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(u)?u:[u]]);var h});return n.displayName="".concat(e),n},Hu=qu("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Wu=qu("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Ku=qu("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Gu=qu("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Qu=qu("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Xu=qu("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Yu=qu("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),$u=qu("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Ju=qu("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),Zu=qu("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),ed=qu("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),td=qu("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),nd=qu("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),rd=qu("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),id=qu("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),sd=qu("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),ad=qu("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),od=qu("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]),ld=qu("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),cd=qu("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),ud=qu("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),dd=qu("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),hd=qu("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),fd=qu("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),pd=qu("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),md=qu("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),gd=qu("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),vd=qu("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),yd=qu("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),bd=qu("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),xd=qu("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),wd=qu("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),_d=qu("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),kd=qu("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nd=qu("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ed=qu("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Sd=qu("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Cd=qu("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),Td=qu("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),jd=qu("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Id={active:!0,reduction:15,dureeMinutes:30,titre:"OFFRE LANCEMENT"},Ad=[{id:"installateur_rge",label:"INSTALLATEUR RGE",sublabel:"Qualifi\xe9 travaux r\xe9novation",icon:Hu,color:"emerald"},{id:"mainteneur_sav",label:"MAINTENEUR / SAV",sublabel:"Entretien et d\xe9pannage",icon:Wu,color:"blue"},{id:"artisan",label:"ARTISAN IND\xc9PENDANT",sublabel:"Multi-comp\xe9tences",icon:Ku,color:"amber"},{id:"sous_traitant",label:"SOUS-TRAITANT",sublabel:"Donneurs d'ordre",icon:Gu,color:"violet"},{id:"commercial",label:"AGENT COMMERCIAL",sublabel:"Vente et coordination",icon:Qu,color:"rose"}],Rd=[{id:"solo",label:"IND\xc9PENDANT",sublabel:"Je travaille seul",icon:Ku,users:1},{id:"petite",label:"PETITE \xc9QUIPE",sublabel:"2 \xe0 5 personnes",icon:Xu,users:5},{id:"moyenne",label:"\xc9QUIPE MOYENNE",sublabel:"6 \xe0 15 personnes",icon:Yu,users:15},{id:"grande",label:"GRANDE STRUCTURE",sublabel:"Plus de 15 personnes",icon:$u,users:999}],Pd=[{id:"papier",label:"PAPIER / CARNETS",sublabel:"Fiches, bons d'intervention",icon:Ju,emoji:"\ud83d\udcdd"},{id:"excel",label:"EXCEL / TABLEUR",sublabel:"Fichiers sur ordinateur",icon:Zu,emoji:"\ud83d\udcca"},{id:"logiciel",label:"LOGICIEL EXISTANT",sublabel:"D\xe9j\xe0 \xe9quip\xe9 mais pas satisfait",icon:ed,emoji:"\ud83d\udcbb"},{id:"rien",label:"RIEN DE STRUCTUR\xc9",sublabel:"M\xe9moire, notes, SMS...",icon:td,emoji:"\ud83e\udd37"}],Od=[{id:"structurer",label:"Me structurer / M'organiser",icon:Qu},{id:"conformite",label:"\xcatre conforme r\xe9glementation",icon:nd},{id:"temps",label:"Gagner du temps administratif",icon:rd},{id:"primes",label:"Simuler les primes clients",icon:id},{id:"terrain",label:"Suivre mes chantiers terrain",icon:sd},{id:"facturer",label:"Facturer plus facilement",icon:ad}],Dd=[{id:"pac",label:"POMPES \xc0 CHALEUR",sublabel:"Air/Air, Air/Eau, G\xe9othermie",icon:od,color:"cyan",rapports:["Installation PAC","Mise en service","Entretien","D\xe9pannage"]},{id:"isolation",label:"ISOLATION",sublabel:"Combles, Murs, Planchers, ITE",icon:ld,color:"emerald",rapports:["Pose isolation","Attestation","Dossier CEE"]},{id:"menuiseries",label:"MENUISERIES EXT.",sublabel:"Fen\xeatres, Portes, Volets",icon:cd,color:"amber",rapports:["Pose menuiseries","Attestation"]},{id:"cet",label:"CHAUFFE-EAU THERMO",sublabel:"Installation, Entretien",icon:ud,color:"orange",rapports:["Installation CET","Mise en service","SAV"]},{id:"vmc",label:"VMC / VENTILATION",sublabel:"Simple flux, Double flux",icon:dd,color:"sky",rapports:["Installation VMC","Entretien VMC"]},{id:"pv",label:"PHOTOVOLTA\xcfQUE",sublabel:"Panneaux solaires",icon:hd,color:"yellow",rapports:["Installation PV","Consuel"]}],Ld=[{id:"ia",label:"ASSISTANT IA",sublabel:"Correction automatique des rapports",prix:5,icon:fd,color:"violet",popular:!0},{id:"simulateur",label:"SIMULATEUR PRIMES",sublabel:"CEE + MaPrimeR\xe9nov automatique",prix:10,icon:id,color:"emerald"},{id:"compta",label:"EXPORT COMPTABLE",sublabel:"Envoi auto Sage, EBP, Ciel",prix:10,icon:Zu,color:"blue"},{id:"veille",label:"VEILLE R\xc9GLEMENTAIRE",sublabel:"Alertes mises \xe0 jour normes",prix:5,icon:pd,color:"amber"}],Md=()=>(0,Pu.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(30)].map((e,t)=>(0,Pu.jsx)("div",{className:"absolute w-1 h-1 bg-emerald-400/30 rounded-full animate-float",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(5*Math.random(),"s"),animationDuration:"".concat(5+10*Math.random(),"s")}},t))}),Fd=e=>{let{size:t="normal"}=e;const n={small:{container:"w-12 h-12",text:"text-2xl"},normal:{container:"w-20 h-20",text:"text-4xl"},large:{container:"w-32 h-32",text:"text-6xl"},hero:{container:"w-40 h-40",text:"text-7xl"}}[t];return(0,Pu.jsxs)("div",{className:"relative ".concat(n.container," group"),children:[(0,Pu.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400 via-emerald-500 to-teal-600 rounded-3xl blur-xl opacity-60",style:{animation:"glowPulse 2s ease-in-out infinite"}}),(0,Pu.jsxs)("div",{className:"relative ".concat(n.container," bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl flex items-center justify-center border border-emerald-500/30 shadow-2xl shadow-emerald-500/20 overflow-hidden"),style:{animation:"zoomBreath 3s ease-in-out infinite"},children:[(0,Pu.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-transparent"}),(0,Pu.jsxs)("div",{className:"relative z-10 ".concat(n.text," font-black tracking-tight flex items-center justify-center"),children:[(0,Pu.jsx)("span",{className:"text-white",children:"E"}),(0,Pu.jsxs)("span",{className:"text-emerald-400 relative",style:{animation:"vGlowSpectacular 1.5s ease-in-out infinite",textShadow:"0 0 10px #34d399, 0 0 20px #34d399, 0 0 40px #10b981, 0 0 60px #10b981, 0 0 80px #059669"},children:["V",(0,Pu.jsx)("span",{className:"absolute inset-0 text-emerald-300 blur-sm",style:{animation:"vRayPulse 1.5s ease-in-out infinite"},children:"V"})]})]})]})]})},Vd=()=>(0,Pu.jsxs)("h1",{className:"relative",children:[(0,Pu.jsxs)("span",{className:"flex items-baseline justify-center text-6xl md:text-8xl font-black tracking-tight",children:[(0,Pu.jsx)("span",{className:"text-white",children:"Easy"}),(0,Pu.jsx)("span",{className:"text-white ml-3",children:"Reno"}),(0,Pu.jsx)("span",{className:"text-7xl md:text-9xl text-emerald-400 font-black ml-0",style:{textShadow:"0 0 30px rgba(52, 211, 153, 0.7), 0 0 60px rgba(52, 211, 153, 0.4)",animation:"pulseV 2s ease-in-out infinite"},children:"V"})]}),(0,Pu.jsx)("div",{className:"absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-transparent via-emerald-400 to-transparent animate-shimmer"})]}),Ud=e=>{let{children:t,onClick:n,variant:r="primary",size:i="large",disabled:s,className:a=""}=e;return(0,Pu.jsxs)("button",{onClick:n,disabled:s,className:"\n        relative overflow-hidden rounded-2xl font-bold transition-all duration-300\n        ".concat({primary:"bg-gradient-to-r from-emerald-500 via-emerald-400 to-teal-500 text-slate-900 shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50",secondary:"bg-white/10 backdrop-blur-sm text-white border border-white/20 hover:bg-white/20",ghost:"text-white/70 hover:text-white hover:bg-white/10"}[r]," ").concat({small:"px-4 py-2 text-sm",medium:"px-6 py-3 text-base",large:"px-8 py-4 text-lg",xl:"px-10 py-5 text-xl"}[i],"\n        ").concat(s?"opacity-50 cursor-not-allowed":"hover:scale-[1.02] active:scale-[0.98]","\n        ").concat(a,"\n      "),children:["primary"===r&&(0,Pu.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full hover:translate-x-full transition-transform duration-700"}),(0,Pu.jsx)("span",{className:"relative z-10 flex items-center justify-center gap-3",children:t})]})},zd=e=>{let{selected:t,onClick:n,icon:r,label:i,sublabel:s,color:a="indigo",badge:o,disabled:l}=e;const c={indigo:"from-indigo-500 to-purple-600",emerald:"from-emerald-500 to-teal-600",blue:"from-blue-500 to-cyan-600",amber:"from-amber-500 to-orange-600",violet:"from-violet-500 to-purple-600",rose:"from-rose-500 to-pink-600",cyan:"from-cyan-500 to-blue-600",orange:"from-orange-500 to-red-600",sky:"from-sky-500 to-blue-600",yellow:"from-yellow-500 to-amber-600"};return(0,Pu.jsxs)("button",{onClick:n,disabled:l,className:"\n        relative w-full p-5 rounded-2xl text-left transition-all duration-300 group\n        ".concat(t?"bg-gradient-to-br "+c[a]+" shadow-2xl scale-[1.02]":"bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20","\n        ").concat(l?"opacity-50 cursor-not-allowed":"","\n      "),children:[o&&(0,Pu.jsx)("div",{className:"absolute -top-2 -right-2 px-3 py-1 bg-gradient-to-r from-amber-400 to-orange-500 text-slate-900 text-xs font-black rounded-full shadow-lg",children:o}),(0,Pu.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pu.jsx)("div",{className:"\n          w-14 h-14 rounded-xl flex items-center justify-center transition-all duration-300\n          ".concat(t?"bg-white/20":"bg-gradient-to-br "+c[a]+"/20","\n        "),children:(0,Pu.jsx)(r,{className:"w-7 h-7 ".concat(t?"text-white":"text-"+a+"-400")})}),(0,Pu.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pu.jsx)("p",{className:"font-bold text-lg ".concat("text-white"),children:i}),s&&(0,Pu.jsx)("p",{className:"text-sm ".concat(t?"text-white/80":"text-white/50"),children:s})]}),t&&(0,Pu.jsx)("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center",children:(0,Pu.jsx)(md,{className:"w-5 h-5 text-emerald-600"})})]})]})},Bd=e=>{let{checked:t,onClick:n,icon:r,label:i,color:s="emerald"}=e;return(0,Pu.jsxs)("button",{onClick:n,className:"\n      relative p-4 rounded-xl text-left transition-all duration-300 flex items-center gap-3\n      ".concat(t?"bg-emerald-500/20 border-2 border-emerald-400":"bg-white/5 border-2 border-transparent hover:border-white/20","\n    "),children:[(0,Pu.jsx)("div",{className:"\n      w-6 h-6 rounded-lg flex items-center justify-center transition-all\n      ".concat(t?"bg-emerald-500":"bg-white/10 border border-white/30","\n    "),children:t&&(0,Pu.jsx)(md,{className:"w-4 h-4 text-white"})}),(0,Pu.jsx)(r,{className:"w-5 h-5 ".concat(t?"text-emerald-400":"text-white/50")}),(0,Pu.jsx)("span",{className:"font-medium ".concat(t?"text-white":"text-white/70"),children:i})]})},qd=e=>{let{step:t,total:n=5}=e;return(0,Pu.jsxs)("div",{className:"w-full",children:[(0,Pu.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pu.jsxs)("span",{className:"text-white/50 text-sm font-medium",children:["\xc9TAPE ",t,"/",n]}),(0,Pu.jsxs)("span",{className:"text-emerald-400 text-sm font-bold",children:[Math.round(t/n*100),"%"]})]}),(0,Pu.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,Pu.jsx)("div",{className:"h-full bg-gradient-to-r from-emerald-400 to-teal-400 rounded-full transition-all duration-500",style:{width:"".concat(t/n*100,"%")}})})]})},Hd=e=>{let{onStart:t,onLogin:n}=e;const r=[{icon:sd,label:"2 Applications",sublabel:"Terrain + Bureau"},{icon:Ju,label:"Rapports RGE",sublabel:"Conformes & sp\xe9cialis\xe9s"},{icon:id,label:"Simulateur Primes",sublabel:"CEE + MaPrimeR\xe9nov"},{icon:ad,label:"Devis / Factures",sublabel:"G\xe9n\xe9ration automatique"},{icon:gd,label:"Planning intelligent",sublabel:"Gestion tech / STT"},{icon:vd,label:"Alertes automatiques",sublabel:"Relances, \xe9ch\xe9ances"}];return(0,Pu.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950 flex flex-col relative overflow-hidden",children:[(0,Pu.jsx)(Md,{}),(0,Pu.jsx)("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-emerald-500/10 rounded-full blur-[120px]"}),(0,Pu.jsx)("div",{className:"absolute bottom-0 right-1/4 w-[600px] h-[600px] bg-indigo-500/10 rounded-full blur-[120px]"}),(0,Pu.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:64px_64px]"}),(0,Pu.jsxs)("header",{className:"relative z-10 p-6 flex items-center justify-between",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)(Fd,{size:"small"}),(0,Pu.jsx)("span",{className:"text-white font-bold text-xl hidden sm:block",children:"Easy Renov"})]}),(0,Pu.jsxs)("button",{onClick:n,className:"flex items-center gap-2 px-5 py-2.5 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-xl border border-white/10 transition-all text-white font-semibold",children:[(0,Pu.jsx)(yd,{className:"w-5 h-5"}),(0,Pu.jsx)("span",{className:"hidden sm:inline",children:"ESPACE CLIENT"})]})]}),(0,Pu.jsxs)("main",{className:"flex-1 flex flex-col items-center justify-center px-6 relative z-10",children:[(0,Pu.jsxs)("div",{className:"text-center mb-8",children:[(0,Pu.jsx)(Fd,{size:"hero"}),(0,Pu.jsx)("div",{className:"mt-8",children:(0,Pu.jsx)(Vd,{})}),(0,Pu.jsxs)("p",{className:"mt-6 text-xl md:text-2xl text-white/60 max-w-2xl mx-auto leading-relaxed",children:["La plateforme ",(0,Pu.jsx)("span",{className:"text-white font-semibold",children:"tout-en-un"})," pour les professionnels de la ",(0,Pu.jsx)("span",{className:"text-emerald-400 font-semibold",children:"r\xe9novation \xe9nerg\xe9tique"})]})]}),(0,Pu.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 max-w-5xl w-full mb-10",children:r.map((e,t)=>(0,Pu.jsxs)("div",{className:"p-4 bg-white/5 backdrop-blur-sm rounded-2xl border border-white/10 text-center group hover:bg-white/10 transition-all",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,Pu.jsx)("div",{className:"w-12 h-12 mx-auto mb-3 rounded-xl bg-gradient-to-br from-emerald-500/20 to-teal-500/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,Pu.jsx)(e.icon,{className:"w-6 h-6 text-emerald-400"})}),(0,Pu.jsx)("p",{className:"text-white font-bold text-sm",children:e.label}),(0,Pu.jsx)("p",{className:"text-white/50 text-xs mt-1",children:e.sublabel})]},t))}),(0,Pu.jsxs)("div",{className:"max-w-2xl w-full mb-8 text-center animate-pulseGlow rounded-2xl p-6 bg-gradient-to-r from-white/5 via-emerald-500/10 to-white/5 border border-emerald-500/20",children:[(0,Pu.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:["INSTALLATEUR","MAINTENEUR","ARTISAN","SOUS-TRAITANT","AGENT CO"].map((e,t)=>(0,Pu.jsx)("span",{className:"px-3 py-1 bg-white/10 rounded-full text-white font-bold text-sm border border-white/20",children:e},t))}),(0,Pu.jsxs)("p",{className:"text-white/90 text-lg md:text-xl leading-relaxed",children:[(0,Pu.jsx)("span",{className:"text-emerald-400 font-semibold",children:"Acc\xe9dez \xe0 nos offres"})," en suivant le configurateur interactif,",(0,Pu.jsx)("br",{className:"hidden md:block"}),(0,Pu.jsx)("span",{className:"text-white font-medium",children:" nous identifions vos besoins"})," et vous proposons",(0,Pu.jsx)("span",{className:"text-emerald-400 font-semibold",children:" la solution adapt\xe9e"}),"."]}),(0,Pu.jsx)("div",{className:"mt-4 flex justify-center",children:(0,Pu.jsx)(bd,{className:"w-6 h-6 text-emerald-400 animate-bounce rotate-90"})})]}),(0,Pu.jsxs)(Ud,{onClick:t,size:"xl",className:"min-w-[320px]",children:[(0,Pu.jsx)(xd,{className:"w-6 h-6"}),"CONFIGURER MA SOLUTION",(0,Pu.jsx)(bd,{className:"w-6 h-6"})]}),(0,Pu.jsx)("p",{className:"mt-4 text-white/40 text-sm",children:"\u26a1 5 questions \u2022 90 secondes \u2022 Sans engagement"})]}),(0,Pu.jsx)("footer",{className:"relative z-10 p-6",children:(0,Pu.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,Pu.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-6 text-white/40 text-sm",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pu.jsx)(wd,{className:"w-4 h-4 text-blue-400"}),(0,Pu.jsx)("span",{children:"\ud83c\uddeb\ud83c\uddf7 H\xe9berg\xe9 en France"})]}),(0,Pu.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pu.jsx)(_d,{className:"w-4 h-4 text-emerald-400"}),(0,Pu.jsx)("span",{children:"Donn\xe9es s\xe9curis\xe9es"})]}),(0,Pu.jsx)("span",{className:"text-white/30 text-xs",children:"RGPD \u2022 Import/Export client"})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pu.jsx)(kd,{className:"w-4 h-4 text-rose-400"}),(0,Pu.jsx)("span",{children:"Sans engagement"})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-4 text-white/30 text-xs",children:[(0,Pu.jsx)("a",{href:"/mentions-legales",className:"hover:text-white/60 transition-colors underline",children:"Mentions l\xe9gales"}),(0,Pu.jsx)("span",{children:"\u2022"}),(0,Pu.jsx)("a",{href:"/cgv",className:"hover:text-white/60 transition-colors underline",children:"Conditions G\xe9n\xe9rales de Vente"})]})]})}),(0,Pu.jsx)("style",{jsx:!0,children:"\n        @keyframes float {\n          0%, 100% { transform: translateY(0) translateX(0); opacity: 0.3; }\n          50% { transform: translateY(-20px) translateX(10px); opacity: 0.6; }\n        }\n        @keyframes shimmer {\n          0% { transform: translateX(-100%); }\n          100% { transform: translateX(100%); }\n        }\n        @keyframes sway {\n          0%, 100% { transform: rotate(-5deg); }\n          50% { transform: rotate(5deg); }\n        }\n        @keyframes grow {\n          0%, 100% { transform: translateX(-50%) scale(1); }\n          50% { transform: translateX(-50%) scale(1.2); }\n        }\n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        @keyframes pulse-slow {\n          0%, 100% { opacity: 0.5; }\n          50% { opacity: 0.8; }\n        }\n        @keyframes zoomBreath {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.08); }\n        }\n        @keyframes glowPulse {\n          0%, 100% { opacity: 0.4; transform: scale(1); }\n          50% { opacity: 0.8; transform: scale(1.1); }\n        }\n        @keyframes vGlowSpectacular {\n          0%, 100% { \n            text-shadow: 0 0 10px #34d399, 0 0 20px #34d399, 0 0 40px #10b981, 0 0 60px #10b981, 0 0 80px #059669;\n            transform: scale(1);\n          }\n          50% { \n            text-shadow: 0 0 20px #34d399, 0 0 40px #34d399, 0 0 60px #10b981, 0 0 80px #10b981, 0 0 100px #059669, 0 0 120px #047857;\n            transform: scale(1.1);\n          }\n        }\n        @keyframes vRayPulse {\n          0%, 100% { opacity: 0.3; transform: scale(1); }\n          50% { opacity: 0.7; transform: scale(1.2); }\n        }\n        @keyframes spinSlow {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        @keyframes pulseV {\n          0%, 100% { \n            transform: scale(1) translateY(0);\n            text-shadow: 0 0 30px rgba(52, 211, 153, 0.7), 0 0 60px rgba(52, 211, 153, 0.4);\n          }\n          50% { \n            transform: scale(1.05) translateY(-5px);\n            text-shadow: 0 0 40px rgba(52, 211, 153, 0.9), 0 0 80px rgba(52, 211, 153, 0.6);\n          }\n        }\n        @keyframes flyV {\n          0%, 100% { \n            transform: translateY(-5px) rotate(-2deg); \n            filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.5));\n          }\n          50% { \n            transform: translateY(-15px) rotate(2deg); \n            filter: drop-shadow(0 0 40px rgba(16, 185, 129, 0.8));\n          }\n        }\n        @keyframes logoV {\n          0%, 100% { \n            transform: scale(1) rotate(0deg); \n            filter: drop-shadow(0 0 5px rgba(16, 185, 129, 0.5));\n          }\n          50% { \n            transform: scale(1.05) rotate(2deg); \n            filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.8));\n          }\n        }\n        @keyframes leafPulse {\n          0%, 100% { \n            opacity: 1;\n            transform: scale(1);\n          }\n          50% { \n            opacity: 0.9;\n            transform: scale(1.05);\n          }\n        }\n        @keyframes treeGrow {\n          0%, 100% { \n            transform: translateX(-50%) scale(1); \n            opacity: 1;\n          }\n          50% { \n            transform: translateX(-50%) scale(1.15); \n            opacity: 1;\n          }\n        }\n        @keyframes leafAppear1 {\n          0%, 100% { \n            transform: rotate(-15deg) scale(1); \n            opacity: 0.8;\n          }\n          50% { \n            transform: rotate(-25deg) scale(1.2); \n            opacity: 1;\n          }\n        }\n        @keyframes leafAppear2 {\n          0%, 100% { \n            transform: rotate(15deg) scale(1); \n            opacity: 0.8;\n          }\n          50% { \n            transform: rotate(25deg) scale(1.2); \n            opacity: 1;\n          }\n        }\n        @keyframes pulseGlow {\n          0%, 100% { \n            box-shadow: 0 0 20px rgba(16, 185, 129, 0.1);\n          }\n          50% { \n            box-shadow: 0 0 40px rgba(16, 185, 129, 0.3);\n          }\n        }\n        @keyframes floatV {\n          0%, 100% { \n            transform: translateY(0) rotate(0deg);\n          }\n          25% { \n            transform: translateY(-8px) rotate(2deg);\n          }\n          75% { \n            transform: translateY(-4px) rotate(-1deg);\n          }\n        }\n        .animate-float { animation: float 10s infinite ease-in-out; }\n        .animate-shimmer { animation: shimmer 3s infinite; }\n        .animate-sway { animation: sway 2s infinite ease-in-out; }\n        .animate-grow { animation: grow 2s infinite ease-in-out; }\n        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\n        .animate-pulse-slow { animation: pulse-slow 4s infinite; }\n        .animate-flyV { animation: flyV 3s infinite ease-in-out; }\n        .animate-logoV { animation: logoV 2s infinite ease-in-out; }\n        .animate-leafPulse { animation: leafPulse 2s infinite ease-in-out; }\n        .animate-treeGrow { animation: treeGrow 2.5s infinite ease-in-out; }\n        .animate-leafAppear1 { animation: leafAppear1 2s infinite ease-in-out 0.3s; }\n        .animate-leafAppear2 { animation: leafAppear2 2s infinite ease-in-out 0.6s; }\n        .animate-pulseGlow { animation: pulseGlow 3s infinite ease-in-out; }\n        .animate-floatV { animation: floatV 3s infinite ease-in-out; }\n      "})]})},Wd=e=>{let{value:t,onChange:n,onNext:r,onBack:i}=e;return(0,Pu.jsxs)(Yd,{step:1,title:"VOUS \xcaTES...",subtitle:"S\xe9lectionnez votre profil",onBack:i,children:[(0,Pu.jsx)("div",{className:"space-y-3",children:Ad.map(e=>(0,Pu.jsx)(zd,{selected:t===e.id,onClick:()=>n(e.id),icon:e.icon,label:e.label,sublabel:e.sublabel,color:e.color},e.id))}),(0,Pu.jsx)($d,{onNext:r,disabled:!t})]})},Kd=e=>{let{value:t,onChange:n,onNext:r,onBack:i}=e;return(0,Pu.jsxs)(Yd,{step:2,title:"VOTRE STRUCTURE",subtitle:"Combien de personnes ?",onBack:i,children:[(0,Pu.jsx)("div",{className:"space-y-3",children:Rd.map(e=>(0,Pu.jsx)(zd,{selected:t===e.id,onClick:()=>n(e.id),icon:e.icon,label:e.label,sublabel:e.sublabel,color:"indigo"},e.id))}),(0,Pu.jsx)("div",{className:"mt-6 p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl",children:(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Pu.jsx)(sd,{className:"w-5 h-5 text-emerald-400"}),(0,Pu.jsx)("span",{className:"text-emerald-400 font-bold",children:"+"}),(0,Pu.jsx)(ed,{className:"w-5 h-5 text-emerald-400"})]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"text-emerald-400 font-bold text-sm",children:"2 APPS PAR UTILISATEUR"}),(0,Pu.jsx)("p",{className:"text-emerald-400/70 text-xs",children:"App Terrain + App Bureau incluses"})]})]})}),(0,Pu.jsx)($d,{onNext:r,disabled:!t})]})},Gd=e=>{let{value:t,onChange:n,onNext:r,onBack:i}=e;return(0,Pu.jsxs)(Yd,{step:3,title:"ACTUELLEMENT...",subtitle:"Comment g\xe9rez-vous votre activit\xe9 ?",onBack:i,children:[(0,Pu.jsx)("div",{className:"space-y-3",children:Pd.map(e=>(0,Pu.jsx)(zd,{selected:t===e.id,onClick:()=>n(e.id),icon:e.icon,label:e.label,sublabel:e.sublabel,color:"indigo"},e.id))}),"excel"===t&&(0,Pu.jsx)("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl animate-fadeIn",children:(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)(Nd,{className:"w-6 h-6 text-blue-400"}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"text-blue-400 font-bold",children:"BONNE NOUVELLE !"}),(0,Pu.jsx)("p",{className:"text-blue-400/70 text-sm",children:"On importe vos donn\xe9es Excel en 1 clic"})]})]})}),(0,Pu.jsx)($d,{onNext:r,disabled:!t})]})},Qd=e=>{let{values:t=[],onChange:n,onNext:r,onBack:i}=e;return(0,Pu.jsxs)(Yd,{step:4,title:"VOS BESOINS",subtitle:"Plusieurs choix possibles",onBack:i,children:[(0,Pu.jsx)("div",{className:"grid grid-cols-1 gap-3",children:Od.map(e=>(0,Pu.jsx)(Bd,{checked:t.includes(e.id),onClick:()=>{return r=e.id,void(t.includes(r)?n(t.filter(e=>e!==r)):n([...t,r]));var r},icon:e.icon,label:e.label},e.id))}),(0,Pu.jsx)($d,{onNext:r,disabled:0===t.length,label:"CONTINUER"})]})},Xd=e=>{let{values:t=[],onChange:n,onNext:r,onBack:i}=e;return(0,Pu.jsxs)(Yd,{step:5,title:"VOS ACTIVIT\xc9S",subtitle:"S\xe9lectionnez vos domaines",onBack:i,children:[(0,Pu.jsx)("div",{className:"grid grid-cols-1 gap-3",children:Dd.map(e=>(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)(zd,{selected:t.includes(e.id),onClick:()=>{return r=e.id,void(t.includes(r)?n(t.filter(e=>e!==r)):n([...t,r]));var r},icon:e.icon,label:e.label,sublabel:e.sublabel,color:e.color}),t.includes(e.id)&&(0,Pu.jsx)("div",{className:"mt-2 ml-4 flex flex-wrap gap-2 animate-fadeIn",children:e.rapports.map((e,t)=>(0,Pu.jsx)("span",{className:"px-3 py-1 bg-white/10 rounded-lg text-xs text-white/70",children:e},t))})]},e.id))}),(0,Pu.jsx)($d,{onNext:r,disabled:0===t.length,label:"VOIR MA SOLUTION",final:!0})]})},Yd=e=>{let{step:t,title:n,subtitle:r,onBack:i,children:s}=e;return(0,Pu.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950 flex flex-col relative overflow-hidden",children:[(0,Pu.jsx)(Md,{}),(0,Pu.jsxs)("header",{className:"relative z-10 p-6",children:[(0,Pu.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pu.jsx)("button",{onClick:i,className:"w-12 h-12 flex items-center justify-center rounded-xl bg-white/10 hover:bg-white/20 transition-all",children:(0,Pu.jsx)(Ed,{className:"w-6 h-6 text-white"})}),(0,Pu.jsx)(Fd,{size:"small"})]}),(0,Pu.jsx)(qd,{step:t})]}),(0,Pu.jsxs)("main",{className:"flex-1 px-6 pb-32 overflow-y-auto relative z-10",children:[(0,Pu.jsx)("h1",{className:"text-3xl md:text-4xl font-black text-white mb-2",children:n}),(0,Pu.jsx)("p",{className:"text-white/50 mb-8",children:r}),s]}),(0,Pu.jsx)("style",{jsx:!0,children:"\n      @keyframes fadeIn {\n        from { opacity: 0; transform: translateY(10px); }\n        to { opacity: 1; transform: translateY(0); }\n      }\n      .animate-fadeIn { animation: fadeIn 0.3s ease-out; }\n    "})]})},$d=e=>{let{onNext:t,disabled:n,label:r="CONTINUER",final:i=!1}=e;return(0,Pu.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-slate-950 via-slate-950/95 to-transparent z-20",children:(0,Pu.jsxs)(Ud,{onClick:t,disabled:n,className:"w-full",variant:"primary",children:[r,i?(0,Pu.jsx)(xd,{className:"w-5 h-5"}):(0,Pu.jsx)(bd,{className:"w-5 h-5"})]})})},Jd=e=>{let{reponses:t,onBack:n,onSubscribe:r,onDemo:s,onTrial:a}=e;const o=(e=>{var t,n,r,i,s;let a=0,o=[],l="";"installateur_rge"===e.profil?(a+=20,o.push("simulateur"),l="Solution compl\xe8te installateur RGE"):"mainteneur_sav"===e.profil?(a+=5,l="Optimisez vos tourn\xe9es SAV"):"artisan"===e.profil?(a+=10,o.push("ia"),l="G\xe9rez tout depuis votre smartphone"):"sous_traitant"===e.profil?(a+=15,o.push("compta"),l="Rapports conformes pour vos donneurs d'ordre"):"commercial"===e.profil&&(a+=20,o.push("simulateur"),l="Convertissez plus de prospects"),"petite"===e.taille?a+=15:"moyenne"===e.taille?a+=30:"grande"===e.taille&&(a+=50),null!==(t=e.besoins)&&void 0!==t&&t.includes("primes")&&!o.includes("simulateur")&&o.push("simulateur"),null!==(n=e.besoins)&&void 0!==n&&n.includes("temps")&&!o.includes("ia")&&o.push("ia"),null!==(r=e.besoins)&&void 0!==r&&r.includes("facturer")&&!o.includes("compta")&&o.push("compta"),null!==(i=e.besoins)&&void 0!==i&&i.includes("conformite")&&o.push("veille");let c="starter",u=29;a>=40?(c="premium",u=79):a>=20&&(c="pro",u=49);const d=o.reduce((e,t)=>{const n=Ld.find(e=>e.id===t);return e+((null===n||void 0===n?void 0:n.prix)||0)},0),h=u+d,f=Math.round(.8*h),p=(null===(s=e.activites)||void 0===s?void 0:s.flatMap(e=>{const t=Dd.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.rapports)||[]}))||[];return{formule:c,prixBase:u,prixPacks:d,prixTotal:h,prixPromo:f,packsSuggeres:o,message:l,rapports:[...new Set(p)]}})(t),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:900;const[t,n]=(0,i.useState)(e);return(0,i.useEffect)(()=>{if(t<=0)return;const e=setInterval(()=>n(e=>Math.max(0,e-1)),1e3);return()=>clearInterval(e)},[t]),{minutes:Math.floor(t/60),seconds:t%60,display:"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0")),urgent:t<300,active:t>0}}(60*Id.dureeMinutes),c=Id.active&&l.active,u=Dd.filter(e=>{var n;return null===(n=t.activites)||void 0===n?void 0:n.includes(e.id)}),[d,h]=(0,i.useState)(o.packsSuggeres),f=d.reduce((e,t)=>{const n=Ld.find(e=>e.id===t);return e+((null===n||void 0===n?void 0:n.prix)||0)},0),p=o.prixBase+f,m=(100-Id.reduction)/100,g=Math.round(p*m);return(0,Pu.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950 flex flex-col relative overflow-hidden",children:[(0,Pu.jsx)(Md,{}),(0,Pu.jsxs)("header",{className:"relative z-10 p-6 flex items-center justify-between",children:[(0,Pu.jsx)("button",{onClick:n,className:"w-12 h-12 flex items-center justify-center rounded-xl bg-white/10 hover:bg-white/20 transition-all",children:(0,Pu.jsx)(Ed,{className:"w-6 h-6 text-white"})}),(0,Pu.jsx)(Fd,{size:"small"})]}),(0,Pu.jsxs)("main",{className:"flex-1 px-6 pb-8 overflow-y-auto relative z-10",children:[(0,Pu.jsxs)("div",{className:"text-center mb-8",children:[(0,Pu.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-emerald-500 to-teal-600 mb-4 shadow-2xl shadow-emerald-500/30",children:(0,Pu.jsx)(xd,{className:"w-10 h-10 text-white"})}),(0,Pu.jsx)("h1",{className:"text-4xl font-black text-white",children:"VOTRE SOLUTION"}),(0,Pu.jsx)("p",{className:"text-white/50 mt-2",children:o.message})]}),(0,Pu.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-3xl border border-white/10 overflow-hidden mb-6",children:[(0,Pu.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6",children:(0,Pu.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"text-indigo-200 text-sm font-medium",children:"FORMULE RECOMMAND\xc9E"}),(0,Pu.jsx)("h2",{className:"text-4xl font-black text-white uppercase",children:o.formule})]}),(0,Pu.jsxs)("div",{className:"text-right",children:[(0,Pu.jsxs)("p",{className:"text-5xl font-black text-white",children:[o.prixBase,"\u20ac"]}),(0,Pu.jsx)("p",{className:"text-indigo-200",children:"/mois HT"})]})]})}),(0,Pu.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,Pu.jsx)("p",{className:"text-white/50 text-sm font-bold mb-4",children:"VOS ACTIVIT\xc9S"}),(0,Pu.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(e=>{const t=e.icon;return(0,Pu.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-".concat(e.color,"-500/20 border border-").concat(e.color,"-500/30"),children:[(0,Pu.jsx)(t,{className:"w-5 h-5 text-".concat(e.color,"-400")}),(0,Pu.jsx)("span",{className:"text-white font-medium text-sm",children:e.label})]},e.id)})})]}),(0,Pu.jsxs)("div",{className:"p-6 border-b border-white/10 bg-emerald-500/5",children:[(0,Pu.jsxs)("p",{className:"text-emerald-400 text-sm font-bold mb-4 flex items-center gap-2",children:[(0,Pu.jsx)(Ju,{className:"w-5 h-5"}),o.rapports.length," RAPPORTS SP\xc9CIALIS\xc9S INCLUS"]}),(0,Pu.jsx)("div",{className:"flex flex-wrap gap-2",children:o.rapports.map((e,t)=>(0,Pu.jsx)("span",{className:"px-3 py-1.5 bg-white/10 rounded-lg text-sm text-white/80",children:e},t))})]}),(0,Pu.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,Pu.jsxs)("p",{className:"text-white/50 text-sm font-bold mb-4",children:["PACKS ADDITIONNELS ",(0,Pu.jsx)("span",{className:"text-white/30 font-normal",children:"(cliquez pour ajouter/retirer)"})]}),(0,Pu.jsx)("div",{className:"space-y-3",children:Ld.map(e=>{const t=e.icon,n=d.includes(e.id),r=o.packsSuggeres.includes(e.id);return(0,Pu.jsxs)("button",{onClick:()=>{return t=e.id,void h(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-full flex items-center justify-between p-4 rounded-xl transition-all ".concat(n?"bg-emerald-500/20 border-2 border-emerald-400":"bg-white/5 border-2 border-transparent hover:border-white/20"),children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center transition-all ".concat(n?"bg-emerald-500":"bg-white/10 border border-white/30"),children:n&&(0,Pu.jsx)(md,{className:"w-4 h-4 text-white"})}),(0,Pu.jsx)(t,{className:"w-6 h-6 ".concat(n?"text-emerald-400":"text-white/50")}),(0,Pu.jsxs)("div",{className:"text-left",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pu.jsx)("p",{className:"font-bold ".concat(n?"text-white":"text-white/70"),children:e.label}),r&&(0,Pu.jsx)("span",{className:"px-2 py-0.5 bg-amber-500/20 text-amber-400 text-xs font-bold rounded-full",children:"Recommand\xe9"})]}),(0,Pu.jsx)("p",{className:"text-sm ".concat(n?"text-white/70":"text-white/40"),children:e.sublabel})]})]}),(0,Pu.jsxs)("span",{className:"font-black ".concat(n?"text-emerald-400":"text-white/50"),children:["+",e.prix,"\u20ac"]})]},e.id)})})]}),(0,Pu.jsx)("div",{className:"p-6 bg-white/5",children:(0,Pu.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("span",{className:"text-white/70 font-bold",children:"TOTAL MENSUEL"}),d.length>0&&(0,Pu.jsxs)("p",{className:"text-white/40 text-xs",children:[o.prixBase,"\u20ac + ",f,"\u20ac de packs"]})]}),(0,Pu.jsxs)("span",{className:"text-3xl font-black text-white",children:[p,"\u20ac",(0,Pu.jsx)("span",{className:"text-lg text-white/50",children:"/mois"})]})]})})]}),c&&(0,Pu.jsxs)("div",{className:"bg-gradient-to-r from-rose-600 to-orange-500 rounded-3xl p-6 mb-6 relative overflow-hidden",children:[(0,Pu.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(255,255,255,0.1)_50%,transparent_75%)] bg-[length:250%_250%] animate-shimmer"}),(0,Pu.jsxs)("div",{className:"relative z-10",children:[(0,Pu.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)(Sd,{className:"w-7 h-7 text-white"}),(0,Pu.jsx)("span",{className:"text-white font-black text-xl",children:Id.titre})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/20 rounded-full ".concat(l.urgent?"animate-pulse":""),children:[(0,Pu.jsx)(Cd,{className:"w-5 h-5 text-white"}),(0,Pu.jsx)("span",{className:"font-mono font-black text-white text-lg",children:l.display})]})]}),(0,Pu.jsxs)("div",{className:"flex items-end justify-between mb-6",children:[(0,Pu.jsxs)("div",{children:[(0,Pu.jsxs)("p",{className:"text-white/60 text-lg line-through",children:[p,"\u20ac/mois"]}),(0,Pu.jsxs)("p",{className:"text-5xl font-black text-white",children:[g,"\u20ac",(0,Pu.jsx)("span",{className:"text-xl",children:"/mois"})]})]}),(0,Pu.jsxs)("div",{className:"text-right",children:[(0,Pu.jsxs)("div",{className:"inline-block px-4 py-1 bg-white/20 rounded-full text-white font-black text-lg mb-1",children:["-",Id.reduction,"%"]}),(0,Pu.jsxs)("p",{className:"text-white/80",children:["\ud83d\udcb0 \xc9conomie: ",12*(p-g),"\u20ac/an"]})]})]}),(0,Pu.jsxs)("button",{onClick:r,className:"w-full py-5 bg-white text-rose-600 font-black text-xl rounded-2xl hover:bg-white/90 transition-all active:scale-[0.98] shadow-2xl",children:["\ud83d\ude80 SOUSCRIRE \xc0 ",g,"\u20ac/MOIS"]})]})]},"promo-".concat(p)),(0,Pu.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6 mb-6 border border-white/10",children:[(0,Pu.jsx)("p",{className:"text-white font-bold mb-4",children:"\u2728 NOS ENGAGEMENTS"}),(0,Pu.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[{icon:wd,label:"\ud83c\uddeb\ud83c\uddf7 H\xe9berg\xe9 en France",color:"blue"},{icon:_d,label:"Donn\xe9es s\xe9curis\xe9es",color:"emerald"},{icon:kd,label:"Sans engagement",color:"rose"},{icon:Ju,label:"Rapports conformes",color:"amber"},{icon:sd,label:"2 Applications",color:"violet"},{icon:td,label:"Support < 24h",color:"cyan"}].map((e,t)=>(0,Pu.jsxs)("div",{className:"flex items-center gap-2 text-white/70 text-sm",children:[(0,Pu.jsx)(e.icon,{className:"w-4 h-4 text-".concat(e.color,"-400")}),(0,Pu.jsx)("span",{children:e.label})]},t))})]}),(0,Pu.jsxs)("div",{className:"space-y-3",children:[(0,Pu.jsxs)(Ud,{onClick:s,variant:"secondary",className:"w-full",children:[(0,Pu.jsx)(Td,{className:"w-5 h-5"}),"VOIR LA D\xc9MO VID\xc9O"]}),(0,Pu.jsxs)(Ud,{onClick:a,variant:"ghost",className:"w-full",children:[(0,Pu.jsx)(rd,{className:"w-5 h-5"}),"ESSAI GRATUIT 48H SANS CB"]})]}),(0,Pu.jsxs)("div",{className:"mt-6 p-4 bg-white/5 rounded-2xl border border-white/10",children:[(0,Pu.jsxs)("p",{className:"text-white font-bold mb-3 flex items-center gap-2",children:[(0,Pu.jsx)(td,{className:"w-5 h-5 text-emerald-400"}),"Une question ?"]}),(0,Pu.jsxs)("div",{className:"flex gap-2",children:[(0,Pu.jsx)("input",{type:"text",placeholder:"Tapez votre message...",className:"flex-1 px-4 py-3 bg-white/10 rounded-xl text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500"}),(0,Pu.jsx)("button",{className:"px-4 py-3 bg-emerald-500 rounded-xl text-white font-bold hover:bg-emerald-400 transition-all",children:"Envoyer"})]}),(0,Pu.jsxs)("p",{className:"text-white/40 text-sm mt-3 flex items-center gap-2",children:[(0,Pu.jsx)(jd,{className:"w-4 h-4"}),"Ou appelez-nous : 01 XX XX XX XX"]})]})]}),(0,Pu.jsx)("style",{jsx:!0,children:"\n        @keyframes shimmer {\n          0% { background-position: 200% 0; }\n          100% { background-position: -200% 0; }\n        }\n        .animate-shimmer { animation: shimmer 3s linear infinite; }\n      "})]})},Zd=e=>{let{onClose:t,onLoginSuccess:r}=e;const[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)("");return(0,Pu.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:(0,Pu.jsxs)("div",{className:"w-full max-w-md bg-gradient-to-br from-slate-900 to-slate-800 rounded-3xl p-8 border border-white/10 shadow-2xl",children:[(0,Pu.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Pu.jsx)("h2",{className:"text-2xl font-black text-white",children:"CONNEXION"}),(0,Pu.jsx)("button",{onClick:t,className:"w-10 h-10 flex items-center justify-center rounded-xl bg-white/10 hover:bg-white/20 transition-all",children:(0,Pu.jsx)(kd,{className:"w-5 h-5 text-white"})})]}),(0,Pu.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(""),u(!0);try{const{getAuth:e,signInWithEmailAndPassword:t}=await Promise.resolve().then(n.bind(n,786)),i=e();await t(i,s,o),r()}catch(t){console.error("Erreur login:",t),"auth/user-not-found"===t.code||"auth/wrong-password"===t.code?h("Email ou mot de passe incorrect"):"auth/invalid-email"===t.code?h("Email invalide"):"auth/too-many-requests"===t.code?h("Trop de tentatives, r\xe9essayez plus tard"):h("Erreur de connexion, veuillez r\xe9essayer")}finally{u(!1)}},className:"space-y-4",children:[d&&(0,Pu.jsx)("div",{className:"p-3 bg-rose-500/20 border border-rose-500/50 rounded-xl text-rose-300 text-sm",children:d}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-white/70 text-sm font-bold mb-2",children:"EMAIL"}),(0,Pu.jsx)("input",{type:"email",value:s,onChange:e=>a(e.target.value),placeholder:"votre@email.com",className:"w-full px-4 py-4 bg-white/10 rounded-xl text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500 text-lg",required:!0,disabled:c})]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-white/70 text-sm font-bold mb-2",children:"MOT DE PASSE"}),(0,Pu.jsx)("input",{type:"password",value:o,onChange:e=>l(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"w-full px-4 py-4 bg-white/10 rounded-xl text-white placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-500 text-lg",required:!0,disabled:c})]}),(0,Pu.jsx)(Ud,{type:"submit",className:"w-full mt-4",disabled:c,children:c?(0,Pu.jsxs)(Pu.Fragment,{children:[(0,Pu.jsx)("div",{className:"w-5 h-5 border-2 border-slate-900 border-t-transparent rounded-full animate-spin"}),"CONNEXION..."]}):"SE CONNECTER"}),(0,Pu.jsx)("button",{type:"button",className:"w-full text-center text-emerald-400 font-medium py-2 hover:text-emerald-300",children:"Mot de passe oubli\xe9 ?"})]})]})})},eh=()=>{const[e,t]=(0,i.useState)("hero"),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)({profil:null,taille:null,gestion:null,besoins:[],activites:[]}),o=(e,t)=>a(n=>(0,qe.A)((0,qe.A)({},n),{},{[e]:t})),l=()=>alert("Redirection vers Stripe..."),c=()=>alert("Ouverture vid\xe9o d\xe9mo..."),u=()=>alert("Demande essai envoy\xe9e !");return(0,Pu.jsxs)(Pu.Fragment,{children:[(()=>{switch(e){case"hero":return(0,Pu.jsx)(Hd,{onStart:()=>t("step1"),onLogin:()=>r(!0)});case"step1":return(0,Pu.jsx)(Wd,{value:s.profil,onChange:e=>o("profil",e),onNext:()=>t("step2"),onBack:()=>t("hero")});case"step2":return(0,Pu.jsx)(Kd,{value:s.taille,onChange:e=>o("taille",e),onNext:()=>t("step3"),onBack:()=>t("step1")});case"step3":return(0,Pu.jsx)(Gd,{value:s.gestion,onChange:e=>o("gestion",e),onNext:()=>t("step4"),onBack:()=>t("step2")});case"step4":return(0,Pu.jsx)(Qd,{values:s.besoins,onChange:e=>o("besoins",e),onNext:()=>t("step5"),onBack:()=>t("step3")});case"step5":return(0,Pu.jsx)(Xd,{values:s.activites,onChange:e=>o("activites",e),onNext:()=>t("recap"),onBack:()=>t("step4")});case"recap":return(0,Pu.jsx)(Jd,{reponses:s,onBack:()=>t("step5"),onSubscribe:l,onDemo:c,onTrial:u});default:return null}})(),n&&(0,Pu.jsx)(Zd,{onClose:()=>r(!1),onLoginSuccess:()=>{r(!1),window.location.href="/dashboard"}})]})},th=qu("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),nh=qu("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),rh=qu("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ih=qu("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]),sh=qu("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),ah=qu("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),oh=qu("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),lh=qu("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ch=qu("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),uh=qu("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),dh=["children","variant","size","icon","iconPosition","loading","disabled","fullWidth","onClick","className"],hh=["label","type","placeholder","value","onChange","error","icon","required","disabled","className"],fh=e=>{let{children:t,variant:n="primary",size:r="md",icon:s,iconPosition:a="left",loading:o=!1,disabled:l=!1,fullWidth:c=!1,onClick:u,className:d=""}=e,h=Uu(e,dh);const[f,p]=(0,i.useState)({x:0,y:0,show:!1});return(0,Pu.jsxs)("button",(0,qe.A)((0,qe.A)({className:"\n        ".concat("\n    relative overflow-hidden\n    inline-flex items-center justify-center gap-2\n    font-semibold tracking-wide\n    rounded-xl\n    transition-all duration-300 ease-out\n    transform active:scale-[0.98]\n    focus:outline-none focus:ring-2 focus:ring-offset-2\n    disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\n  ","\n        ").concat({primary:"\n      bg-gradient-to-r from-blue-600 to-indigo-600\n      hover:from-blue-500 hover:to-indigo-500\n      text-white shadow-lg shadow-blue-500/30\n      hover:shadow-xl hover:shadow-blue-500/40\n      focus:ring-blue-500\n    ",secondary:"\n      bg-white/10 backdrop-blur-sm\n      border border-white/20\n      text-gray-700 dark:text-white\n      hover:bg-white/20 hover:border-white/30\n      shadow-lg shadow-black/5\n      focus:ring-gray-400\n    ",success:"\n      bg-gradient-to-r from-emerald-500 to-green-500\n      hover:from-emerald-400 hover:to-green-400\n      text-white shadow-lg shadow-emerald-500/30\n      hover:shadow-xl hover:shadow-emerald-500/40\n      focus:ring-emerald-500\n    ",danger:"\n      bg-gradient-to-r from-red-500 to-rose-500\n      hover:from-red-400 hover:to-rose-400\n      text-white shadow-lg shadow-red-500/30\n      hover:shadow-xl hover:shadow-red-500/40\n      focus:ring-red-500\n    ",warning:"\n      bg-gradient-to-r from-amber-500 to-orange-500\n      hover:from-amber-400 hover:to-orange-400\n      text-white shadow-lg shadow-amber-500/30\n      hover:shadow-xl hover:shadow-amber-500/40\n      focus:ring-amber-500\n    ",ghost:"\n      bg-transparent\n      text-gray-600 dark:text-gray-300\n      hover:bg-gray-100 dark:hover:bg-white/10\n      focus:ring-gray-400\n    ",outline:"\n      bg-transparent\n      border-2 border-blue-500\n      text-blue-600 dark:text-blue-400\n      hover:bg-blue-50 dark:hover:bg-blue-500/10\n      focus:ring-blue-500\n    "}[n],"\n        ").concat({sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[r],"\n        ").concat(c?"w-full":"","\n        ").concat(d,"\n      "),onClick:e=>{const t=e.currentTarget.getBoundingClientRect();p({x:e.clientX-t.left,y:e.clientY-t.top,show:!0}),setTimeout(()=>p(e=>(0,qe.A)((0,qe.A)({},e),{},{show:!1})),600),!u||l||o||u(e)},disabled:l||o},h),{},{children:[f.show&&(0,Pu.jsx)("span",{className:"absolute bg-white/30 rounded-full animate-ping",style:{left:f.x-10,top:f.y-10,width:20,height:20}}),o&&(0,Pu.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,Pu.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,Pu.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),s&&"left"===a&&!o&&(0,Pu.jsx)(s,{className:"w-4 h-4"}),(0,Pu.jsx)("span",{children:t}),s&&"right"===a&&!o&&(0,Pu.jsx)(s,{className:"w-4 h-4"})]}))},ph=e=>{let{isOpen:t,onClose:n,title:r,subtitle:s,size:a="md",children:o,footer:l,icon:c,iconColor:u="blue"}=e;const[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{t?(h(!0),setTimeout(()=>p(!0),10)):(p(!1),setTimeout(()=>h(!1),300))},[t]),(0,i.useEffect)(()=>{const e=e=>{"Escape"===e.key&&t&&n()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,n]),!d)return null;return(0,Pu.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,Pu.jsx)("div",{className:"\n          fixed inset-0 bg-black/60 backdrop-blur-sm\n          transition-opacity duration-300\n          ".concat(f?"opacity-100":"opacity-0","\n        "),onClick:n}),(0,Pu.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,Pu.jsxs)("div",{className:"\n            relative w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-[90vw]"}[a],"\n            bg-white/95 dark:bg-gray-900/95\n            backdrop-blur-xl\n            rounded-3xl\n            shadow-2xl shadow-black/20\n            border border-white/20\n            transition-all duration-300 ease-out\n            ").concat(f?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4","\n          "),children:[(0,Pu.jsxs)("div",{className:"relative px-6 pt-6 pb-4",children:[(0,Pu.jsx)("button",{onClick:n,className:" absolute top-4 right-4 p-2 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-white/10 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-300 ",children:(0,Pu.jsx)(kd,{className:"w-5 h-5"})}),c&&(0,Pu.jsx)("div",{className:"\n                inline-flex p-3 rounded-2xl mb-4\n                bg-gradient-to-br ".concat({blue:"from-blue-500 to-indigo-500 shadow-blue-500/30",green:"from-emerald-500 to-green-500 shadow-emerald-500/30",red:"from-red-500 to-rose-500 shadow-red-500/30",amber:"from-amber-500 to-orange-500 shadow-amber-500/30",purple:"from-purple-500 to-violet-500 shadow-purple-500/30"}[u],"\n                shadow-lg\n              "),children:(0,Pu.jsx)(c,{className:"w-6 h-6 text-white"})}),r&&(0,Pu.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white pr-8",children:r}),s&&(0,Pu.jsx)("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:s})]}),(0,Pu.jsx)("div",{className:"px-6 py-4",children:o}),l&&(0,Pu.jsx)("div",{className:"px-6 py-4 bg-gray-50/50 dark:bg-white/5 rounded-b-3xl border-t border-gray-100 dark:border-white/10",children:l})]})})]})},mh=e=>{let{children:t,className:n="",hover:r=!0,onClick:i,padding:s="md",gradient:a,glow:o}=e;return(0,Pu.jsx)("div",{onClick:i,className:"\n        bg-white dark:bg-gray-800/50\n        backdrop-blur-sm\n        rounded-2xl\n        border border-gray-100 dark:border-white/10\n        shadow-lg shadow-gray-200/50 dark:shadow-black/20\n        ".concat({none:"",sm:"p-4",md:"p-6",lg:"p-8"}[s],"\n        ").concat(r?"\n          transition-all duration-300 ease-out\n          hover:shadow-xl hover:-translate-y-1\n          ".concat(o?{blue:"hover:shadow-blue-500/20",green:"hover:shadow-emerald-500/20",red:"hover:shadow-red-500/20",amber:"hover:shadow-amber-500/20",purple:"hover:shadow-purple-500/20"}[o]:"","\n        "):"","\n        ").concat(i?"cursor-pointer":"","\n        ").concat(a?"bg-gradient-to-br ".concat(a):"","\n        ").concat(n,"\n      "),children:t})},gh=e=>{let{title:t,value:n,subtitle:r,icon:s,trend:a,trendValue:o,color:l="blue",onClick:c,pulse:u=!1}=e;const[d,h]=(0,i.useState)(0);(0,i.useEffect)(()=>{if("number"===typeof n){const e=30,t=n/e;let r=0;const i=setInterval(()=>{r+=t,r>=n?(h(n),clearInterval(i)):h(Math.floor(r))},1e3/e);return()=>clearInterval(i)}h(n)},[n]);const f={blue:{bg:"from-blue-500 to-indigo-600",light:"bg-blue-50 dark:bg-blue-500/10",text:"text-blue-600 dark:text-blue-400",shadow:"shadow-blue-500/20"},green:{bg:"from-emerald-500 to-green-600",light:"bg-emerald-50 dark:bg-emerald-500/10",text:"text-emerald-600 dark:text-emerald-400",shadow:"shadow-emerald-500/20"},red:{bg:"from-red-500 to-rose-600",light:"bg-red-50 dark:bg-red-500/10",text:"text-red-600 dark:text-red-400",shadow:"shadow-red-500/20"},amber:{bg:"from-amber-500 to-orange-600",light:"bg-amber-50 dark:bg-amber-500/10",text:"text-amber-600 dark:text-amber-400",shadow:"shadow-amber-500/20"},purple:{bg:"from-purple-500 to-violet-600",light:"bg-purple-50 dark:bg-purple-500/10",text:"text-purple-600 dark:text-purple-400",shadow:"shadow-purple-500/20"}}[l];return(0,Pu.jsxs)(mh,{onClick:c,className:"relative overflow-hidden ".concat(c?"cursor-pointer":""),glow:l,children:[(0,Pu.jsx)("div",{className:"\n        absolute -top-10 -right-10 w-32 h-32 \n        bg-gradient-to-br ".concat(f.bg," \n        opacity-10 rounded-full blur-2xl\n      ")}),(0,Pu.jsxs)("div",{className:"relative flex items-start justify-between",children:[(0,Pu.jsxs)("div",{className:"flex-1",children:[(0,Pu.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t}),(0,Pu.jsx)("p",{className:"mt-2 text-4xl font-bold text-gray-900 dark:text-white",children:d}),(r||a)&&(0,Pu.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[a&&(0,Pu.jsxs)("span",{className:"\n                  inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium\n                  ".concat("up"===a?"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-400":"","\n                  ").concat("down"===a?"bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-400":"","\n                "),children:["up"===a?"\u2191":"\u2193"," ",o]}),r&&(0,Pu.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r})]})]}),s&&(0,Pu.jsx)("div",{className:"\n            p-3 rounded-xl ".concat(f.light,"\n            ").concat(u?"animate-pulse":"","\n          "),children:(0,Pu.jsx)(s,{className:"w-6 h-6 ".concat(f.text)})})]})]})},vh=e=>{let{children:t,variant:n="default",size:r="md",pulse:i=!1,icon:s}=e;return(0,Pu.jsxs)("span",{className:"\n      inline-flex items-center gap-1\n      font-medium rounded-full\n      ".concat({default:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",primary:"bg-blue-100 text-blue-700 dark:bg-blue-500/20 dark:text-blue-400",success:"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-400",warning:"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-400",danger:"bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-400",info:"bg-cyan-100 text-cyan-700 dark:bg-cyan-500/20 dark:text-cyan-400"}[n],"\n      ").concat({sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-xs",lg:"px-3 py-1.5 text-sm"}[r],"\n      ").concat(i?"animate-pulse":"","\n    "),children:[s&&(0,Pu.jsx)(s,{className:"w-3 h-3"}),t]})},yh=e=>{let{label:t,type:n="text",placeholder:r,value:s,onChange:a,error:o,icon:l,required:c=!1,disabled:u=!1,className:d=""}=e,h=Uu(e,hh);const[f,p]=(0,i.useState)(!1);return(0,Pu.jsxs)("div",{className:d,children:[t&&(0,Pu.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:[t,c&&(0,Pu.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Pu.jsxs)("div",{className:"relative",children:[l&&(0,Pu.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,Pu.jsx)(l,{className:"w-5 h-5"})}),(0,Pu.jsx)("input",(0,qe.A)({type:n,value:s,onChange:a,placeholder:r,disabled:u,onFocus:()=>p(!0),onBlur:()=>p(!1),className:"\n            w-full px-4 py-3 \n            ".concat(l?"pl-11":"","\n            bg-white dark:bg-gray-800\n            border-2 rounded-xl\n            text-gray-900 dark:text-white\n            placeholder-gray-400\n            transition-all duration-200\n            ").concat(f?"border-blue-500 ring-4 ring-blue-500/10":"border-gray-200 dark:border-gray-700","\n            ").concat(o?"border-red-500 ring-4 ring-red-500/10":"","\n            ").concat(u?"opacity-50 cursor-not-allowed bg-gray-50 dark:bg-gray-900":"","\n            focus:outline-none\n          ")},h))]}),o&&(0,Pu.jsxs)("p",{className:"mt-1.5 text-sm text-red-500 flex items-center gap-1",children:[(0,Pu.jsx)(ch,{className:"w-4 h-4"}),o]})]})},bh=e=>{let{label:t,options:n=[],value:r,onChange:s,placeholder:a="S\xe9lectionner...",error:o,required:l=!1,disabled:c=!1,className:u=""}=e;const[d,h]=(0,i.useState)(!1);return(0,Pu.jsxs)("div",{className:u,children:[t&&(0,Pu.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:[t,l&&(0,Pu.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Pu.jsxs)("select",{value:r,onChange:s,disabled:c,onFocus:()=>h(!0),onBlur:()=>h(!1),className:"\n          w-full px-4 py-3\n          bg-white dark:bg-gray-800\n          border-2 rounded-xl\n          text-gray-900 dark:text-white\n          transition-all duration-200\n          appearance-none\n          cursor-pointer\n          ".concat(d?"border-blue-500 ring-4 ring-blue-500/10":"border-gray-200 dark:border-gray-700","\n          ").concat(o?"border-red-500 ring-4 ring-red-500/10":"","\n          ").concat(c?"opacity-50 cursor-not-allowed":"","\n          focus:outline-none\n        "),children:[(0,Pu.jsx)("option",{value:"",children:a}),n.map(e=>(0,Pu.jsx)("option",{value:e.value,children:e.label},e.value))]}),o&&(0,Pu.jsxs)("p",{className:"mt-1.5 text-sm text-red-500 flex items-center gap-1",children:[(0,Pu.jsx)(ch,{className:"w-4 h-4"}),o]})]})},xh=e=>{let{className:t="",variant:n="rect"}=e;return(0,Pu.jsx)("div",{className:"\n      animate-pulse bg-gradient-to-r \n      from-gray-200 via-gray-100 to-gray-200\n      dark:from-gray-700 dark:via-gray-600 dark:to-gray-700\n      background-size-200 animate-shimmer\n      ".concat({rect:"rounded-lg",circle:"rounded-full",text:"rounded h-4"}[n],"\n      ").concat(t,"\n    ")})},wh=e=>{let{icon:t,title:n,description:r,action:i}=e;return(0,Pu.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t&&(0,Pu.jsx)("div",{className:"p-4 rounded-2xl bg-gray-100 dark:bg-gray-800 mb-4",children:(0,Pu.jsx)(t,{className:"w-8 h-8 text-gray-400"})}),(0,Pu.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n}),r&&(0,Pu.jsx)("p",{className:"mt-1 text-gray-500 dark:text-gray-400 max-w-sm",children:r}),i&&(0,Pu.jsx)("div",{className:"mt-4",children:i})]})},_h=()=>{const{userData:e}=Du(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)(null),[a,o]=(0,i.useState)("tous"),l={total:12,enRetard:3,enCours:5,termine:4},c={total:8,enAttente:2,planifies:3,enCours:2,termine:1},u={total:18,effectuee:10,semaine:5,enRetard:3},d={total:15,enAttente:7,accepte:5,refuse:3,montant:45600},h={total:23,impayees:4,payees:19,montant:78900},f=[{id:1,numero:"SAV-001-251216-001",client:"Dupont Industrie",technicien:"Jean Martin",statut:"en_retard"},{id:2,numero:"SAV-002-251216-002",client:"Martin SAS",technicien:"Pierre Durand",statut:"en_cours"},{id:3,numero:"SAV-003-251215-001",client:"Carrefour Lyon",technicien:"Sophie Lemaire",statut:"termine"},{id:4,numero:"SAV-004-251214-001",client:"Boulangerie Petit Jean",technicien:"Jean Martin",statut:"en_retard"},{id:5,numero:"SAV-005-251214-002",client:"Hotel Mercure",technicien:"Pierre Durand",statut:"en_cours"},{id:6,numero:"SAV-006-251213-001",client:"Garage Auto Plus",technicien:"Sophie Lemaire",statut:"termine"},{id:7,numero:"SAV-007-251212-001",client:"Pharmacie Centrale",technicien:"Jean Martin",statut:"en_retard"},{id:8,numero:"SAV-008-251211-001",client:"Restaurant Le Gourmet",technicien:"Pierre Durand",statut:"termine"},{id:9,numero:"SAV-009-251210-001",client:"Supermarch\xe9 Bio",technicien:"Sophie Lemaire",statut:"en_cours"},{id:10,numero:"SAV-010-251209-001",client:"Clinique Sant\xe9",technicien:"Jean Martin",statut:"en_cours"},{id:11,numero:"SAV-011-251208-001",client:"\xc9cole Primaire",technicien:"Pierre Durand",statut:"termine"},{id:12,numero:"SAV-012-251207-001",client:"Mairie Centre",technicien:"Sophie Lemaire",statut:"en_cours"}],p=[{id:1,numero:"TRV-001-251216-001",client:"Dupont Industries",technicien:"Jean Martin",statut:"planifie",montant:4500},{id:2,numero:"TRV-002-251215-001",client:"Martin SAS",technicien:"Sophie Lemaire",statut:"en_cours",montant:12800},{id:3,numero:"TRV-003-251214-001",client:"Carrefour Lyon",technicien:"Pierre Durand",statut:"en_attente",montant:8900},{id:4,numero:"TRV-004-251213-001",client:"Hotel Mercure",technicien:"Jean Martin",statut:"termine",montant:15600},{id:5,numero:"TRV-005-251212-001",client:"Garage Auto Plus",technicien:"Sophie Lemaire",statut:"planifie",montant:6200},{id:6,numero:"TRV-006-251211-001",client:"Pharmacie Centrale",technicien:"Pierre Durand",statut:"en_attente",montant:3400},{id:7,numero:"TRV-007-251210-001",client:"Boulangerie Petit Jean",technicien:"Jean Martin",statut:"en_cours",montant:7800},{id:8,numero:"TRV-008-251209-001",client:"Restaurant Le Gourmet",technicien:"Sophie Lemaire",statut:"planifie",montant:9100}],m=[{id:1,client:"Dupont Industries",site:"Site Principal",type:"PAC",date:"18/12/2025",statut:"a_venir"},{id:2,client:"Martin SAS",site:"Entrep\xf4t Nord",type:"Clim",date:"19/12/2025",statut:"a_venir"},{id:3,client:"Carrefour Lyon",site:"Magasin",type:"SSI",date:"20/12/2025",statut:"a_venir"},{id:4,client:"Boulangerie Petit Jean",site:"Boutique",type:"Chaudi\xe8re",date:"10/12/2025",statut:"en_retard",jours:6},{id:5,client:"Hotel Mercure",site:"B\xe2timent A",type:"BAES",date:"05/12/2025",statut:"en_retard",jours:11},{id:6,client:"Garage Auto Plus",site:"Atelier",type:"Extincteurs",date:"21/12/2025",statut:"a_venir"},{id:7,client:"Restaurant Le Gourmet",site:"Cuisine",type:"VMC",date:"08/12/2025",statut:"en_retard",jours:8},{id:8,client:"Pharmacie Centrale",site:"Officine",date:"01/12/2025",type:"Clim",statut:"effectuee"},{id:9,client:"Supermarch\xe9 Bio",site:"R\xe9serve",type:"PAC",date:"03/12/2025",statut:"effectuee"},{id:10,client:"Clinique Sant\xe9",site:"Bloc A",type:"SSI",date:"05/12/2025",statut:"effectuee"},{id:11,client:"\xc9cole Primaire",site:"Gymnase",type:"Chaudi\xe8re",date:"22/12/2025",statut:"a_venir"},{id:12,client:"Mairie Centre",site:"Mairie",type:"BAES",date:"28/11/2025",statut:"effectuee"}],g=[{id:1,numero:"DEV-001-251216-001",client:"Dupont Industries",montant:8500,statut:"en_attente",date:"16/12/2025"},{id:2,numero:"DEV-002-251215-001",client:"Martin SAS",montant:12400,statut:"accepte",date:"15/12/2025"},{id:3,numero:"DEV-003-251214-001",client:"Carrefour Lyon",montant:6800,statut:"en_attente",date:"14/12/2025"},{id:4,numero:"DEV-004-251213-001",client:"Boulangerie Petit Jean",montant:3200,statut:"refuse",date:"13/12/2025"},{id:5,numero:"DEV-005-251212-001",client:"Hotel Mercure",montant:14700,statut:"en_attente",date:"12/12/2025"},{id:6,numero:"DEV-006-251211-001",client:"Garage Auto Plus",montant:5600,statut:"accepte",date:"11/12/2025"},{id:7,numero:"DEV-007-251210-001",client:"Pharmacie Centrale",montant:9200,statut:"en_attente",date:"10/12/2025"},{id:8,numero:"DEV-008-251209-001",client:"Restaurant Le Gourmet",montant:4300,statut:"accepte",date:"09/12/2025"},{id:9,numero:"DEV-009-251208-001",client:"Supermarch\xe9 Bio",montant:7800,statut:"refuse",date:"08/12/2025"},{id:10,numero:"DEV-010-251207-001",client:"Clinique Sant\xe9",montant:11200,statut:"en_attente",date:"07/12/2025"}],v=[{id:1,numero:"FAC-001-251216-001",client:"Dupont Industries",montant:8500,statut:"payee",date:"16/12/2025"},{id:2,numero:"FAC-002-251210-001",client:"Martin SAS",montant:12400,statut:"impayee",echeance:"25/12/2025"},{id:3,numero:"FAC-003-251205-001",client:"Carrefour Lyon",montant:6800,statut:"impayee",echeance:"20/12/2025"},{id:4,numero:"FAC-004-251201-001",client:"Hotel Mercure",montant:15600,statut:"payee",date:"10/12/2025"},{id:5,numero:"FAC-005-251128-001",client:"Boulangerie Petit Jean",montant:3200,statut:"impayee",echeance:"15/12/2025"},{id:6,numero:"FAC-006-251125-001",client:"Garage Auto Plus",montant:5600,statut:"payee",date:"05/12/2025"},{id:7,numero:"FAC-007-251120-001",client:"Pharmacie Centrale",montant:9200,statut:"payee",date:"01/12/2025"},{id:8,numero:"FAC-008-251115-001",client:"Restaurant Le Gourmet",montant:4300,statut:"impayee",echeance:"18/12/2025"}],y=[{id:1,type:"critique",message:"SSI non conforme - Site Carrefour Lyon",date:"2h",icon:nd},{id:2,type:"important",message:"Maintenance d\xe9pass\xe9e - PAC Dupont",date:"1j",icon:hd},{id:3,type:"info",message:"\xc9ch\xe9ance contrat proche - Martin SAS",date:"5j",icon:th}],b=[{id:1,type:"SAV",client:"Dupont Industries",technicien:"Jean M.",statut:"termine",date:"Aujourd'hui"},{id:2,type:"MES",client:"Carrefour Lyon",technicien:"Pierre L.",statut:"en_cours",date:"Aujourd'hui"},{id:3,type:"Travaux",client:"Martin SAS",technicien:"Sophie R.",statut:"planifie",date:"Demain"}],x=(e,t)=>{n(e),s(t),o("tous")},w=()=>{n(null),s(null),o("tous")},_=e=>{let{alerte:t}=e;const n=t.icon;return(0,Pu.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl border-l-4 ".concat({critique:"border-l-red-500 bg-red-50",important:"border-l-amber-500 bg-amber-50",info:"border-l-blue-500 bg-blue-50"}[t.type]," hover:scale-[1.02] transition-transform duration-200 cursor-pointer"),children:[(0,Pu.jsx)("div",{className:"p-2 rounded-lg ".concat("critique"===t.type?"bg-red-500":""," ").concat("important"===t.type?"bg-amber-500":""," ").concat("info"===t.type?"bg-blue-500":""),children:(0,Pu.jsx)(n,{className:"w-4 h-4 text-white"})}),(0,Pu.jsxs)("div",{className:"flex-1",children:[(0,Pu.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:t.message}),(0,Pu.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:["Il y a ",t.date]})]}),"critique"===t.type&&(0,Pu.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,Pu.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,Pu.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})},k=e=>{const t={en_retard:{variant:"danger",label:"En retard"},en_cours:{variant:"warning",label:"En cours"},termine:{variant:"success",label:"Termin\xe9"},planifie:{variant:"primary",label:"Planifi\xe9"},en_attente:{variant:"warning",label:"En attente"},a_venir:{variant:"primary",label:"\xc0 venir"},effectuee:{variant:"success",label:"Effectu\xe9e"},accepte:{variant:"success",label:"Accept\xe9"},refuse:{variant:"danger",label:"Refus\xe9"},payee:{variant:"success",label:"Pay\xe9e"},impayee:{variant:"danger",label:"Impay\xe9e"}}[e]||{variant:"default",label:e};return(0,Pu.jsx)(vh,{variant:t.variant,children:t.label})},N=e=>{let{filters:t,currentFilter:n,onFilterChange:r}=e;return(0,Pu.jsx)("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-xl",children:t.map(e=>(0,Pu.jsxs)("button",{onClick:()=>r(e.value),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat(n===e.value?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"),children:[e.label," ",void 0!==e.count&&(0,Pu.jsxs)("span",{className:"ml-1 ".concat(n===e.value?"text-blue-200":"text-gray-400"),children:["(",e.count,")"]})]},e.value))})};return(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsxs)("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 text-white",children:[(0,Pu.jsx)("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),(0,Pu.jsx)("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),(0,Pu.jsxs)("div",{className:"relative",children:[(0,Pu.jsx)("p",{className:"text-blue-100 text-sm font-medium uppercase tracking-wider",children:(new Date).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})}),(0,Pu.jsxs)("h1",{className:"text-3xl font-bold mt-2",children:["Bonjour, ",(null===e||void 0===e?void 0:e.prenom)||"Admin"," \ud83d\udc4b"]}),(0,Pu.jsxs)("p",{className:"text-blue-100 mt-2 max-w-lg",children:["Votre tableau de bord est pr\xeat. Vous avez ",(0,Pu.jsx)("span",{className:"text-white font-semibold",children:"3 alertes critiques"})," et ",(0,Pu.jsx)("span",{className:"text-white font-semibold",children:"5 interventions"})," en cours."]}),(0,Pu.jsxs)("div",{className:"flex gap-6 mt-6",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pu.jsx)("div",{className:"p-2 rounded-lg bg-white/20",children:(0,Pu.jsx)(nh,{className:"w-5 h-5"})}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"text-2xl font-bold",children:"24"}),(0,Pu.jsx)("p",{className:"text-xs text-blue-100",children:"Termin\xe9es ce mois"})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pu.jsx)("div",{className:"p-2 rounded-lg bg-white/20",children:(0,Pu.jsx)(rd,{className:"w-5 h-5"})}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"text-2xl font-bold",children:"5"}),(0,Pu.jsx)("p",{className:"text-xs text-blue-100",children:"En cours"})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pu.jsx)("div",{className:"p-2 rounded-lg bg-white/20",children:(0,Pu.jsx)(rh,{className:"w-5 h-5"})}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"text-2xl font-bold",children:"+15%"}),(0,Pu.jsx)("p",{className:"text-xs text-blue-100",children:"vs mois dernier"})]})]})]})]})]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Pu.jsx)(Wu,{className:"w-5 h-5 text-blue-500"}),"Activit\xe9 Terrain"]}),(0,Pu.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Pu.jsx)(gh,{title:"SAV",value:l.total,subtitle:"".concat(l.enRetard," en retard"),icon:Wu,color:"blue",onClick:()=>x("sav",l),pulse:l.enRetard>0}),(0,Pu.jsx)(gh,{title:"Travaux",value:c.total,subtitle:"".concat(c.enAttente," en attente"),icon:ih,color:"amber",onClick:()=>x("travaux",c)}),(0,Pu.jsx)(gh,{title:"Maintenance",value:u.total,subtitle:"".concat(u.enRetard," en retard"),icon:sh,color:"green",onClick:()=>x("maintenance",u),pulse:u.enRetard>0}),(0,Pu.jsx)(gh,{title:"Devis",value:d.total,subtitle:"".concat(d.enAttente," sans r\xe9ponse"),icon:th,color:"purple",onClick:()=>x("devis",d)}),(0,Pu.jsx)(gh,{title:"Factures",value:h.total,subtitle:"".concat(h.impayees," impay\xe9es"),icon:ah,color:h.impayees>0?"red":"green",onClick:()=>x("factures",h),pulse:h.impayees>0})]})]}),(0,Pu.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Pu.jsxs)(mh,{padding:"none",className:"overflow-hidden",children:[(0,Pu.jsxs)("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[(0,Pu.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,Pu.jsx)(oh,{className:"w-5 h-5 text-amber-500"}),"Alertes R\xe9centes"]}),(0,Pu.jsx)(vh,{variant:"danger",pulse:!0,children:"3 critiques"})]}),(0,Pu.jsx)("div",{className:"p-4 space-y-3",children:y.map(e=>(0,Pu.jsx)(_,{alerte:e},e.id))}),(0,Pu.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,Pu.jsx)(fh,{variant:"ghost",fullWidth:!0,icon:lh,iconPosition:"right",children:"Voir toutes les alertes"})})]}),(0,Pu.jsxs)(mh,{padding:"none",className:"overflow-hidden",children:[(0,Pu.jsxs)("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[(0,Pu.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,Pu.jsx)(gd,{className:"w-5 h-5 text-blue-500"}),"Interventions R\xe9centes"]}),(0,Pu.jsxs)(vh,{variant:"primary",children:[b.length," aujourd'hui"]})]}),(0,Pu.jsx)("div",{className:"divide-y divide-gray-100",children:b.map(e=>(0,Pu.jsx)("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",children:(0,Pu.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"p-2 rounded-lg ".concat("SAV"===e.type?"bg-blue-100":""," ").concat("MES"===e.type?"bg-emerald-100":""," ").concat("Travaux"===e.type?"bg-amber-100":""),children:(0,Pu.jsx)(Wu,{className:"w-4 h-4 ".concat("SAV"===e.type?"text-blue-600":""," ").concat("MES"===e.type?"text-emerald-600":""," ").concat("Travaux"===e.type?"text-amber-600":"")})}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"font-medium text-gray-900",children:e.client}),(0,Pu.jsxs)("p",{className:"text-sm text-gray-500",children:[e.type," \u2022 ",e.technicien]})]})]}),(0,Pu.jsxs)("div",{className:"text-right",children:[(0,Pu.jsx)(vh,{variant:"termine"===e.statut?"success":"en_cours"===e.statut?"primary":"default",children:"termine"===e.statut?"Termin\xe9":"en_cours"===e.statut?"En cours":"Planifi\xe9"}),(0,Pu.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.date})]})]})},e.id))}),(0,Pu.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,Pu.jsx)(fh,{variant:"ghost",fullWidth:!0,icon:lh,iconPosition:"right",children:"Voir le planning"})})]})]}),(0,Pu.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Pu.jsxs)(mh,{className:"text-center",padding:"md",children:[(0,Pu.jsx)(Xu,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),(0,Pu.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"156"}),(0,Pu.jsx)("p",{className:"text-sm text-gray-500",children:"Clients actifs"})]}),(0,Pu.jsxs)(mh,{className:"text-center",padding:"md",children:[(0,Pu.jsx)($u,{className:"w-8 h-8 text-emerald-500 mx-auto mb-2"}),(0,Pu.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"243"}),(0,Pu.jsx)("p",{className:"text-sm text-gray-500",children:"Sites"})]}),(0,Pu.jsxs)(mh,{className:"text-center",padding:"md",children:[(0,Pu.jsx)(ih,{className:"w-8 h-8 text-amber-500 mx-auto mb-2"}),(0,Pu.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"8"}),(0,Pu.jsx)("p",{className:"text-sm text-gray-500",children:"Techniciens"})]}),(0,Pu.jsxs)(mh,{className:"text-center",padding:"md",children:[(0,Pu.jsx)(rh,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),(0,Pu.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"78.9k\u20ac"}),(0,Pu.jsx)("p",{className:"text-sm text-gray-500",children:"CA ce mois"})]})]}),(0,Pu.jsx)(ph,{isOpen:"sav"===t,onClose:w,title:"D\xe9tail SAV",subtitle:"Liste des interventions SAV",icon:Wu,iconColor:"blue",size:"lg",footer:(0,Pu.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Pu.jsx)(fh,{variant:"ghost",onClick:w,children:"Fermer"}),(0,Pu.jsx)(fh,{variant:"primary",icon:lh,iconPosition:"right",children:"Voir tout"})]}),children:(0,Pu.jsxs)("div",{className:"space-y-4",children:[(0,Pu.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Pu.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:null===r||void 0===r?void 0:r.total}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Total"})]}),(0,Pu.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-amber-600",children:null===r||void 0===r?void 0:r.enCours}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"En cours"})]}),(0,Pu.jsxs)("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-red-600",children:null===r||void 0===r?void 0:r.enRetard}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"En retard"})]}),(0,Pu.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-emerald-600",children:null===r||void 0===r?void 0:r.termine}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Termin\xe9s"})]})]}),(0,Pu.jsx)(N,{filters:[{value:"tous",label:"Tous",count:f.length},{value:"en_retard",label:"En retard",count:f.filter(e=>"en_retard"===e.statut).length},{value:"en_cours",label:"En cours",count:f.filter(e=>"en_cours"===e.statut).length},{value:"termine",label:"Termin\xe9s",count:f.filter(e=>"termine"===e.statut).length}],currentFilter:a,onFilterChange:o}),(0,Pu.jsx)("div",{className:"border rounded-xl divide-y max-h-80 overflow-y-auto",children:("tous"===a?f:f.filter(e=>e.statut===a)).map(e=>(0,Pu.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold",children:e.id}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"font-medium text-gray-900",children:e.numero}),(0,Pu.jsxs)("p",{className:"text-sm text-gray-500",children:[e.client," \u2022 ",e.technicien]})]})]}),k(e.statut)]},e.id))})]})}),(0,Pu.jsx)(ph,{isOpen:"travaux"===t,onClose:w,title:"D\xe9tail Travaux",subtitle:"Suivi des chantiers",icon:ih,iconColor:"amber",size:"lg",footer:(0,Pu.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Pu.jsx)(fh,{variant:"ghost",onClick:w,children:"Fermer"}),(0,Pu.jsx)(fh,{variant:"primary",icon:lh,iconPosition:"right",children:"Planifier"})]}),children:(0,Pu.jsxs)("div",{className:"space-y-4",children:[(0,Pu.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Pu.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-amber-600",children:null===r||void 0===r?void 0:r.total}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Total"})]}),(0,Pu.jsxs)("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-red-600",children:null===r||void 0===r?void 0:r.enAttente}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"En attente"})]}),(0,Pu.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:null===r||void 0===r?void 0:r.planifies}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Planifi\xe9s"})]}),(0,Pu.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-emerald-600",children:null===r||void 0===r?void 0:r.termine}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Termin\xe9s"})]})]}),(0,Pu.jsx)(N,{filters:[{value:"tous",label:"Tous",count:p.length},{value:"en_attente",label:"En attente",count:p.filter(e=>"en_attente"===e.statut).length},{value:"planifie",label:"Planifi\xe9s",count:p.filter(e=>"planifie"===e.statut).length},{value:"en_cours",label:"En cours",count:p.filter(e=>"en_cours"===e.statut).length},{value:"termine",label:"Termin\xe9s",count:p.filter(e=>"termine"===e.statut).length}],currentFilter:a,onFilterChange:o}),(0,Pu.jsx)("div",{className:"border rounded-xl divide-y max-h-80 overflow-y-auto",children:("tous"===a?p:p.filter(e=>e.statut===a)).map(e=>(0,Pu.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center text-white font-bold",children:e.id}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"font-medium text-gray-900",children:e.numero}),(0,Pu.jsxs)("p",{className:"text-sm text-gray-500",children:[e.client," \u2022 ",e.technicien]})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.montant.toLocaleString(),"\u20ac"]}),k(e.statut)]})]},e.id))})]})}),(0,Pu.jsx)(ph,{isOpen:"maintenance"===t,onClose:w,title:"D\xe9tail Maintenance",subtitle:"Suivi des maintenances",icon:sh,iconColor:"green",size:"lg",footer:(0,Pu.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Pu.jsx)(fh,{variant:"ghost",onClick:w,children:"Fermer"}),(0,Pu.jsx)(fh,{variant:"primary",icon:lh,iconPosition:"right",children:"Voir tout"})]}),children:(0,Pu.jsxs)("div",{className:"space-y-4",children:[(0,Pu.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Pu.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-emerald-600",children:null===r||void 0===r?void 0:r.total}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Total"})]}),(0,Pu.jsxs)("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-green-600",children:null===r||void 0===r?void 0:r.effectuee}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Effectu\xe9es"})]}),(0,Pu.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:null===r||void 0===r?void 0:r.semaine}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"\xc0 venir semaine"})]}),(0,Pu.jsxs)("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-red-600",children:null===r||void 0===r?void 0:r.enRetard}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"En retard"})]})]}),(0,Pu.jsx)(N,{filters:[{value:"tous",label:"Tous",count:m.length},{value:"effectuee",label:"Effectu\xe9es",count:m.filter(e=>"effectuee"===e.statut).length},{value:"a_venir",label:"\xc0 venir",count:m.filter(e=>"a_venir"===e.statut).length},{value:"en_retard",label:"En retard",count:m.filter(e=>"en_retard"===e.statut).length}],currentFilter:a,onFilterChange:o}),(0,Pu.jsx)("div",{className:"border rounded-xl divide-y max-h-80 overflow-y-auto",children:("tous"===a?m:m.filter(e=>e.statut===a)).map(e=>(0,Pu.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ".concat("en_retard"===e.statut?"bg-gradient-to-br from-red-500 to-rose-500":"effectuee"===e.statut?"bg-gradient-to-br from-green-500 to-emerald-500":"bg-gradient-to-br from-blue-500 to-indigo-500"),children:e.id}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"font-medium text-gray-900",children:e.client}),(0,Pu.jsxs)("p",{className:"text-sm text-gray-500",children:[e.site," \u2022 ",e.type]})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("span",{className:"text-sm text-gray-600",children:e.date}),"en_retard"===e.statut?(0,Pu.jsxs)(vh,{variant:"danger",children:["-",e.jours,"j"]}):k(e.statut)]})]},e.id))})]})}),(0,Pu.jsx)(ph,{isOpen:"devis"===t,onClose:w,title:"D\xe9tail Devis",subtitle:"Suivi des devis",icon:th,iconColor:"purple",size:"lg",footer:(0,Pu.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Pu.jsx)(fh,{variant:"ghost",onClick:w,children:"Fermer"}),(0,Pu.jsx)(fh,{variant:"primary",icon:lh,iconPosition:"right",children:"Cr\xe9er un devis"})]}),children:(0,Pu.jsxs)("div",{className:"space-y-4",children:[(0,Pu.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Pu.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:null===r||void 0===r?void 0:r.total}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Total"})]}),(0,Pu.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-amber-600",children:null===r||void 0===r?void 0:r.enAttente}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"En attente"})]}),(0,Pu.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-emerald-600",children:null===r||void 0===r?void 0:r.accepte}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Accept\xe9s"})]}),(0,Pu.jsxs)("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-red-600",children:null===r||void 0===r?void 0:r.refuse}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Refus\xe9s"})]})]}),(0,Pu.jsx)(N,{filters:[{value:"tous",label:"Tous",count:g.length},{value:"en_attente",label:"En attente",count:g.filter(e=>"en_attente"===e.statut).length},{value:"accepte",label:"Accept\xe9s",count:g.filter(e=>"accepte"===e.statut).length},{value:"refuse",label:"Refus\xe9s",count:g.filter(e=>"refuse"===e.statut).length}],currentFilter:a,onFilterChange:o}),(0,Pu.jsx)("div",{className:"border rounded-xl divide-y max-h-80 overflow-y-auto",children:("tous"===a?g:g.filter(e=>e.statut===a)).map(e=>(0,Pu.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-violet-500 flex items-center justify-center text-white font-bold",children:e.id}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"font-medium text-gray-900",children:e.numero}),(0,Pu.jsxs)("p",{className:"text-sm text-gray-500",children:[e.client," \u2022 ",e.date]})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.montant.toLocaleString(),"\u20ac"]}),k(e.statut)]})]},e.id))})]})}),(0,Pu.jsx)(ph,{isOpen:"factures"===t,onClose:w,title:"D\xe9tail Factures",subtitle:"Suivi des paiements",icon:ah,iconColor:"green",size:"lg",footer:(0,Pu.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Pu.jsx)(fh,{variant:"ghost",onClick:w,children:"Fermer"}),(0,Pu.jsx)(fh,{variant:"primary",icon:lh,iconPosition:"right",children:"Voir les factures"})]}),children:(0,Pu.jsxs)("div",{className:"space-y-4",children:[(0,Pu.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Pu.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-emerald-600",children:null===r||void 0===r?void 0:r.total}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Total"})]}),(0,Pu.jsxs)("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-green-600",children:null===r||void 0===r?void 0:r.payees}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Pay\xe9es"})]}),(0,Pu.jsxs)("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-red-600",children:null===r||void 0===r?void 0:r.impayees}),(0,Pu.jsx)("p",{className:"text-sm text-gray-600",children:"Impay\xe9es"})]})]}),(0,Pu.jsx)(N,{filters:[{value:"tous",label:"Toutes",count:v.length},{value:"payee",label:"Pay\xe9es",count:v.filter(e=>"payee"===e.statut).length},{value:"impayee",label:"Impay\xe9es",count:v.filter(e=>"impayee"===e.statut).length}],currentFilter:a,onFilterChange:o}),(0,Pu.jsx)("div",{className:"border rounded-xl divide-y max-h-80 overflow-y-auto",children:("tous"===a?v:v.filter(e=>e.statut===a)).map(e=>(0,Pu.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ".concat("payee"===e.statut?"bg-gradient-to-br from-emerald-500 to-green-500":"bg-gradient-to-br from-red-500 to-rose-500"),children:e.id}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"font-medium text-gray-900",children:e.numero}),(0,Pu.jsxs)("p",{className:"text-sm text-gray-500",children:[e.client," \u2022 ","payee"===e.statut?"Pay\xe9e le ".concat(e.date):"\xc9ch\xe9ance: ".concat(e.echeance)]})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.montant.toLocaleString(),"\u20ac"]}),k(e.statut)]})]},e.id))})]})})]})},kh=qu("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Nh=qu("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Eh=qu("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Sh=qu("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Ch=qu("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Th=qu("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),jh=qu("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ih=qu("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Ah=qu("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Rh=qu("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ph=qu("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Oh=qu("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Dh=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)("cards"),[c,u]=(0,i.useState)({key:"raisonSociale",direction:"asc"}),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),[m,g]=(0,i.useState)(null),[v,y]=(0,i.useState)({raisonSociale:"",siret:"",email:"",telephone:"",adresse:"",codePostal:"",ville:"",pays:"France",type:"professionnel",notes:""}),b=()=>{if(0===e.length)return"001";const t=Math.max(...e.map(e=>parseInt(e.code,10)||0));return String(t+1).padStart(3,"0")};(0,i.useEffect)(()=>{setTimeout(()=>{t([{id:"1",code:"001",raisonSociale:"Dupont Industries",siret:"123 456 789 00012",email:"contact@dupont-industries.fr",telephone:"01 23 45 67 89",adresse:"15 rue de la R\xe9publique",codePostal:"75001",ville:"Paris",pays:"France",type:"professionnel",sitesCount:5,devisEnCours:3,facturesImpayees:1,caTotal:45600,dernierContact:"2025-12-10"},{id:"2",code:"002",raisonSociale:"Martin SAS",siret:"987 654 321 00034",email:"info@martin-sas.com",telephone:"04 56 78 90 12",adresse:"8 avenue des Champs",codePostal:"69001",ville:"Lyon",pays:"France",type:"professionnel",sitesCount:12,devisEnCours:0,facturesImpayees:0,caTotal:128500,dernierContact:"2025-12-15"},{id:"3",code:"003",raisonSociale:"Carrefour Lyon",siret:"456 789 123 00056",email:"technique@carrefour.fr",telephone:"04 78 90 12 34",adresse:"120 boulevard de la Croix-Rousse",codePostal:"69004",ville:"Lyon",pays:"France",type:"professionnel",sitesCount:3,devisEnCours:2,facturesImpayees:2,caTotal:89200,dernierContact:"2025-12-14"},{id:"4",code:"004",raisonSociale:"Boulangerie Petit Jean",siret:"321 654 987 00078",email:"petitjean@boulangerie.fr",telephone:"02 34 56 78 90",adresse:"3 place du March\xe9",codePostal:"44000",ville:"Nantes",pays:"France",type:"professionnel",sitesCount:1,devisEnCours:1,facturesImpayees:0,caTotal:12400,dernierContact:"2025-12-08"}]),r(!1)},800)},[]);const x=e.filter(e=>e.raisonSociale.toLowerCase().includes(s.toLowerCase())||e.code.toLowerCase().includes(s.toLowerCase())||e.ville.toLowerCase().includes(s.toLowerCase())),w=[...x].sort((e,t)=>e[c.key]<t[c.key]?"asc"===c.direction?-1:1:e[c.key]>t[c.key]?"asc"===c.direction?1:-1:0),_=e=>{u(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"}))},k=e=>{let{column:t}=e;return c.key!==t?(0,Pu.jsx)(kh,{className:"w-4 h-4 text-gray-300"}):"asc"===c.direction?(0,Pu.jsx)(kh,{className:"w-4 h-4 text-blue-500"}):(0,Pu.jsx)(Nh,{className:"w-4 h-4 text-blue-500"})},N=()=>{y({raisonSociale:"",siret:"",email:"",telephone:"",adresse:"",codePostal:"",ville:"",pays:"France",type:"professionnel",notes:""}),p("create")},E=e=>{h(e),y({raisonSociale:e.raisonSociale,siret:e.siret,email:e.email,telephone:e.telephone,adresse:e.adresse,codePostal:e.codePostal,ville:e.ville,pays:e.pays,type:e.type,notes:e.notes||""}),p("edit")},S=e=>{h(e),p("view")},C=()=>{p(null),h(null)},T=e=>{let{client:t}=e;return(0,Pu.jsxs)(mh,{className:"group relative overflow-hidden",padding:"none",onClick:()=>S(t),children:[(0,Pu.jsx)("div",{className:"h-1.5 bg-gradient-to-r ".concat(t.facturesImpayees>0?"from-red-500 to-rose-500":"from-blue-500 to-indigo-500")}),(0,Pu.jsxs)("div",{className:"p-4",children:[(0,Pu.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pu.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-sm shadow-lg shadow-blue-500/30",children:t.code}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:t.raisonSociale}),(0,Pu.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,Pu.jsx)(Eh,{className:"w-3 h-3"}),t.ville]})]})]}),(0,Pu.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,Pu.jsx)("button",{onClick:e=>{e.stopPropagation(),E(t)},className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-blue-600",children:(0,Pu.jsx)(Sh,{className:"w-3.5 h-3.5"})}),(0,Pu.jsx)("button",{onClick:e=>{e.stopPropagation(),g(t)},className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-red-600",children:(0,Pu.jsx)(Ch,{className:"w-3.5 h-3.5"})})]})]}),(0,Pu.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[(0,Pu.jsxs)("div",{className:"text-center p-1.5 bg-gray-50 rounded-lg",children:[(0,Pu.jsx)("p",{className:"text-sm font-bold text-gray-900",children:t.sitesCount}),(0,Pu.jsx)("p",{className:"text-[10px] text-gray-500",children:"Sites"})]}),(0,Pu.jsxs)("div",{className:"text-center p-1.5 bg-gray-50 rounded-lg",children:[(0,Pu.jsx)("p",{className:"text-sm font-bold text-gray-900",children:t.devisEnCours}),(0,Pu.jsx)("p",{className:"text-[10px] text-gray-500",children:"Devis"})]}),(0,Pu.jsxs)("div",{className:"text-center p-1.5 bg-gray-50 rounded-lg",children:[(0,Pu.jsx)("p",{className:"text-sm font-bold ".concat(t.facturesImpayees>0?"text-red-600":"text-gray-900"),children:t.facturesImpayees}),(0,Pu.jsx)("p",{className:"text-[10px] text-gray-500",children:"Impay\xe9es"})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Pu.jsx)(rh,{className:"w-3.5 h-3.5 text-emerald-500"}),(0,Pu.jsxs)("span",{className:"font-semibold text-gray-900 text-sm",children:[t.caTotal.toLocaleString(),"\u20ac"]})]}),(0,Pu.jsx)("span",{className:"text-[10px] text-gray-500",children:new Date(t.dernierContact).toLocaleDateString("fr-FR")})]})]})]})};return(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,Pu.jsxs)("div",{children:[(0,Pu.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 shadow-lg shadow-blue-500/30",children:(0,Pu.jsx)(Xu,{className:"w-6 h-6 text-white"})}),"Clients Payeurs"]}),(0,Pu.jsx)("p",{className:"text-gray-500 mt-1",children:"G\xe9rez vos clients et leurs informations"})]}),(0,Pu.jsx)(fh,{variant:"primary",icon:Th,onClick:N,children:"Nouveau Client"})]}),(0,Pu.jsx)(mh,{padding:"md",children:(0,Pu.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Pu.jsxs)("div",{className:"flex-1 relative",children:[(0,Pu.jsx)(jh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Pu.jsx)("input",{type:"text",placeholder:"Rechercher un client...",value:s,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10 transition-all duration-200 focus:outline-none"})]}),(0,Pu.jsxs)("div",{className:"flex gap-2",children:[(0,Pu.jsxs)("div",{className:"flex bg-gray-100 rounded-xl p-1",children:[(0,Pu.jsx)("button",{onClick:()=>l("cards"),className:"p-2 rounded-lg transition-all ".concat("cards"===o?"bg-white shadow text-blue-600":"text-gray-500 hover:text-gray-700"),children:(0,Pu.jsx)(Ih,{className:"w-5 h-5"})}),(0,Pu.jsx)("button",{onClick:()=>l("table"),className:"p-2 rounded-lg transition-all ".concat("table"===o?"bg-white shadow text-blue-600":"text-gray-500 hover:text-gray-700"),children:(0,Pu.jsx)(Ah,{className:"w-5 h-5"})})]}),(0,Pu.jsx)(fh,{variant:"secondary",icon:Rh,children:"Filtres"}),(0,Pu.jsx)(fh,{variant:"secondary",icon:Ph,children:"Exporter"})]})]})}),(0,Pu.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Pu.jsxs)(mh,{padding:"md",className:"text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.length}),(0,Pu.jsx)("p",{className:"text-sm text-gray-500",children:"Total clients"})]}),(0,Pu.jsxs)(mh,{padding:"md",className:"text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:e.reduce((e,t)=>e+t.sitesCount,0)}),(0,Pu.jsx)("p",{className:"text-sm text-gray-500",children:"Sites actifs"})]}),(0,Pu.jsxs)(mh,{padding:"md",className:"text-center",children:[(0,Pu.jsx)("p",{className:"text-3xl font-bold text-amber-600",children:e.reduce((e,t)=>e+t.devisEnCours,0)}),(0,Pu.jsx)("p",{className:"text-sm text-gray-500",children:"Devis en cours"})]}),(0,Pu.jsxs)(mh,{padding:"md",className:"text-center",children:[(0,Pu.jsxs)("p",{className:"text-3xl font-bold text-emerald-600",children:[(e.reduce((e,t)=>e+t.caTotal,0)/1e3).toFixed(1),"k\u20ac"]}),(0,Pu.jsx)("p",{className:"text-sm text-gray-500",children:"CA total"})]})]}),n?(0,Pu.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,Pu.jsx)(mh,{padding:"md",children:(0,Pu.jsx)(xh,{className:"h-32"})},e))}):0===x.length?(0,Pu.jsx)(wh,{icon:Xu,title:"Aucun client trouv\xe9",description:s?"Aucun client ne correspond \xe0 votre recherche":"Commencez par ajouter votre premier client",action:(0,Pu.jsx)(fh,{variant:"primary",icon:Th,onClick:N,children:"Ajouter un client"})}):"cards"===o?(0,Pu.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map(e=>(0,Pu.jsx)(T,{client:e},e.id))}):(0,Pu.jsx)(mh,{padding:"none",className:"overflow-hidden",children:(0,Pu.jsx)("div",{className:"overflow-x-auto",children:(0,Pu.jsxs)("table",{className:"w-full",children:[(0,Pu.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,Pu.jsxs)("tr",{children:[(0,Pu.jsx)("th",{onClick:()=>_("code"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,Pu.jsxs)("div",{className:"flex items-center gap-1",children:["N\xb0 ",(0,Pu.jsx)(k,{column:"code"})]})}),(0,Pu.jsx)("th",{onClick:()=>_("raisonSociale"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,Pu.jsxs)("div",{className:"flex items-center gap-1",children:["Raison Sociale ",(0,Pu.jsx)(k,{column:"raisonSociale"})]})}),(0,Pu.jsx)("th",{onClick:()=>_("ville"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,Pu.jsxs)("div",{className:"flex items-center gap-1",children:["Ville ",(0,Pu.jsx)(k,{column:"ville"})]})}),(0,Pu.jsx)("th",{onClick:()=>_("sitesCount"),className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,Pu.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["Sites ",(0,Pu.jsx)(k,{column:"sitesCount"})]})}),(0,Pu.jsx)("th",{onClick:()=>_("devisEnCours"),className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,Pu.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["Devis ",(0,Pu.jsx)(k,{column:"devisEnCours"})]})}),(0,Pu.jsx)("th",{onClick:()=>_("facturesImpayees"),className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,Pu.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["Impay\xe9es ",(0,Pu.jsx)(k,{column:"facturesImpayees"})]})}),(0,Pu.jsx)("th",{onClick:()=>_("caTotal"),className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,Pu.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["CA Total ",(0,Pu.jsx)(k,{column:"caTotal"})]})}),(0,Pu.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),(0,Pu.jsx)("tbody",{className:"divide-y divide-gray-100",children:w.map(e=>(0,Pu.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>S(e),children:[(0,Pu.jsx)("td",{className:"px-4 py-3",children:(0,Pu.jsx)("span",{className:"inline-flex items-center justify-center w-10 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-bold text-xs",children:e.code})}),(0,Pu.jsx)("td",{className:"px-4 py-3 font-medium text-gray-900",children:e.raisonSociale}),(0,Pu.jsx)("td",{className:"px-4 py-3 text-gray-600",children:e.ville}),(0,Pu.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Pu.jsx)(vh,{variant:"default",children:e.sitesCount})}),(0,Pu.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Pu.jsx)(vh,{variant:e.devisEnCours>0?"warning":"default",children:e.devisEnCours})}),(0,Pu.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Pu.jsx)(vh,{variant:e.facturesImpayees>0?"danger":"success",children:e.facturesImpayees})}),(0,Pu.jsxs)("td",{className:"px-4 py-3 text-right font-semibold text-gray-900",children:[e.caTotal.toLocaleString(),"\u20ac"]}),(0,Pu.jsx)("td",{className:"px-4 py-3 text-center",onClick:e=>e.stopPropagation(),children:(0,Pu.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Pu.jsx)("button",{onClick:()=>E(e),className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-blue-600",children:(0,Pu.jsx)(Sh,{className:"w-4 h-4"})}),(0,Pu.jsx)("button",{onClick:()=>g(e),className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-red-600",children:(0,Pu.jsx)(Ch,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),(0,Pu.jsx)(ph,{isOpen:"create"===f||"edit"===f,onClose:C,title:"create"===f?"Nouveau Client":"Modifier Client",subtitle:"create"===f?"Code client: ".concat(b()," (auto)"):"Code: ".concat(null===d||void 0===d?void 0:d.code),icon:Xu,iconColor:"blue",size:"lg",footer:(0,Pu.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Pu.jsx)(fh,{variant:"ghost",onClick:C,children:"Annuler"}),(0,Pu.jsx)(fh,{variant:"primary",onClick:()=>{if("create"===f){const n=b();t([...e,(0,qe.A)((0,qe.A)({id:Date.now().toString(),code:n},v),{},{sitesCount:0,devisEnCours:0,facturesImpayees:0,caTotal:0,dernierContact:(new Date).toISOString().split("T")[0]})])}else t(e.map(e=>e.id===d.id?(0,qe.A)((0,qe.A)({},e),v):e));C()},children:"create"===f?"Cr\xe9er":"Enregistrer"})]}),children:(0,Pu.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pu.jsx)(yh,{label:"Raison sociale",placeholder:"Nom de l'entreprise",value:v.raisonSociale,onChange:e=>y((0,qe.A)((0,qe.A)({},v),{},{raisonSociale:e.target.value})),required:!0,className:"md:col-span-2"}),(0,Pu.jsx)(yh,{label:"SIRET",placeholder:"123 456 789 00012",value:v.siret,onChange:e=>y((0,qe.A)((0,qe.A)({},v),{},{siret:e.target.value}))}),(0,Pu.jsx)(bh,{label:"Type",value:v.type,onChange:e=>y((0,qe.A)((0,qe.A)({},v),{},{type:e.target.value})),options:[{value:"professionnel",label:"Professionnel"},{value:"particulier",label:"Particulier"},{value:"administration",label:"Administration"}]}),(0,Pu.jsx)(yh,{label:"Email",type:"email",placeholder:"contact@entreprise.fr",value:v.email,onChange:e=>y((0,qe.A)((0,qe.A)({},v),{},{email:e.target.value})),icon:Oh,required:!0}),(0,Pu.jsx)(yh,{label:"T\xe9l\xe9phone",placeholder:"01 23 45 67 89",value:v.telephone,onChange:e=>y((0,qe.A)((0,qe.A)({},v),{},{telephone:e.target.value})),icon:jd}),(0,Pu.jsx)(yh,{label:"Adresse",placeholder:"15 rue de la R\xe9publique",value:v.adresse,onChange:e=>y((0,qe.A)((0,qe.A)({},v),{},{adresse:e.target.value})),className:"md:col-span-2"}),(0,Pu.jsx)(yh,{label:"Code postal",placeholder:"75001",value:v.codePostal,onChange:e=>y((0,qe.A)((0,qe.A)({},v),{},{codePostal:e.target.value}))}),(0,Pu.jsx)(yh,{label:"Ville",placeholder:"Paris",value:v.ville,onChange:e=>y((0,qe.A)((0,qe.A)({},v),{},{ville:e.target.value}))})]})}),(0,Pu.jsx)(ph,{isOpen:"view"===f,onClose:C,title:null===d||void 0===d?void 0:d.raisonSociale,subtitle:"Client N\xb0 ".concat(null===d||void 0===d?void 0:d.code),icon:$u,iconColor:"blue",size:"xl",footer:(0,Pu.jsxs)("div",{className:"flex justify-between",children:[(0,Pu.jsx)(fh,{variant:"ghost",onClick:C,children:"Fermer"}),(0,Pu.jsxs)("div",{className:"flex gap-3",children:[(0,Pu.jsx)(fh,{variant:"secondary",icon:th,children:"Nouveau Devis"}),(0,Pu.jsx)(fh,{variant:"primary",icon:Sh,onClick:()=>{C(),E(d)},children:"Modifier"})]})]}),children:d&&(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Pu.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-4 text-white",children:[(0,Pu.jsx)($u,{className:"w-6 h-6 mb-2 opacity-80"}),(0,Pu.jsx)("p",{className:"text-3xl font-bold",children:d.sitesCount}),(0,Pu.jsx)("p",{className:"text-sm opacity-80",children:"Sites"})]}),(0,Pu.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl p-4 text-white",children:[(0,Pu.jsx)(th,{className:"w-6 h-6 mb-2 opacity-80"}),(0,Pu.jsx)("p",{className:"text-3xl font-bold",children:d.devisEnCours}),(0,Pu.jsx)("p",{className:"text-sm opacity-80",children:"Devis en cours"})]}),(0,Pu.jsxs)("div",{className:"rounded-2xl p-4 text-white ".concat(d.facturesImpayees>0?"bg-gradient-to-br from-red-500 to-rose-600":"bg-gradient-to-br from-emerald-500 to-green-600"),children:[(0,Pu.jsx)(ah,{className:"w-6 h-6 mb-2 opacity-80"}),(0,Pu.jsx)("p",{className:"text-3xl font-bold",children:d.facturesImpayees}),(0,Pu.jsx)("p",{className:"text-sm opacity-80",children:"Factures impay\xe9es"})]}),(0,Pu.jsxs)("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-4 text-white",children:[(0,Pu.jsx)(rh,{className:"w-6 h-6 mb-2 opacity-80"}),(0,Pu.jsxs)("p",{className:"text-3xl font-bold",children:[(d.caTotal/1e3).toFixed(1),"k\u20ac"]}),(0,Pu.jsx)("p",{className:"text-sm opacity-80",children:"CA total"})]})]}),(0,Pu.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Coordonn\xe9es"}),(0,Pu.jsxs)("div",{className:"space-y-3",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,Pu.jsx)(Oh,{className:"w-4 h-4"}),(0,Pu.jsx)("span",{children:d.email})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,Pu.jsx)(jd,{className:"w-4 h-4"}),(0,Pu.jsx)("span",{children:d.telephone})]}),(0,Pu.jsxs)("div",{className:"flex items-start gap-3 text-gray-600",children:[(0,Pu.jsx)(Eh,{className:"w-4 h-4 mt-0.5"}),(0,Pu.jsxs)("span",{children:[d.adresse,(0,Pu.jsx)("br",{}),d.codePostal," ",d.ville]})]})]})]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations l\xe9gales"}),(0,Pu.jsxs)("div",{className:"space-y-3",children:[(0,Pu.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Pu.jsx)("span",{className:"text-gray-500",children:"SIRET"}),(0,Pu.jsx)("span",{className:"font-mono text-gray-900",children:d.siret})]}),(0,Pu.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Pu.jsx)("span",{className:"text-gray-500",children:"Type"}),(0,Pu.jsx)(vh,{variant:"primary",children:d.type})]})]})]})]}),(0,Pu.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[(0,Pu.jsx)(fh,{variant:"secondary",icon:$u,fullWidth:!0,children:"Voir les sites"}),(0,Pu.jsx)(fh,{variant:"secondary",icon:th,fullWidth:!0,children:"Historique devis"}),(0,Pu.jsx)(fh,{variant:"secondary",icon:ah,fullWidth:!0,children:"Historique factures"})]})]})}),(0,Pu.jsx)(ph,{isOpen:null!==m,onClose:()=>g(null),title:"Supprimer ce client ?",subtitle:"Cette action est irr\xe9versible",icon:ch,iconColor:"red",size:"sm",footer:(0,Pu.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Pu.jsx)(fh,{variant:"ghost",onClick:()=>g(null),children:"Annuler"}),(0,Pu.jsx)(fh,{variant:"danger",onClick:()=>(n=>{t(e.filter(e=>e.id!==n.id)),g(null)})(m),children:"Supprimer"})]}),children:(0,Pu.jsxs)("p",{className:"text-gray-600",children:["Vous \xeates sur le point de supprimer le client N\xb0 ",(0,Pu.jsx)("strong",{children:null===m||void 0===m?void 0:m.code})," - ",(0,Pu.jsx)("strong",{children:null===m||void 0===m?void 0:m.raisonSociale}),". Tous les sites et donn\xe9es associ\xe9s seront \xe9galement supprim\xe9s."]})})]})},Lh=["_f"],Mh=["name"],Fh=["_f"],Vh=["ref","message","type"],Uh=["formControl"];var zh=e=>"checkbox"===e.type,Bh=e=>e instanceof Date,qh=e=>null==e;const Hh=e=>"object"===typeof e;var Wh=e=>!qh(e)&&!Array.isArray(e)&&Hh(e)&&!Bh(e),Kh=e=>Wh(e)&&e.target?zh(e.target)?e.target.checked:e.target.value:e,Gh=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Qh="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Xh(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Qh&&(e instanceof Blob||r)||!n&&!Wh(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return Wh(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Xh(e[n]));else t=e}return t}var Yh=e=>/^\w*$/.test(e),$h=e=>void 0===e,Jh=e=>Array.isArray(e)?e.filter(Boolean):[],Zh=e=>Jh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ef=(e,t,n)=>{if(!t||!Wh(e))return n;const r=(Yh(t)?[t]:Zh(t)).reduce((e,t)=>qh(e)?e:e[t],e);return $h(r)||r===e?$h(e[t])?n:e[t]:r},tf=e=>"boolean"===typeof e,nf=(e,t,n)=>{let r=-1;const i=Yh(t)?[t]:Zh(t),s=i.length,a=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==a){const n=e[t];s=Wh(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const rf="blur",sf="focusout",af="onBlur",of="onChange",lf="onSubmit",cf="onTouched",uf="all",df="max",hf="min",ff="maxLength",pf="minLength",mf="pattern",gf="required",vf="validate",yf=i.createContext(null);yf.displayName="HookFormContext";var bf=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==uf&&(t._proxyFormState[i]=!r||uf),n&&(n[i]=!0),e[i]}});return i};const xf="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var wf=e=>"string"===typeof e,_f=(e,t,n,r,i)=>wf(e)?(r&&t.watch.add(e),ef(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),ef(n,e))):(r&&(t.watchAll=!0),n),kf=e=>qh(e)||!Hh(e);function Nf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(kf(e)||kf(t))return Object.is(e,t);if(Bh(e)&&Bh(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const r=e[s];if(!i.includes(s))return!1;if("ref"!==s){const e=t[s];if(Bh(r)&&Bh(e)||Wh(r)&&Wh(e)||Array.isArray(r)&&Array.isArray(e)?!Nf(r,e,n):!Object.is(r,e))return!1}}return!0}var Ef=(e,t,n,r,i)=>t?(0,qe.A)((0,qe.A)({},n[e]),{},{types:(0,qe.A)((0,qe.A)({},n[e]&&n[e].types?n[e].types:{}),{},{[r]:i||!0})}):{},Sf=e=>Array.isArray(e)?e:[e],Cf=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function Tf(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],s=t[r];if(i&&Wh(i)&&s){const e=Tf(i,s);Wh(e)&&(n[r]=e)}else e[r]&&(n[r]=s)}return n}var jf=e=>Wh(e)&&!Object.keys(e).length,If=e=>"file"===e.type,Af=e=>"function"===typeof e,Rf=e=>{if(!Qh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Pf=e=>"select-multiple"===e.type,Of=e=>"radio"===e.type,Df=e=>Rf(e)&&e.isConnected;function Lf(e,t){const n=Array.isArray(t)?t:Yh(t)?[t]:Zh(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=$h(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(Wh(r)&&jf(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!$h(e[t]))return!1;return!0}(r))&&Lf(e,n.slice(0,-1)),e}function Mf(e){return Array.isArray(e)||Wh(e)&&!(e=>{for(const t in e)if(Af(e[t]))return!0;return!1})(e)}function Ff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n in e){const r=e[n];Mf(r)?(t[n]=Array.isArray(r)?[]:{},Ff(r,t[n])):$h(r)||(t[n]=!0)}return t}function Vf(e,t,n){n||(n=Ff(t));for(const r in e){const i=e[r];if(Mf(i))$h(t)||kf(n[r])?n[r]=Ff(i,Array.isArray(i)?[]:{}):Vf(i,qh(t)?{}:t[r],n[r]);else{const e=t[r];n[r]=!Nf(i,e)}}return n}const Uf={value:!1,isValid:!1},zf={value:!0,isValid:!0};var Bf=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$h(e[0].attributes.value)?$h(e[0].value)||""===e[0].value?zf:{value:e[0].value,isValid:!0}:zf:Uf}return Uf},qf=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return $h(e)?e:n?""===e?NaN:e?+e:e:r&&wf(e)?new Date(e):i?i(e):e};const Hf={isValid:!1,value:null};var Wf=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Hf):Hf;function Kf(e){const t=e.ref;return If(t)?t.files:Of(t)?Wf(e.refs).value:Pf(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):zh(t)?Bf(e.refs).value:qf($h(t.value)?e.ref.value:t.value,e)}var Gf=e=>e instanceof RegExp,Qf=e=>$h(e)?e:Gf(e)?e.source:Wh(e)?Gf(e.value)?e.value.source:e.value:e,Xf=e=>({isOnSubmit:!e||e===lf,isOnBlur:e===af,isOnChange:e===of,isOnAll:e===uf,isOnTouch:e===cf});const Yf="AsyncFunction";var $f=e=>!!e&&!!e.validate&&!!(Af(e.validate)&&e.validate.constructor.name===Yf||Wh(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Yf)),Jf=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Zf=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=ef(e,i);if(n){const{_f:e}=n,s=Uu(n,Lh);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Zf(s,t))break}else if(Wh(s)&&Zf(s,t))break}}};function ep(e,t,n){const r=ef(e,n);if(r||Yh(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=ef(t,r),a=ef(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};if(a&&a.root&&a.root.type)return{name:"".concat(r,".root"),error:a.root};i.pop()}return{name:n}}var tp=(e,t,n)=>{const r=Sf(ef(e,n));return nf(r,"root",t[n]),nf(e,n,r),e};function np(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(wf(e)||Array.isArray(e)&&e.every(wf)||tf(e)&&!e)return{type:n,message:wf(e)?e:"",ref:t}}var rp=e=>Wh(e)&&!Gf(e)?e:{value:e,message:""},ip=async(e,t,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:m,valueAsNumber:g,mount:v}=e._f,y=ef(n,m);if(!v||t.has(m))return{};const b=o?o[0]:a,x=e=>{i&&b.reportValidity&&(b.setCustomValidity(tf(e)?"":e||""),b.reportValidity())},w={},_=Of(a),k=zh(a),N=_||k,E=(g||If(a))&&$h(a.value)&&$h(y)||Rf(a)&&""===a.value||""===y||Array.isArray(y)&&!y.length,S=Ef.bind(null,m,r,w),C=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ff,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pf;const s=e?t:n;w[m]=(0,qe.A)({type:e?r:i,message:s,ref:a},S(e?r:i,s))};if(s?!Array.isArray(y)||!y.length:l&&(!N&&(E||qh(y))||tf(y)&&!y||k&&!Bf(o).isValid||_&&!Wf(o).isValid)){const{value:e,message:t}=wf(l)?{value:!!l,message:l}:rp(l);if(e&&(w[m]=(0,qe.A)({type:gf,message:t,ref:b},S(gf,t)),!r))return x(t),w}if(!E&&(!qh(d)||!qh(h))){let e,t;const n=rp(h),i=rp(d);if(qh(y)||isNaN(y)){const r=a.valueAsDate||new Date(y),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,l="week"==a.type;wf(n.value)&&y&&(e=o?s(y)>s(n.value):l?y>n.value:r>new Date(n.value)),wf(i.value)&&y&&(t=o?s(y)<s(i.value):l?y<i.value:r<new Date(i.value))}else{const r=a.valueAsNumber||(y?+y:y);qh(n.value)||(e=r>n.value),qh(i.value)||(t=r<i.value)}if((e||t)&&(C(!!e,n.message,i.message,df,hf),!r))return x(w[m].message),w}if((c||u)&&!E&&(wf(y)||s&&Array.isArray(y))){const e=rp(c),t=rp(u),n=!qh(e.value)&&y.length>+e.value,i=!qh(t.value)&&y.length<+t.value;if((n||i)&&(C(n,e.message,t.message),!r))return x(w[m].message),w}if(f&&!E&&wf(y)){const{value:e,message:t}=rp(f);if(Gf(e)&&!y.match(e)&&(w[m]=(0,qe.A)({type:mf,message:t,ref:a},S(mf,t)),!r))return x(t),w}if(p)if(Af(p)){const e=np(await p(y,n),b);if(e&&(w[m]=(0,qe.A)((0,qe.A)({},e),S(vf,e.message)),!r))return x(e.message),w}else if(Wh(p)){let e={};for(const t in p){if(!jf(e)&&!r)break;const i=np(await p[t](y,n),b,t);i&&(e=(0,qe.A)((0,qe.A)({},i),S(t,i.message)),x(i.message),r&&(w[m]=e))}if(!jf(e)&&(w[m]=(0,qe.A)({ref:b},e),!r))return w}return x(!0),w};const sp={mode:lf,reValidateMode:of,shouldFocusError:!0};function ap(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,qe.A)((0,qe.A)({},sp),t),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Af(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},s=(Wh(n.defaultValues)||Wh(n.values))&&Xh(n.defaultValues||n.values)||{},a=n.shouldUnregister?{}:Xh(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d=(0,qe.A)({},u);const h={array:Cf(),state:Cf()},f=n.criteriaMode===uf,p=async e=>{if(!n.disabled&&(u.isValid||d.isValid||e)){const e=n.resolver?jf((await b()).errors):await x(i,!0);e!==r.isValid&&h.state.next({isValid:e})}},m=(e,t)=>{!n.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?nf(r.validatingFields,e,t):Lf(r.validatingFields,e))}),h.state.next({validatingFields:r.validatingFields,isValidating:!jf(r.validatingFields)}))},g=(e,t,n,r)=>{const l=ef(i,e);if(l){const i=ef(a,e,$h(n)?ef(s,e):n);$h(i)||r&&r.defaultChecked||t?nf(a,e,t?i:Kf(l._f)):k(e,i),o.mount&&!o.action&&p()}},v=(e,t,i,a,o)=>{let l=!1,c=!1;const f={name:e};if(!n.disabled){if(!i||a){(u.isDirty||d.isDirty)&&(c=r.isDirty,r.isDirty=f.isDirty=w(),l=c!==f.isDirty);const n=Nf(ef(s,e),t);c=!!ef(r.dirtyFields,e),n?Lf(r.dirtyFields,e):nf(r.dirtyFields,e,!0),f.dirtyFields=r.dirtyFields,l=l||(u.dirtyFields||d.dirtyFields)&&c!==!n}if(i){const t=ef(r.touchedFields,e);t||(nf(r.touchedFields,e,i),f.touchedFields=r.touchedFields,l=l||(u.touchedFields||d.touchedFields)&&t!==i)}l&&o&&h.state.next(f)}return l?f:{}},y=(t,i,s,a)=>{const o=ef(r.errors,t),l=(u.isValid||d.isValid)&&tf(i)&&r.isValid!==i;var f;if(n.delayError&&s?(f=()=>((e,t)=>{nf(r.errors,e,t),h.state.next({errors:r.errors})})(t,s),e=e=>{clearTimeout(c),c=setTimeout(f,e)},e(n.delayError)):(clearTimeout(c),e=null,s?nf(r.errors,t,s):Lf(r.errors,t)),(s?!Nf(o,s):o)||!jf(a)||l){const e=(0,qe.A)((0,qe.A)((0,qe.A)({},a),l&&tf(i)?{isValid:i}:{}),{},{errors:r.errors,name:t});r=(0,qe.A)((0,qe.A)({},r),e),h.state.next(e)}},b=async e=>{m(e,!0);const t=await n.resolver(a,n.context,((e,t,n,r)=>{const i={};for(const s of e){const e=ef(t,s);e&&nf(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return m(e),t},x=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const s in e){const o=e[s];if(o){const{_f:e}=o,s=Uu(o,Fh);if(e){const s=l.array.has(e.name),c=o._f&&$f(o._f);c&&u.validatingFields&&m([e.name],!0);const d=await ip(o,l.disabled,a,f,n.shouldUseNativeValidation&&!t,s);if(c&&u.validatingFields&&m([e.name]),d[e.name]&&(i.valid=!1,t))break;!t&&(ef(d,e.name)?s?tp(r.errors,d,e.name):nf(r.errors,e.name,d[e.name]):Lf(r.errors,e.name))}!jf(s)&&await x(s,t,i)}}return i.valid},w=(e,t)=>!n.disabled&&(e&&t&&nf(a,e,t),!Nf(j(),s)),_=(e,t,n)=>_f(e,l,(0,qe.A)({},o.mount?a:$h(t)?s:wf(e)?{[e]:t}:t),n,t),k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=ef(i,e);let s=t;if(r){const n=r._f;n&&(!n.disabled&&nf(a,e,qf(t,n)),s=Rf(n.ref)&&qh(t)?"":t,Pf(n.ref)?[...n.ref.options].forEach(e=>e.selected=s.includes(e.value)):n.refs?zh(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):n.refs.forEach(e=>e.checked=e.value===s):If(n.ref)?n.ref.value="":(n.ref.value=s,n.ref.type||h.state.next({name:e,values:Xh(a)})))}(n.shouldDirty||n.shouldTouch)&&v(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&T(e)},N=(e,t,n)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const s=t[r],a=e+"."+r,o=ef(i,a);(l.array.has(e)||Wh(s)||o&&!o._f)&&!Bh(s)?N(a,s,n):k(a,s,n)}},E=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=ef(i,e),f=l.array.has(e),p=Xh(t);nf(a,e,p),f?(h.array.next({name:e,values:Xh(a)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&n.shouldDirty&&h.state.next({name:e,dirtyFields:Vf(s,a),isDirty:w(e,p)})):!c||c._f||qh(p)?k(e,p,n):N(e,p,n),Jf(e,l)&&h.state.next((0,qe.A)((0,qe.A)({},r),{},{name:e})),h.state.next({name:o.mount?e:void 0,values:Xh(a)})},S=async t=>{o.mount=!0;const s=t.target;let c=s.name,g=!0;const w=ef(i,c),_=e=>{g=Number.isNaN(e)||Bh(e)&&isNaN(e.getTime())||Nf(e,ef(a,c,e))},k=Xf(n.mode),N=Xf(n.reValidateMode);if(w){let o,S;const C=s.type?Kf(w._f):Kh(t),j=t.type===rf||t.type===sf,I=!((E=w._f).mount&&(E.required||E.min||E.max||E.maxLength||E.minLength||E.pattern||E.validate))&&!n.resolver&&!ef(r.errors,c)&&!w._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(j,ef(r.touchedFields,c),r.isSubmitted,N,k),A=Jf(c,l,j);nf(a,c,C),j?s&&s.readOnly||(w._f.onBlur&&w._f.onBlur(t),e&&e(0)):w._f.onChange&&w._f.onChange(t);const R=v(c,C,j),P=!jf(R)||A;if(!j&&h.state.next({name:c,type:t.type,values:Xh(a)}),I)return(u.isValid||d.isValid)&&("onBlur"===n.mode?j&&p():j||p()),P&&h.state.next((0,qe.A)({name:c},A?{}:R));if(!j&&A&&h.state.next((0,qe.A)({},r)),n.resolver){const{errors:e}=await b([c]);if(_(C),g){const t=ep(r.errors,i,c),n=ep(e,i,t.name||c);o=n.error,c=n.name,S=jf(e)}}else m([c],!0),o=(await ip(w,l.disabled,a,f,n.shouldUseNativeValidation))[c],m([c]),_(C),g&&(o?S=!1:(u.isValid||d.isValid)&&(S=await x(i,!0)));g&&(w._f.deps&&(!Array.isArray(w._f.deps)||w._f.deps.length>0)&&T(w._f.deps),y(c,S,o,R))}var E},C=(e,t)=>{if(ef(r.errors,t)&&e.focus)return e.focus(),1},T=async function(e){let t,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=Sf(e);if(n.resolver){const n=await(async e=>{const{errors:t}=await b(e);if(e)for(const n of e){const e=ef(t,n);e?nf(r.errors,n,e):Lf(r.errors,n)}else r.errors=t;return t})($h(e)?e:o);t=jf(n),s=e?!o.some(e=>ef(n,e)):t}else e?(s=(await Promise.all(o.map(async e=>{const t=ef(i,e);return await x(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||r.isValid)&&p()):s=t=await x(i);return h.state.next((0,qe.A)((0,qe.A)((0,qe.A)({},!wf(e)||(u.isValid||d.isValid)&&t!==r.isValid?{}:{name:e}),n.resolver||!e?{isValid:t}:{}),{},{errors:r.errors})),a.shouldFocus&&!s&&Zf(i,C,e?o:l.mount),s},j=(e,t)=>{let n=(0,qe.A)({},o.mount?a:s);return t&&(n=Tf(t.dirtyFields?r.dirtyFields:r.touchedFields,n)),$h(e)?n:wf(e)?ef(n,e):e.map(e=>ef(n,e))},I=(e,t)=>({invalid:!!ef((t||r).errors,e),isDirty:!!ef((t||r).dirtyFields,e),error:ef((t||r).errors,e),isValidating:!!ef(r.validatingFields,e),isTouched:!!ef((t||r).touchedFields,e)}),A=(e,t,n)=>{const s=(ef(i,e,{_f:{}})._f||{}).ref,a=ef(r.errors,e)||{},{ref:o,message:l,type:c}=a,u=Uu(a,Vh);nf(r.errors,e,(0,qe.A)((0,qe.A)((0,qe.A)({},u),t),{},{ref:s})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&s&&s.focus&&s.focus()},R=e=>h.state.subscribe({next:t=>{var n,i,o;n=e.name,i=t.name,o=e.exact,n&&i&&n!==i&&!Sf(n).some(e=>e&&(o?e===i:e.startsWith(i)||i.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i}=e,s=Uu(e,Mh);return jf(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!r||uf))})(t,e.formState||u,U,e.reRenderRoot)||e.callback((0,qe.A)((0,qe.A)((0,qe.A)({values:(0,qe.A)({},a)},r),t),{},{defaultValues:s}))}}).unsubscribe,P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const o of e?Sf(e):l.mount)l.mount.delete(o),l.array.delete(o),t.keepValue||(Lf(i,o),Lf(a,o)),!t.keepError&&Lf(r.errors,o),!t.keepDirty&&Lf(r.dirtyFields,o),!t.keepTouched&&Lf(r.touchedFields,o),!t.keepIsValidating&&Lf(r.validatingFields,o),!n.shouldUnregister&&!t.keepDefaultValue&&Lf(s,o);h.state.next({values:Xh(a)}),h.state.next((0,qe.A)((0,qe.A)({},r),t.keepDirty?{isDirty:w()}:{})),!t.keepIsValid&&p()},O=e=>{let{disabled:t,name:n}=e;(tf(t)&&o.mount||t||l.disabled.has(n))&&(t?l.disabled.add(n):l.disabled.delete(n))},D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ef(i,e);const a=tf(t.disabled)||tf(n.disabled);return nf(i,e,(0,qe.A)((0,qe.A)({},r||{}),{},{_f:(0,qe.A)((0,qe.A)({},r&&r._f?r._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),l.mount.add(e),r?O({disabled:tf(t.disabled)?t.disabled:n.disabled,name:e}):g(e,!0,t.value),(0,qe.A)((0,qe.A)((0,qe.A)({},a?{disabled:t.disabled||n.disabled}:{}),n.progressive?{required:!!t.required,min:Qf(t.min),max:Qf(t.max),minLength:Qf(t.minLength),maxLength:Qf(t.maxLength),pattern:Qf(t.pattern)}:{}),{},{name:e,onChange:S,onBlur:S,ref:a=>{if(a){D(e,t),r=ef(i,e);const n=$h(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,o=(e=>Of(e)||zh(e))(n),l=r._f.refs||[];if(o?l.find(e=>e===n):n===r._f.ref)return;nf(i,e,{_f:(0,qe.A)((0,qe.A)({},r._f),o?{refs:[...l.filter(Df),n,...Array.isArray(ef(s,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n})}),g(e,!1,void 0,n)}else r=ef(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!Gh(l.array,e)||!o.action)&&l.unMount.add(e)}})},L=()=>n.shouldFocusError&&Zf(i,C,l.mount),M=(e,t)=>async s=>{let o;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=Xh(a);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await b();r.errors=e,c=Xh(t)}else await x(i);if(l.disabled.size)for(const e of l.disabled)Lf(c,e);if(Lf(r.errors,"root"),jf(r.errors)){h.state.next({errors:{}});try{await e(c,s)}catch(u){o=u}}else t&&await t((0,qe.A)({},r.errors),s),L(),setTimeout(L);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jf(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors}),o)throw o},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?Xh(e):s,d=Xh(c),f=jf(e),p=f?s:d;if(t.keepDefaultValues||(s=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Vf(s,a))]);for(const t of Array.from(e))ef(r.dirtyFields,t)?nf(p,t,ef(a,t)):E(t,ef(p,t))}else{if(Qh&&$h(e))for(const e of l.mount){const t=ef(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Rf(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)E(e,ef(p,e));else i={}}a=n.shouldUnregister?t.keepDefaultValues?Xh(s):{}:Xh(p),h.array.next({values:(0,qe.A)({},p)}),h.state.next({values:(0,qe.A)({},p)})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!n.shouldUnregister&&!jf(p),o.watch=!!n.shouldUnregister,o.action=!1,t.keepErrors||(r.errors={}),h.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!f&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||Nf(e,s))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:f?{}:t.keepDirtyValues?t.keepDefaultValues&&a?Vf(s,a):r.dirtyFields:t.keepDefaultValues&&e?Vf(s,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:s})},V=(e,t)=>F(Af(e)?e(a):e,t),U=e=>{r=(0,qe.A)((0,qe.A)({},r),e)},z={control:{register:D,unregister:P,getFieldState:I,handleSubmit:M,setError:A,_subscribe:R,_runSchema:b,_focusError:L,_getWatch:_,_getDirty:w,_setValid:p,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!n.disabled){if(o.action=!0,p&&Array.isArray(ef(i,e))){const t=l(ef(i,e),c.argA,c.argB);f&&nf(i,e,t)}if(p&&Array.isArray(ef(r.errors,e))){const t=l(ef(r.errors,e),c.argA,c.argB);f&&nf(r.errors,e,t),((e,t)=>{!Jh(ef(e,t)).length&&Lf(e,t)})(r.errors,e)}if((u.touchedFields||d.touchedFields)&&p&&Array.isArray(ef(r.touchedFields,e))){const t=l(ef(r.touchedFields,e),c.argA,c.argB);f&&nf(r.touchedFields,e,t)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Vf(s,a)),h.state.next({name:e,isDirty:w(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else nf(a,e,t)},_setDisabledField:O,_setErrors:e=>{r.errors=e,h.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>Jh(ef(o.mount?a:s,e,n.shouldUnregister?ef(s,e,[]):[])),_reset:F,_resetDefaultValues:()=>Af(n.defaultValues)&&n.defaultValues().then(e=>{V(e,n.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=ef(i,e);t&&(t._f.refs?t._f.refs.every(e=>!Df(e)):!Df(t._f.ref))&&P(e)}l.unMount=new Set},_disableForm:e=>{tf(e)&&(h.state.next({disabled:e}),Zf(i,(t,n)=>{const r=ef(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:u,get _fields(){return i},get _formValues(){return a},get _state(){return o},set _state(e){o=e},get _defaultValues(){return s},get _names(){return l},set _names(e){l=e},get _formState(){return r},get _options(){return n},set _options(e){n=(0,qe.A)((0,qe.A)({},n),e)}},subscribe:e=>(o.mount=!0,d=(0,qe.A)((0,qe.A)({},d),e.formState),R((0,qe.A)((0,qe.A)({},e),{},{formState:d}))),trigger:T,register:D,handleSubmit:M,watch:(e,t)=>Af(e)?h.state.subscribe({next:n=>"values"in n&&e(_(void 0,t),n)}):_(e,t,!0),setValue:E,getValues:j,reset:V,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ef(i,e)&&($h(t.defaultValue)?E(e,Xh(ef(s,e))):(E(e,t.defaultValue),nf(s,e,Xh(t.defaultValue))),t.keepTouched||Lf(r.touchedFields,e),t.keepDirty||(Lf(r.dirtyFields,e),r.isDirty=t.defaultValue?w(e,Xh(ef(s,e))):w()),t.keepError||(Lf(r.errors,e),u.isValid&&p()),h.state.next((0,qe.A)({},r)))},clearErrors:e=>{e&&Sf(e).forEach(e=>Lf(r.errors,e)),h.state.next({errors:e?r.errors:{}})},unregister:P,setError:A,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ef(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&Af(e.select)&&e.select())}},getFieldState:I};return(0,qe.A)((0,qe.A)({},z),{},{formControl:z})}const op=async(e,t,n)=>{try{const t=_l(Au,"organizations/".concat(e,"/settings"),"main"),r=(0,qe.A)((0,qe.A)({},n),{},{updated_at:new Ul("serverTimestamp")});return await function(e,t,n){e=gl(e,xl);const r=gl(e.firestore,El),i=Fl(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=(0,Qe.Ku)(t))||t instanceof jl?Bl(i,"updateDoc",e._key,t,n,o):zl(i,"updateDoc",e._key,t),uc(r,[s.toMutation(e._key,fi.exists(!0))])}(t,r),r}catch(r){throw console.error("Erreur mise \xe0 jour settings:",r),r}},lp=async(e,t,n)=>{try{if(!n.type.startsWith("image/"))throw new Error("Le fichier doit \xeatre une image");if(n.size>2097152)throw new Error("Le fichier ne doit pas d\xe9passer 2 Mo");const t=n.name.split(".").pop(),s="logo_".concat(Date.now(),".").concat(t),a="organizations/".concat(e,"/logo/").concat(s),o=(r=Ru,i=a,wu(r=(0,Qe.Ku)(r),i));await function(e,t,n){return vu(e=(0,Qe.Ku)(e),t,n)}(o,n);const l=await function(e){return yu(e=(0,Qe.Ku)(e))}(o);return await op(e,0,{logo_url:l}),l}catch(s){throw console.error("Erreur upload logo:",s),s}var r,i};function cp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let up={data:""},dp=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||up},hp=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fp=/\/\*[^]*?\*\/|  +/g,pp=/\n+/g,mp=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+a+";":r+="f"==s[1]?mp(a,s):s+"{"+mp(a,"k"==s[1]?"":t)+"}":"object"==typeof a?r+=mp(a,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=a&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=mp.p?mp.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},gp={},vp=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+vp(e[n]);return t}return e},yp=(e,t,n,r,i)=>{let s=vp(e),a=gp[s]||(gp[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!gp[a]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=hp.exec(e.replace(fp,""));)t[4]?r.shift():t[3]?(n=t[3].replace(pp," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(pp," ").trim();return r[0]})(e);gp[a]=mp(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let o=n&&gp.g?gp.g:null;return n&&(gp.g=gp[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(gp[a],t,r,o),a};function bp(e){let t=this||{},n=e.call?e(t.p):e;return yp(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":mp(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,dp(t.target),t.g,t.o,t.k)}bp.bind({g:1});let xp,wp,_p,kp=bp.bind({k:1});function Np(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:wp&&wp()},o),n.o=/ *go\d+/.test(l),o.className=bp.apply(n,r)+(l?" "+l:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),_p&&c[0]&&_p(o),xp(c,o)}return t?t(i):i}}var Ep,Sp,Cp,Tp,jp,Ip,Ap,Rp,Pp,Op,Dp,Lp,Mp,Fp,Vp,Up,zp=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Bp=(()=>{let e=0;return()=>(++e).toString()})(),qp=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Hp="default",Wp=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return(0,qe.A)((0,qe.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return(0,qe.A)((0,qe.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,qe.A)((0,qe.A)({},e),t.toast):e)});case 2:let{toast:r}=t;return Wp(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return(0,qe.A)((0,qe.A)({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?(0,qe.A)((0,qe.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,qe.A)((0,qe.A)({},e),{},{toasts:[]}):(0,qe.A)((0,qe.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,qe.A)((0,qe.A)({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return(0,qe.A)((0,qe.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,qe.A)((0,qe.A)({},e),{},{pauseDuration:e.pauseDuration+s}))})}},Kp=[],Gp={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Qp={},Xp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hp;Qp[t]=Wp(Qp[t]||Gp,e),Kp.forEach(e=>{let[n,r]=e;n===t&&r(Qp[t])})},Yp=e=>Object.keys(Qp).forEach(t=>Xp(e,t)),$p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hp;return t=>{Xp(t,e)}},Jp=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return(0,qe.A)((0,qe.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||Bp()})}(t,e,n);return $p(r.toasterId||(e=>Object.keys(Qp).find(t=>Qp[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Zp=(e,t)=>Jp("blank")(e,t);Zp.error=Jp("error"),Zp.success=Jp("success"),Zp.loading=Jp("loading"),Zp.custom=Jp("custom"),Zp.dismiss=(e,t)=>{let n={type:3,toastId:e};t?$p(t)(n):Yp(n)},Zp.dismissAll=e=>Zp.dismiss(void 0,e),Zp.remove=(e,t)=>{let n={type:4,toastId:e};t?$p(t)(n):Yp(n)},Zp.removeAll=e=>Zp.remove(void 0,e),Zp.promise=(e,t,n)=>{let r=Zp.loading(t.loading,(0,qe.A)((0,qe.A)({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?zp(t.success,e):void 0;return i?Zp.success(i,(0,qe.A)((0,qe.A)({id:r},n),null==n?void 0:n.success)):Zp.dismiss(r),e}).catch(e=>{let i=t.error?zp(t.error,e):void 0;i?Zp.error(i,(0,qe.A)((0,qe.A)({id:r},n),null==n?void 0:n.error)):Zp.dismiss(r)}),e};var em=kp(Ep||(Ep=cp(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),tm=kp(Sp||(Sp=cp(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),nm=kp(Cp||(Cp=cp(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),rm=Np("div")(Tp||(Tp=cp(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",em,tm,e=>e.secondary||"#fff",nm),im=kp(jp||(jp=cp(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),sm=Np("div")(Ip||(Ip=cp(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",im),am=kp(Ap||(Ap=cp(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),om=kp(Rp||(Rp=cp(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),lm=Np("div")(Pp||(Pp=cp(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",am,om,e=>e.secondary||"#fff"),cm=Np("div")(Op||(Op=cp(["\n  position: absolute;\n"]))),um=Np("div")(Dp||(Dp=cp(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),dm=kp(Lp||(Lp=cp(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),hm=Np("div")(Mp||(Mp=cp(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),dm),fm=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:s}=t;return void 0!==n?"string"==typeof n?i.createElement(hm,null,n):n:"blank"===r?null:i.createElement(um,null,i.createElement(sm,(0,qe.A)({},s)),"loading"!==r&&i.createElement(cm,null,"error"===r?i.createElement(rm,(0,qe.A)({},s)):i.createElement(lm,(0,qe.A)({},s))))},pm=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),mm=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),gm=Np("div")(Fp||(Fp=cp(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),vm=Np("div")(Vp||(Vp=cp(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"])));i.memo(e=>{let{toast:t,position:n,style:r,children:s}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=qp()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[pm(n),mm(n)];return{animation:t?"".concat(kp(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(kp(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=i.createElement(fm,{toast:t}),l=i.createElement(vm,(0,qe.A)({},t.ariaProps),zp(t.message,t));return i.createElement(gm,{className:t.className,style:(0,qe.A)((0,qe.A)((0,qe.A)({},a),r),t.style)},"function"==typeof s?s({icon:o,message:l}):i.createElement(i.Fragment,null,o,l))});!function(e,t,n,r){mp.p=t,xp=e,wp=n,_p=r}(i.createElement);bp(Up||(Up=cp(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"])));var ym=Zp;const bm=qu("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),xm=qu("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),wm=qu("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),_m=qu("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),km=qu("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Nm=qu("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Em=qu("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Sm=()=>{var e,t,n,r,s,a,o,l,c;const{orgSettings:u,orgId:d,userData:h,refreshSettings:f,isAdmin:p}=Du(),[m,g]=(0,i.useState)("identite"),[v,y]=(0,i.useState)(!1),[b,x]=(0,i.useState)(!1),[w,_]=(0,i.useState)(null),{register:k,handleSubmit:N,reset:E,formState:{errors:S,isDirty:C}}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=i.useRef(void 0),n=i.useRef(void 0),[r,s]=i.useState({isDirty:!1,isValidating:!1,isLoading:Af(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Af(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=(0,qe.A)((0,qe.A)({},e.formControl),{},{formState:r}),e.defaultValues&&!Af(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const n=ap(e),{formControl:i}=n,s=Uu(n,Uh);t.current=(0,qe.A)((0,qe.A)({},s),{},{formState:r})}const a=t.current.control;return a._options=e,xf(()=>{const e=a._subscribe({formState:a._proxyFormState,callback:()=>s((0,qe.A)({},a._formState)),reRenderRoot:!0});return s(e=>(0,qe.A)((0,qe.A)({},e),{},{isReady:!0})),a._formState.isReady=!0,e},[a]),i.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),i.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),i.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),i.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),i.useEffect(()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==r.isDirty&&a._subjects.state.next({isDirty:e})}},[a,r.isDirty]),i.useEffect(()=>{var t;e.values&&!Nf(e.values,n.current)?(a._reset(e.values,(0,qe.A)({keepFieldsRef:!0},a._options.resetOptions)),(null===(t=a._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||a._setValid(),n.current=e.values,s(e=>(0,qe.A)({},e))):a._resetDefaultValues()},[a,e.values]),i.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next((0,qe.A)({},a._formState))),a._removeUnmounted()}),t.current.formState=bf(r,a),t.current}();(0,i.useEffect)(()=>{u&&(E(u),_(u.logo_url))},[u,E]);const T=[{id:"identite",label:"Identit\xe9",icon:$u},{id:"coordonnees",label:"Coordonn\xe9es",icon:Eh},{id:"legal",label:"Informations l\xe9gales",icon:th},{id:"bancaire",label:"Bancaire",icon:bm},{id:"apparence",label:"Apparence",icon:xm},{id:"notifications",label:"Notifications",icon:vd},{id:"espace_client",label:"Espace client",icon:Xu},{id:"licence",label:"Licence",icon:nd}];return u?(0,Pu.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,Pu.jsxs)("div",{className:"mb-8",children:[(0,Pu.jsxs)("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[(0,Pu.jsx)(_m,{className:"w-7 h-7 text-blue-500"}),"Param\xe8tres de l'organisation"]}),(0,Pu.jsx)("p",{className:"text-slate-500 mt-1",children:"Configurez les informations de votre entreprise"})]}),(0,Pu.jsxs)("div",{className:"flex gap-6",children:[(0,Pu.jsx)("div",{className:"w-64 flex-shrink-0",children:(0,Pu.jsx)("nav",{className:"space-y-1",children:T.map(e=>{const t=e.icon;return(0,Pu.jsxs)("button",{onClick:()=>g(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all ".concat(m===e.id?"bg-blue-50 text-blue-600 font-medium":"text-slate-600 hover:bg-slate-50"),children:[(0,Pu.jsx)(t,{className:"w-5 h-5"}),e.label]},e.id)})})}),(0,Pu.jsx)("div",{className:"flex-1",children:(0,Pu.jsxs)("form",{onSubmit:N(async e=>{if(p()){y(!0);try{await op(d,h.uid,e),await f(),ym.success("Param\xe8tres enregistr\xe9s")}catch(t){console.error("Erreur sauvegarde:",t),ym.error("Erreur lors de la sauvegarde")}finally{y(!1)}}else ym.error("Seul un administrateur peut modifier les param\xe8tres")}),children:[(0,Pu.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:["identite"===m&&(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsx)("h2",{className:"text-lg font-semibold text-slate-800 pb-4 border-b",children:"Identit\xe9 de l'entreprise"}),(0,Pu.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Pu.jsxs)("div",{className:"col-span-2",children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Raison sociale *"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("nom",{required:"Raison sociale requise"})),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nom de votre entreprise"})),S.nom&&(0,Pu.jsx)("p",{className:"mt-1 text-sm text-red-500",children:S.nom.message})]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Forme juridique"}),(0,Pu.jsxs)("select",(0,qe.A)((0,qe.A)({},k("forme_juridique")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Pu.jsx)("option",{value:"",children:"S\xe9lectionner"}),(0,Pu.jsx)("option",{value:"SAS",children:"SAS"}),(0,Pu.jsx)("option",{value:"SARL",children:"SARL"}),(0,Pu.jsx)("option",{value:"SA",children:"SA"}),(0,Pu.jsx)("option",{value:"EURL",children:"EURL"}),(0,Pu.jsx)("option",{value:"EI",children:"Entreprise Individuelle"}),(0,Pu.jsx)("option",{value:"Auto-entrepreneur",children:"Auto-entrepreneur"})]}))]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Capital social"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("capital")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 10 000 \u20ac"}))]})]})]}),"coordonnees"===m&&(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsx)("h2",{className:"text-lg font-semibold text-slate-800 pb-4 border-b",children:"Coordonn\xe9es"}),(0,Pu.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Pu.jsxs)("div",{className:"col-span-2",children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Adresse"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("adresse")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Num\xe9ro et nom de rue"}))]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Code postal"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("code_postal")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"75001"}))]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ville"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("ville")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Paris"}))]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"T\xe9l\xe9phone"}),(0,Pu.jsxs)("div",{className:"relative",children:[(0,Pu.jsx)(jd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"tel"},k("telephone")),{},{className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+33 1 23 45 67 89"}))]})]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),(0,Pu.jsxs)("div",{className:"relative",children:[(0,Pu.jsx)(Oh,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"email"},k("email")),{},{className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contact@entreprise.fr"}))]})]}),(0,Pu.jsxs)("div",{className:"col-span-2",children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Site web"}),(0,Pu.jsxs)("div",{className:"relative",children:[(0,Pu.jsx)(km,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"url"},k("site_web")),{},{className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://www.entreprise.fr"}))]})]})]})]}),"legal"===m&&(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsx)("h2",{className:"text-lg font-semibold text-slate-800 pb-4 border-b",children:"Informations l\xe9gales"}),(0,Pu.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"SIRET"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("siret")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"XXX XXX XXX XXXXX"}))]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"SIREN"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("siren")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"XXX XXX XXX"}))]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Code APE"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("code_ape")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"XXXX X"}))]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"RCS"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("rcs")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ville du RCS"}))]}),(0,Pu.jsxs)("div",{className:"col-span-2",children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"N\xb0 TVA Intracommunautaire"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("tva_intracommunautaire")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"FR XX XXX XXX XXX"}))]}),(0,Pu.jsxs)("div",{className:"col-span-2",children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Lien CGV"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"url"},k("cgv_url")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://www.entreprise.fr/cgv"}))]}),(0,Pu.jsxs)("div",{className:"col-span-2",children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Mention l\xe9gale pied de page (documents)"}),(0,Pu.jsx)("textarea",(0,qe.A)((0,qe.A)({},k("mention_legale_pied_page")),{},{rows:3,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Toute commande implique l'acceptation des CGV..."}))]})]})]}),"bancaire"===m&&(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsx)("h2",{className:"text-lg font-semibold text-slate-800 pb-4 border-b",children:"Coordonn\xe9es bancaires"}),(0,Pu.jsx)("p",{className:"text-sm text-slate-500 -mt-2",children:"Ces informations appara\xeetront sur vos factures"}),(0,Pu.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Pu.jsxs)("div",{className:"col-span-2",children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"IBAN"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("iban")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"FR76 XXXX XXXX XXXX XXXX XXXX XXX"}))]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"BIC"}),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("bic")),{},{className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"XXXXXXXX"}))]})]})]}),"apparence"===m&&(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsx)("h2",{className:"text-lg font-semibold text-slate-800 pb-4 border-b",children:"Apparence"}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-4",children:"Logo de l'entreprise"}),(0,Pu.jsxs)("div",{className:"flex items-start gap-6",children:[(0,Pu.jsx)("div",{className:"w-40 h-24 bg-slate-100 rounded-xl flex items-center justify-center overflow-hidden border-2 border-dashed border-slate-300",children:w?(0,Pu.jsx)("img",{src:w,alt:"Logo",className:"max-w-full max-h-full object-contain"}):(0,Pu.jsx)("span",{className:"text-slate-400 text-sm",children:"Aucun logo"})}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsxs)("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-xl cursor-pointer hover:bg-blue-100 transition-colors",children:[b?(0,Pu.jsx)(wm,{className:"w-5 h-5 animate-spin"}):(0,Pu.jsx)(Nd,{className:"w-5 h-5"}),b?"Upload...":"Changer le logo",(0,Pu.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>_(e.target.result),n.readAsDataURL(t),x(!0);try{const e=await lp(d,h.uid,t);_(e),await f(),ym.success("Logo mis \xe0 jour")}catch(r){console.error("Erreur upload:",r),ym.error(r.message||"Erreur lors de l'upload"),_(null===u||void 0===u?void 0:u.logo_url)}finally{x(!1)}},className:"hidden",disabled:b})]}),(0,Pu.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["PNG ou JPG, max 2 Mo",(0,Pu.jsx)("br",{}),"Dimensions recommand\xe9es : 300x100 px"]})]})]})]}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Couleur primaire"}),(0,Pu.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"color"},k("couleur_primaire")),{},{className:"w-12 h-12 rounded-xl cursor-pointer border-0"})),(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"text"},k("couleur_primaire")),{},{className:"w-32 px-4 py-2 border border-slate-200 rounded-xl font-mono text-sm",placeholder:"#1E3A5F"}))]})]})]}),"notifications"===m&&(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsx)("h2",{className:"text-lg font-semibold text-slate-800 pb-4 border-b",children:"Notifications automatiques"}),(0,Pu.jsxs)("div",{className:"space-y-4",children:[(0,Pu.jsx)("h3",{className:"font-medium text-slate-700",children:"Notifications clients"}),[{key:"notifications.client_rapport_disponible",label:"Rapport disponible"},{key:"notifications.client_devis_cree",label:"Nouveau devis"},{key:"notifications.client_relance_devis",label:"Relance devis sans r\xe9ponse"},{key:"notifications.client_facture_emise",label:"Facture \xe9mise"},{key:"notifications.client_relance_facture",label:"Relance facture impay\xe9e"},{key:"notifications.client_alerte_critique",label:"Alerte critique"},{key:"notifications.client_rappel_maintenance",label:"Rappel maintenance"}].map(e=>(0,Pu.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"checkbox"},k(e.key)),{},{className:"w-5 h-5 rounded border-slate-300 text-blue-500 focus:ring-blue-500"})),(0,Pu.jsx)("span",{className:"text-slate-600",children:e.label})]},e.key))]}),(0,Pu.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,Pu.jsx)("h3",{className:"font-medium text-slate-700",children:"Notifications sous-traitants"}),[{key:"notifications.stt_mission_assignee",label:"Mission assign\xe9e"},{key:"notifications.stt_mission_modifiee",label:"Mission modifi\xe9e"},{key:"notifications.stt_rappel_j1",label:"Rappel J-1"}].map(e=>(0,Pu.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"checkbox"},k(e.key)),{},{className:"w-5 h-5 rounded border-slate-300 text-blue-500 focus:ring-blue-500"})),(0,Pu.jsx)("span",{className:"text-slate-600",children:e.label})]},e.key))]})]}),"espace_client"===m&&(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsx)("h2",{className:"text-lg font-semibold text-slate-800 pb-4 border-b",children:"Espace client en ligne"}),(0,Pu.jsx)("p",{className:"text-sm text-slate-500 -mt-2",children:"Choisissez les informations visibles par vos clients"}),(0,Pu.jsx)("div",{className:"space-y-4",children:[{key:"espace_client.sites_visible",label:"Mes sites"},{key:"espace_client.materiel_visible",label:"Mat\xe9riel install\xe9"},{key:"espace_client.historique_interventions_visible",label:"Historique interventions"},{key:"espace_client.devis_visible",label:"Devis"},{key:"espace_client.factures_visible",label:"Factures"},{key:"espace_client.rapports_visible",label:"Rapports"},{key:"espace_client.alertes_visible",label:"Alertes"},{key:"espace_client.planning_visible",label:"Planning interventions"},{key:"espace_client.contrats_visible",label:"Contrats de maintenance"}].map(e=>(0,Pu.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Pu.jsx)("input",(0,qe.A)((0,qe.A)({type:"checkbox"},k(e.key)),{},{className:"w-5 h-5 rounded border-slate-300 text-blue-500 focus:ring-blue-500"})),(0,Pu.jsx)("span",{className:"text-slate-600",children:e.label})]},e.key))})]}),"licence"===m&&(0,Pu.jsxs)("div",{className:"space-y-6",children:[(0,Pu.jsx)("h2",{className:"text-lg font-semibold text-slate-800 pb-4 border-b",children:"Informations de licence"}),(0,Pu.jsxs)("div",{className:"bg-slate-50 rounded-xl p-6 space-y-4",children:[(0,Pu.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pu.jsx)("span",{className:"text-slate-600",children:"Cl\xe9 de licence"}),(0,Pu.jsx)("span",{className:"font-mono font-medium",children:(null===(e=u.licence)||void 0===e?void 0:e.cle)||"N/A"})]}),(0,Pu.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pu.jsx)("span",{className:"text-slate-600",children:"Plan"}),(0,Pu.jsx)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium capitalize",children:(null===(t=u.licence)||void 0===t?void 0:t.plan)||"N/A"})]}),(0,Pu.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pu.jsx)("span",{className:"text-slate-600",children:"Statut"}),(0,Pu.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ".concat("actif"===(null===(n=u.licence)||void 0===n?void 0:n.statut)?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:["actif"===(null===(r=u.licence)||void 0===r?void 0:r.statut)?(0,Pu.jsx)(Nm,{className:"w-4 h-4"}):(0,Pu.jsx)(ch,{className:"w-4 h-4"}),(null===(s=u.licence)||void 0===s?void 0:s.statut)||"N/A"]})]}),(0,Pu.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pu.jsx)("span",{className:"text-slate-600",children:"Modules actifs"}),(0,Pu.jsx)("div",{className:"flex gap-2",children:null===(a=u.licence)||void 0===a||null===(o=a.modules_actifs)||void 0===o?void 0:o.map(e=>(0,Pu.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-slate-200 text-slate-700 rounded text-xs font-medium capitalize",children:e},e))})]}),(0,Pu.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,Pu.jsx)("span",{className:"text-slate-600",children:"Expiration"}),(0,Pu.jsx)("span",{className:"font-medium",children:null!==(l=u.licence)&&void 0!==l&&null!==(c=l.date_expiration)&&void 0!==c&&c.toDate?u.licence.date_expiration.toDate().toLocaleDateString("fr-FR"):"N/A"})]})]}),(0,Pu.jsx)("p",{className:"text-sm text-slate-500",children:"Pour modifier votre abonnement ou ajouter des modules, contactez le support."})]})]}),"licence"!==m&&(0,Pu.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Pu.jsxs)("button",{type:"submit",disabled:v||!C,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-xl shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[v?(0,Pu.jsx)(wm,{className:"w-5 h-5 animate-spin"}):(0,Pu.jsx)(Em,{className:"w-5 h-5"}),"Enregistrer les modifications"]})})]})})]})]}):(0,Pu.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Pu.jsx)(wm,{className:"w-8 h-8 animate-spin text-blue-500"})})},Cm=qu("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Tm=qu("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),jm=qu("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Im=qu("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Am=()=>{var e,t,n,r,s,a;const o=re(),l=te(),{userData:c,logout:u}=Du(),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),v=async()=>{try{await u(),p(!1),o("/login")}catch(e){console.error("Erreur d\xe9connexion:",e)}},y=[{name:"Dashboard",path:"/dashboard",icon:Cm},{name:"Planning",path:"/planning",icon:gd},{name:"Interventions",path:"/interventions",icon:Wu,badge:5},{name:"Clients",path:"/clients",icon:Xu},{name:"Sites",path:"/sites",icon:$u},{name:"Devis",path:"/devis",icon:th,badge:3},{name:"Factures",path:"/factures",icon:ah,badgeDanger:2},{name:"Utilisateurs",path:"/utilisateurs",icon:ih},{name:"Param\xe8tres",path:"/settings",icon:_m}],b=[{name:"Export Comptable",path:"/export-comptable",icon:Ph},{name:"Donn\xe9es Client",path:"/donnees-client",icon:Tm}],x=[{id:"energie",name:"\xc9nergie",icon:hd,active:!0},{id:"incendie",name:"Incendie",icon:nd,active:!0}],w=e=>{let{item:t}=e;const n=l.pathname===t.path;return(0,Pu.jsxs)(Me,{to:t.path,className:"group flex items-center gap-3 px-3 py-2.5 rounded-xl mx-2 transition-all duration-200 relative ".concat(n?"bg-white/20 text-white shadow-lg backdrop-blur-sm":"text-blue-100 hover:bg-white/10 hover:text-white"),children:[(0,Pu.jsx)(t.icon,{className:"w-5 h-5 flex-shrink-0 transition-transform duration-200 ".concat(n?"":"group-hover:scale-110")}),!d&&(0,Pu.jsxs)(Pu.Fragment,{children:[(0,Pu.jsx)("span",{className:"font-medium flex-1",children:t.name}),t.badge&&(0,Pu.jsx)("span",{className:"px-2 py-0.5 text-xs font-bold rounded-full ".concat(n?"bg-white/30":"bg-white/20"),children:t.badge}),t.badgeDanger&&(0,Pu.jsx)("span",{className:"px-2 py-0.5 text-xs font-bold rounded-full bg-red-500 text-white",children:t.badgeDanger})]}),d&&(0,Pu.jsx)("div",{className:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-white text-sm font-medium rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50 shadow-xl",children:t.name})]})};return(0,Pu.jsxs)("div",{className:"min-h-screen bg-slate-100",children:[(0,Pu.jsxs)("aside",{className:"fixed top-0 left-0 h-full bg-gradient-to-b from-blue-600 via-indigo-600 to-purple-700 transition-all duration-300 ease-out z-40 hidden lg:flex flex-col ".concat(d?"w-20":"w-64"),children:[(0,Pu.jsx)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-white/10",children:(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center shadow-lg",children:(0,Pu.jsx)(hd,{className:"w-6 h-6 text-white"})}),!d&&(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("h1",{className:"font-bold text-white",children:"EasyLog Pro"}),(0,Pu.jsx)("p",{className:"text-xs text-blue-200",children:"Gestion \xc9nergie"})]})]})}),(0,Pu.jsx)("nav",{className:"flex-1 py-4 space-y-1 overflow-y-auto",children:y.map(e=>(0,Pu.jsx)(w,{item:e},e.path))}),(0,Pu.jsxs)("div",{className:"border-t border-white/10",children:[(0,Pu.jsx)("div",{className:"py-3 space-y-1",children:b.map(e=>(0,Pu.jsx)(w,{item:e},e.path))}),!d&&(0,Pu.jsxs)("div",{className:"px-4 py-3 border-t border-white/10",children:[(0,Pu.jsx)("p",{className:"text-xs font-semibold text-blue-200 uppercase tracking-wider mb-2",children:"Modules actifs"}),(0,Pu.jsx)("div",{className:"flex flex-wrap gap-2",children:x.filter(e=>e.active).map(e=>(0,Pu.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-white/10 rounded-lg text-xs font-medium text-white",children:[(0,Pu.jsx)(e.icon,{className:"w-3 h-3"}),e.name]},e.id))})]})]}),(0,Pu.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,Pu.jsxs)("div",{className:"flex items-center ".concat(d?"justify-center":"gap-3"),children:[(0,Pu.jsxs)("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white font-bold shadow-lg",children:[(null===c||void 0===c||null===(e=c.prenom)||void 0===e?void 0:e[0])||"U",(null===c||void 0===c||null===(t=c.nom)||void 0===t?void 0:t[0])||"A"]}),!d&&(0,Pu.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pu.jsxs)("p",{className:"font-medium text-white truncate",children:[null===c||void 0===c?void 0:c.prenom," ",null===c||void 0===c?void 0:c.nom]}),(0,Pu.jsx)("p",{className:"text-xs text-blue-200 truncate",children:null===c||void 0===c?void 0:c.role})]}),(0,Pu.jsx)("button",{onClick:v,className:"p-2 rounded-lg text-blue-200 hover:text-white hover:bg-white/10 transition-colors",title:"D\xe9connexion",children:(0,Pu.jsx)(jm,{className:"w-5 h-5"})})]})}),(0,Pu.jsx)("button",{onClick:()=>h(!d),className:"absolute -right-3 top-20 w-6 h-6 rounded-full bg-white border border-gray-200 shadow-md flex items-center justify-center text-gray-400 hover:text-gray-600 transition-colors",children:d?(0,Pu.jsx)(bd,{className:"w-4 h-4"}):(0,Pu.jsx)(Ed,{className:"w-4 h-4"})})]}),(0,Pu.jsxs)("header",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 z-40 flex items-center justify-between px-4",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("button",{onClick:()=>p(!0),className:"p-2 rounded-lg text-white/80 hover:text-white hover:bg-white/10",children:(0,Pu.jsx)(Im,{className:"w-6 h-6"})}),(0,Pu.jsx)("div",{className:"w-8 h-8 rounded-lg bg-white/20 flex items-center justify-center",children:(0,Pu.jsx)(hd,{className:"w-5 h-5 text-white"})}),(0,Pu.jsx)("span",{className:"font-bold text-white",children:"EasyLog Pro"})]}),(0,Pu.jsxs)("button",{onClick:()=>g(!m),className:"relative p-2 rounded-lg text-white/80 hover:text-white hover:bg-white/10",children:[(0,Pu.jsx)(vd,{className:"w-6 h-6"}),(0,Pu.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})]}),f&&(0,Pu.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-50",onClick:()=>p(!1)}),(0,Pu.jsxs)("aside",{className:"lg:hidden fixed top-0 left-0 h-full w-72 bg-gradient-to-b from-blue-600 via-indigo-600 to-purple-700 z-50 transform transition-transform duration-300 flex flex-col ".concat(f?"translate-x-0":"-translate-x-full"),children:[(0,Pu.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-white/10 flex-shrink-0",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",children:(0,Pu.jsx)(hd,{className:"w-6 h-6 text-white"})}),(0,Pu.jsx)("h1",{className:"font-bold text-white",children:"EasyLog Pro"})]}),(0,Pu.jsx)("button",{onClick:()=>p(!1),className:"p-2 rounded-lg text-white/80 hover:text-white hover:bg-white/10",children:(0,Pu.jsx)(kd,{className:"w-5 h-5"})})]}),(0,Pu.jsxs)("nav",{className:"flex-1 py-4 space-y-1 overflow-y-auto",children:[y.map(e=>(0,Pu.jsxs)(Me,{to:e.path,onClick:()=>p(!1),className:e=>{let{isActive:t}=e;return"flex items-center gap-3 px-4 py-3 mx-2 rounded-xl ".concat(t?"bg-white/20 text-white":"text-blue-100 hover:bg-white/10")},children:[(0,Pu.jsx)(e.icon,{className:"w-5 h-5"}),(0,Pu.jsx)("span",{className:"font-medium flex-1",children:e.name}),e.badge&&(0,Pu.jsx)("span",{className:"px-2 py-0.5 text-xs font-bold rounded-full bg-white/20",children:e.badge}),e.badgeDanger&&(0,Pu.jsx)("span",{className:"px-2 py-0.5 text-xs font-bold rounded-full bg-red-500 text-white",children:e.badgeDanger})]},e.path)),(0,Pu.jsx)("div",{className:"border-t border-white/10 mt-2 pt-2 mx-2",children:b.map(e=>(0,Pu.jsxs)(Me,{to:e.path,onClick:()=>p(!1),className:e=>{let{isActive:t}=e;return"flex items-center gap-3 px-4 py-3 rounded-xl ".concat(t?"bg-white/20 text-white":"text-blue-100 hover:bg-white/10")},children:[(0,Pu.jsx)(e.icon,{className:"w-5 h-5"}),(0,Pu.jsx)("span",{className:"font-medium",children:e.name})]},e.path))})]}),(0,Pu.jsxs)("div",{className:"px-4 py-3 border-t border-white/10 flex-shrink-0",children:[(0,Pu.jsx)("p",{className:"text-xs font-semibold text-blue-200 uppercase tracking-wider mb-2",children:"Modules actifs"}),(0,Pu.jsx)("div",{className:"flex flex-wrap gap-2",children:x.filter(e=>e.active).map(e=>(0,Pu.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-white/10 rounded-lg text-sm font-medium text-white",children:[(0,Pu.jsx)(e.icon,{className:"w-4 h-4"}),e.name]},e.id))})]}),(0,Pu.jsxs)("div",{className:"p-4 border-t border-white/10 flex-shrink-0",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Pu.jsxs)("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center text-white font-bold text-lg shadow-lg",children:[(null===c||void 0===c||null===(n=c.prenom)||void 0===n?void 0:n[0])||"U",(null===c||void 0===c||null===(r=c.nom)||void 0===r?void 0:r[0])||"A"]}),(0,Pu.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pu.jsxs)("p",{className:"font-medium text-white truncate",children:[null===c||void 0===c?void 0:c.prenom," ",null===c||void 0===c?void 0:c.nom]}),(0,Pu.jsx)("p",{className:"text-sm text-blue-200 truncate",children:null===c||void 0===c?void 0:c.role})]})]}),(0,Pu.jsxs)("button",{onClick:v,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-white font-medium transition-colors",children:[(0,Pu.jsx)(jm,{className:"w-5 h-5"}),(0,Pu.jsx)("span",{children:"Se d\xe9connecter"})]})]})]}),(0,Pu.jsxs)("header",{className:"hidden lg:flex fixed top-0 right-0 h-16 bg-white/80 backdrop-blur-lg border-b border-gray-200 items-center justify-between px-6 z-30 transition-all duration-300 ".concat(d?"left-20":"left-64"),children:[(0,Pu.jsxs)("div",{className:"relative w-96",children:[(0,Pu.jsx)(jh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Pu.jsx)("input",{type:"text",placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-100 border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200 focus:outline-none"}),(0,Pu.jsx)("kbd",{className:"absolute right-3 top-1/2 -translate-y-1/2 px-2 py-1 bg-gray-200 text-gray-500 text-xs rounded",children:"\u2318K"})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pu.jsxs)("div",{className:"relative",children:[(0,Pu.jsxs)("button",{onClick:()=>g(!m),className:"relative p-2.5 rounded-xl bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-gray-900 transition-colors",children:[(0,Pu.jsx)(vd,{className:"w-5 h-5"}),(0,Pu.jsx)("span",{className:"absolute top-1.5 right-1.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]}),m&&(0,Pu.jsxs)(Pu.Fragment,{children:[(0,Pu.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)}),(0,Pu.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-2xl shadow-2xl border border-gray-100 z-50 overflow-hidden",children:[(0,Pu.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,Pu.jsx)("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),(0,Pu.jsx)("div",{className:"max-h-80 overflow-y-auto",children:[{id:1,title:"SSI non conforme - Site Carrefour",type:"danger",time:"2h"},{id:2,title:"Devis valid\xe9 - Martin SAS",type:"success",time:"4h"},{id:3,title:"Maintenance \xe0 planifier",type:"warning",time:"1j"}].map(e=>(0,Pu.jsx)("div",{className:"p-4 hover:bg-gray-50 cursor-pointer border-b border-gray-50 last:border-0",children:(0,Pu.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Pu.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 ".concat("danger"===e.type?"bg-red-500":""," ").concat("success"===e.type?"bg-emerald-500":""," ").concat("warning"===e.type?"bg-amber-500":"")}),(0,Pu.jsxs)("div",{className:"flex-1",children:[(0,Pu.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Pu.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:["Il y a ",e.time]})]})]})},e.id))}),(0,Pu.jsx)("div",{className:"p-3 border-t border-gray-100",children:(0,Pu.jsx)("button",{className:"w-full text-center text-sm text-blue-600 font-medium hover:text-blue-700",children:"Voir toutes les notifications"})})]})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[(0,Pu.jsxs)("div",{children:[(0,Pu.jsxs)("p",{className:"text-sm font-medium text-gray-900 text-right",children:[null===c||void 0===c?void 0:c.prenom," ",null===c||void 0===c?void 0:c.nom]}),(0,Pu.jsx)("p",{className:"text-xs text-gray-500 text-right",children:null===c||void 0===c?void 0:c.role})]}),(0,Pu.jsxs)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold shadow-lg shadow-blue-500/25",children:[(null===c||void 0===c||null===(s=c.prenom)||void 0===s?void 0:s[0])||"U",(null===c||void 0===c||null===(a=c.nom)||void 0===a?void 0:a[0])||"A"]})]})]})]}),(0,Pu.jsx)("main",{className:"pt-16 lg:pt-16 min-h-screen transition-all duration-300 ".concat(d?"lg:pl-20":"lg:pl-64"),children:(0,Pu.jsx)("div",{className:"p-4 lg:p-6",children:(0,Pu.jsx)(xe,{})})})]})},Rm=qu("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Pm=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),s=(0,i.useCallback)(async()=>{try{const e=await fetch("/version.json?t=".concat(Date.now()));if(!e.ok)return;const i=await e.json();n?i.version!==n&&t(!0):(r(i.version),localStorage.setItem("app_version",i.version))}catch(e){console.log("Version check skipped")}},[n]);(0,i.useEffect)(()=>{const e=localStorage.getItem("app_version");e&&r(e),s();const t=setInterval(s,3e5),n=()=>{"visible"===document.visibilityState&&s()};return document.addEventListener("visibilitychange",n),()=>{clearInterval(t),document.removeEventListener("visibilitychange",n)}},[s]);return{newVersionAvailable:e,refreshApp:(0,i.useCallback)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(e=>e.unregister())}),"caches"in window&&caches.keys().then(e=>{e.forEach(e=>caches.delete(e))}),window.location.reload(!0)},[]),currentVersion:n}},Om=()=>{const{newVersionAvailable:e,refreshApp:t}=Pm(),[n,r]=i.useState(!1);return!e||n?null:(0,Pu.jsx)("div",{className:"fixed top-0 left-0 right-0 z-[100] bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-3 shadow-lg",children:(0,Pu.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center animate-pulse",children:(0,Pu.jsx)(Rm,{className:"w-5 h-5"})}),(0,Pu.jsxs)("div",{children:[(0,Pu.jsx)("p",{className:"font-semibold",children:"Nouvelle version disponible !"}),(0,Pu.jsx)("p",{className:"text-sm text-blue-100",children:"Actualisez pour b\xe9n\xe9ficier des derni\xe8res am\xe9liorations."})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pu.jsxs)("button",{onClick:t,className:"px-4 py-2 bg-white text-blue-600 font-bold rounded-lg hover:bg-blue-50 transition-colors flex items-center gap-2",children:[(0,Pu.jsx)(Rm,{className:"w-4 h-4"}),"Actualiser"]}),(0,Pu.jsx)("button",{onClick:()=>r(!0),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Ignorer",children:(0,Pu.jsx)(kd,{className:"w-5 h-5"})})]})]})})},Dm=qu("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Lm=qu("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Mm=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{const e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=(0,Qe.Ku)(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Nl(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Nl(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof xl)d=gl(e.firestore,El),h=_r(e._key.path),u={next:t=>{n[l]&&n[l](dc(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=gl(e,bl);d=gl(t.firestore,El),h=t._query;const r=new cc(d);u={next:e=>{n[l]&&n[l](new ac(d,r,t,e))},error:n[l+1],complete:n[l+2]},tc(e._query)}return function(e,t,n,r){const i=new el(r),s=new _o(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>mo(await cl(e),s)),()=>{i.Za(),e.asyncQueue.enqueueAndForget(async()=>go(await cl(e),s))}}(Sl(d),h,c,u)}(_l(Au,"settings","announcement"),e=>{if(e.exists()){const n=e.data();n.active?(t(n),r(!1)):t(null)}},e=>{console.log("Announcement listener error:",e)});return()=>e()},[]),!e||n)return null;const s={incident:{bg:"bg-gradient-to-r from-red-600 to-rose-600",icon:Dm,iconBg:"bg-white/20"},warning:{bg:"bg-gradient-to-r from-amber-500 to-orange-500",icon:oh,iconBg:"bg-white/20"},info:{bg:"bg-gradient-to-r from-blue-500 to-indigo-500",icon:uh,iconBg:"bg-white/20"},success:{bg:"bg-gradient-to-r from-emerald-500 to-green-500",icon:Nm,iconBg:"bg-white/20"}},a=s[e.type]||s.info,o=a.icon;return(0,Pu.jsx)("div",{className:"fixed top-0 left-0 right-0 z-[99] ".concat(a.bg," text-white px-4 py-3 shadow-lg"),children:(0,Pu.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[(0,Pu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pu.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(a.iconBg," flex items-center justify-center"),children:(0,Pu.jsx)(o,{className:"w-5 h-5"})}),(0,Pu.jsxs)("div",{className:"flex-1",children:[(0,Pu.jsx)("p",{className:"font-medium",children:e.message}),e.details&&(0,Pu.jsx)("p",{className:"text-sm opacity-90",children:e.details})]})]}),(0,Pu.jsxs)("div",{className:"flex items-center gap-2",children:[e.link&&(0,Pu.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors flex items-center gap-1",children:["En savoir plus ",(0,Pu.jsx)(Lm,{className:"w-3 h-3"})]}),!1!==e.dismissable&&(0,Pu.jsx)("button",{onClick:()=>r(!0),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Fermer",children:(0,Pu.jsx)(kd,{className:"w-5 h-5"})})]})]})})},Fm=e=>{let{children:t}=e;const{isAuthenticated:n,loading:r}=Du();return r?(0,Pu.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-950",children:(0,Pu.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,Pu.jsx)("div",{className:"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"}),(0,Pu.jsx)("p",{className:"text-white/50 font-medium",children:"Chargement..."})]})}):n?t:(0,Pu.jsx)(be,{to:"/",replace:!0})},Vm=e=>{let{children:t}=e;const{isAuthenticated:n,loading:r}=Du();return r?(0,Pu.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-950",children:(0,Pu.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,Pu.jsx)("div",{className:"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"}),(0,Pu.jsx)("p",{className:"text-white/50 font-medium",children:"Chargement..."})]})}):n?(0,Pu.jsx)(be,{to:"/dashboard",replace:!0}):t},Um=e=>{let{title:t,icon:n}=e;return(0,Pu.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Pu.jsxs)("div",{className:"text-center",children:[n&&(0,Pu.jsx)(n,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),(0,Pu.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:t}),(0,Pu.jsx)("p",{className:"text-gray-500",children:"Module en cours de d\xe9veloppement"}),(0,Pu.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium",children:[(0,Pu.jsx)("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"Bient\xf4t disponible"]})]})})};const zm=function(){return(0,Pu.jsxs)(Vu,{children:[(0,Pu.jsx)(Om,{}),(0,Pu.jsx)(Mm,{}),(0,Pu.jsx)(Pe,{children:(0,Pu.jsxs)(ke,{children:[(0,Pu.jsx)(we,{path:"/",element:(0,Pu.jsx)(Vm,{children:(0,Pu.jsx)(eh,{})})}),(0,Pu.jsx)(we,{path:"/login",element:(0,Pu.jsx)(Vm,{children:(0,Pu.jsx)(eh,{})})}),(0,Pu.jsxs)(we,{element:(0,Pu.jsx)(Fm,{children:(0,Pu.jsx)(Am,{})}),children:[(0,Pu.jsx)(we,{path:"/dashboard",element:(0,Pu.jsx)(_h,{})}),(0,Pu.jsx)(we,{path:"/clients",element:(0,Pu.jsx)(Dh,{})}),(0,Pu.jsx)(we,{path:"/sites",element:(0,Pu.jsx)(Um,{title:"Sites"})}),(0,Pu.jsx)(we,{path:"/equipements",element:(0,Pu.jsx)(Um,{title:"\xc9quipements"})}),(0,Pu.jsx)(we,{path:"/planning",element:(0,Pu.jsx)(Um,{title:"Planning"})}),(0,Pu.jsx)(we,{path:"/interventions",element:(0,Pu.jsx)(Um,{title:"Interventions"})}),(0,Pu.jsx)(we,{path:"/devis",element:(0,Pu.jsx)(Um,{title:"Devis"})}),(0,Pu.jsx)(we,{path:"/factures",element:(0,Pu.jsx)(Um,{title:"Factures"})}),(0,Pu.jsx)(we,{path:"/rapports",element:(0,Pu.jsx)(Um,{title:"Rapports"})}),(0,Pu.jsx)(we,{path:"/simulateur-primes",element:(0,Pu.jsx)(Um,{title:"Simulateur Primes CEE / MaPrimeR\xe9nov"})}),(0,Pu.jsx)(we,{path:"/veille-reglementaire",element:(0,Pu.jsx)(Um,{title:"Veille R\xe9glementaire"})}),(0,Pu.jsx)(we,{path:"/utilisateurs",element:(0,Pu.jsx)(Um,{title:"Utilisateurs"})}),(0,Pu.jsx)(we,{path:"/settings",element:(0,Pu.jsx)(Sm,{})}),(0,Pu.jsx)(we,{path:"/export-comptable",element:(0,Pu.jsx)(Um,{title:"Export Comptable"})})]}),(0,Pu.jsx)(we,{path:"*",element:(0,Pu.jsx)(be,{to:"/",replace:!0})})]})})]})};a.createRoot(document.getElementById("root")).render((0,Pu.jsx)(i.StrictMode,{children:(0,Pu.jsx)(zm,{})}))})();
//# sourceMappingURL=main.5df94dcb.js.map